[{"title":"Endpoint: categories","tags":["API"],"url":"/api/categories/","content":" categoriesadd http POST apiv1categoriesaddext HTTP11 Host httpsyoursitevanillaforumscom Adds a new category Authenticationmakingapicalls required Parameters Parameter Type Description Name string The name of the category UrlCode string URL friendly category stub Description string Description of this category Sort integer Category sort order rank ParentCategoryID integer Parent Category ID use if no Name ParentCategory string Parent Category Name use if no ID Archived boolean Whether this category is archived Permissions array Custom permissions for the category This must be an array with one item per role Each item contains a role ID and the permissions to set PermissionsRoleID integer The ID of the role to set the permissions for Permissions boolean Each permission is a dotseparated key with a boolean value The basic permissions are VanillaDiscussionsView VanillaDiscussionsAdd VanillaDiscussionsEdit VanillaDiscussionsAnnounce VanillaDiscussionsSink VanillaDiscussionsClose VanillaDiscussionsDelete VanillaCommentsAdd VanillaCommentsEdit VanillaCommentsDelete categoriesedit http POST apiv1categorieseditext HTTP11 Host httpsyoursitevanillaforumscom Edits an existing category Authenticationmakingapicalls required Parameters Parameter Type Description CategoryID integer Category to be edited ID use if no Name Category string Category to be edited Name use if no ID Name string The name of the category UrlCode string URL friendly category stub Description string Description of this category ParentCategoryID integer Parent Category ID use if no Name ParentCategory string Parent Category Name use if no ID AllowDiscussions boolean Whether this category allows new discussions Archived boolean Whether this category is archived CustomPermissions boolean Whether this category has custom permissions Setting this to false will wipe custom permissions Permissions array Custom permissions for the category This must be an array with one item per role Each item contains a role ID and the permissions to set PermissionsRoleID integer The ID of the role to set the permissions for Permissions boolean Each permission is a dotseparated key with a boolean value The basic permissions are VanillaDiscussionsView VanillaDiscussionsAdd VanillaDiscussionsEdit VanillaDiscussionsAnnounce VanillaDiscussionsSink VanillaDiscussionsClose VanillaDiscussionsDelete VanillaCommentsAdd VanillaCommentsEdit VanillaCommentsDelete categoriesdelete http POST apiv1categoriesdeleteext HTTP11 Host httpsyoursitevanillaforumscom Deletes an existing category Authenticationmakingapicalls required Parameters Parameter Type Description CategoryID integer Category to be deleted ID use if no Name Category string Category to be deleted Name use if no ID categoriesget http GET apiv1categoriesgetextCategoryID123 HTTP11 Host httpsyoursitevanillaforumscom Get a single category Authenticationmakingapicalls required categorieslist http GET apiv1categorieslistext HTTP11 Host httpsyoursitevanillaforumscom Get a list of categories Authenticationmakingapicalls optional If not provided perspective will be that of a guest Parameters This method does not take any parameters"},{"title":"Endpoint: comments","tags":["API"],"url":"/api/comments/","content":" commentsadd http POST apiv1commentsaddext HTTP11 Host httpsyoursitevanillaforumscom Creates a new comment Authenticationmakingapicalls required Parameters Parameter Type Description DiscussionID integer Discussion to post comment to Body string Comment body Format string Comment output format ForeignID string Related foreign content identifier Type string Comment type"},{"title":"Endpoint: discussions","tags":["API"],"url":"/api/discussions/","content":" discussionsadd http POST apiv1discussionsaddext HTTP11 Host httpsyoursitevanillaforumscom Creates a new discussion Authenticationmakingapicalls required Parameters Parameter Type Description Name string Discussion name Body string Discussion body Format string Discussion output format CategoryID integer Discussion Category ID use if no Name Category string Discussion Category Name use if no ID ForeignID string Related foreign content identifier Tags csv List of discussion tags Type string Discussion type Closed boolean Discussion closed state Announce boolean Discussion announced state Sink boolean Discussion sunk state discussionsbookmark http POST apiv1discussionsbookmarkext HTTP11 Host httpsyoursitevanillaforumscom Bookmark or unbookmark a discussion Authenticationmakingapicalls required Parameters Parameter Type Description Discussion smart idsmartid Discussion to be bookmarked User smart idsmartid The user bookmarking the discussion If blank then the currently authenticated user will be used Bookmark boolean Whether or not to bookmark the discussion Notes You need the GardenModerationManage permission to bookmark a discussion for another user discussionsbookmarked http GET apiv1discussionsbookmarkedext HTTP11 Host httpsyoursitevanillaforumscom List a users bookmarked discussions Authenticationmakingapicalls required discussionsedit http POST apiv1discussionseditext HTTP11 Host httpsyoursitevanillaforumscom Edits an existing discussion Authenticationmakingapicalls required Parameters Parameter Type Description Discussion smart idsmartid Discussion to be deleted Name string Discussion name Body string Discussion body Format string Discussion output format CategoryID integer Discussion Category ID use if no Name Category string Discussion Category Name use if no ID ForeignID string Related foreign content identifier Tags csv List of discussion tags Type string Discussion type Closed boolean Discussion closed state Announce boolean Discussion announced state Sink boolean Discussion sunk state discussionslist http POST apiv1discussionslistext HTTP11 Host httpsyoursitevanillaforumscom Authenticationmakingapicalls optional If not provided perspective will be that of a guest discussionscategory http GET apiv1discussionscategoryext HTTP11 Host httpsyoursitevanillaforumscom Get a list of discussions within a category Authenticationmakingapicalls optional If not provided perspective will be that of a guest Parameters Parameter Type Description CategoryIdentifier integer string Category identifier CategoryID or UrlCode Page integer Page number discussionspromoted http GET apiv1discussionspromotedext HTTP11 HOST httpsyoursitevanillaforumscom Get a list of discussions filtered by the selector and selection parameters Authenticationmakingapicalls optional If not provided perspective will be that of a guest Parameters Parameter Type Description selector string What property to filter the discussions by The available selectors are listed in the Selectors and Selections section below selection string integer What value to filter the discussions by Learn more about the possible values in the Selectors and Selections section below contenttype string The value can be all discussions or comments You can choose to fetch only comments or only discussions The default is all limit integer The number of posts to fetch The max number is 50 expiry integer How long in seconds to cache the content Selectors and Selections The promoted endpoint only supports filtering by one selector and selection The available selectors are role Filter posts based on the authors role The selection can be one or more of your forums role names Heres an example query string selectorroleselectionModerator2CAdministrator rank Filter posts based on the authors rank The selection can be any one of your forums rank names or rank IDs Heres an example query string selecting by rank name selectorrankselectionLevel201 or by rank ID selectorrankselection1 category Filter posts based on the contents category The selection can be the categorys url code or the category ID Heres an example query string selecting by url code selectorcategoryselectiongeneral or by category ID selectorcategoryselection1 score Filter posts based on a minimum score A posts score is determined by reactions Will only fetch posts with a score greater than the selection Heres an example query string selectorscoreselection3 promoted Filter posts based on whether it has the promoted reaction Heres an example query string selectorpromoted"},{"title":"Vanilla API","tags":["API"],"url":"/api/","content":"Vanilla has had a readonly ReSTful API for some time but until now no formal way to access any write methods This all changes with Simple API Now developers can access Vanillas write methods using an accesstoken configured in the dashboard Configuring Simple API Simple API is a plugin Once youve enabled the plugin youll see a new link in your dashboard called API This page allows forum owners to set the access token define a user account that will be used for API access and determine whether API calls are allowed over HTTP and HTTPS or just HTTPS Access Token The access token is like a password for accessing the API from outside of Vanilla A suitable token is randomly generated for you when the plugin is first loaded but you can change it at any time Changing the token will necessarily invalidate the existing one so remember to update existing projects if they use the API Remember though this token is a kind of password so make sure it is long and complex just like the initial token that we prefilled for you User When an API call is made your access token confirms that you are authorized to make API calls but we need some way to determine what level of access to give the API once youre authenticated We do this by logging you in temporarily as the user you specify here The API session will inherit all of this users permissions and will have the same level of access as this user By default we use the Vanilla System User who has unrestricted administrative access Security Considering that the API gives unprecedented access to Vanillas data it is prudent to be concerned with security For this reason you have the option to ignore API requests that are not secured by HTTPS HTTPS encrypts the connection including the request URL thereby preventing potential hackers from seeing your access token in request URLs This setting is highly recommended but not required Making API Calls All API calls should be made against your forums Vanilla URL for example httpsmycompanyvanillaforumscom Versioned Endpoint http Example of versioned endpoint httpsmycompanyvanillaforumscomapiv1categorieslistext The Vanilla API is versioned to allow backwards compatibility during upgrades API requests should always be made with a version stub GET vs POST Calls to the API are strictly separated by HTTP request type Requests for data which do not cause modifications are done using GET while changes and updates are done using POST When reading the documentation for a method make sure to take note of its expected request type Wire Format Regardless of the request type the accesstoken should always be supplied in the query string http GET categoriesalljsonaccesstokenabc123 HTTP11 Host mycompanyvanillaforumscom The above request will yield the following response http HTTP11 200 OK Date Tue 19 Jul 2012 195002 GMT ContentType applicationjson Vary AcceptEncoding ContentLength 90 Connection close API Smart IDs Some API methods ask require a user ID for one or more of their parameters Sometimes its difficult to know what their user ID is so the Vanilla API can look up the user if you pass the user in a special way This is referred to as a smart ID and you can read about it here Request Encoding By default the API expects incoming request data to be applicationxwwwformurlencoded If no ContentType is provided this will be assumed It is also possible to alter this behaviour and cause the API to parse a JSONencoded request body by setting the ContentType to applicationjson Response Encoding The data encoding of the response is determined by the file extension attached to the requests method In the above example the controller name is categories and the method is all The file extension on the method is json which will result in JSON encoded data being returned If the request is being made to the controllers root method index the method may be omitted and the file extension may be applied to the controller instead Recognized file extensions Extension Description json JSON encoded response xml XML encoded response No extension XHTML response suitable for user interface Response Codes Generally if an API request is successful it will return the standard response code of 200 You can check for this response code If you get an error code 4xx5xx then you can check the Exception property of the response some error text that will help you to determine what went wrong"},{"title":"Endpoint: moderation","tags":["API"],"url":"/api/moderation/","content":" Moderation API Details about API endpoints for moderation Simple API will be needed to make requests from an un authenticated request To use Simple API you need to 1 Enable to SimpleAPI Plugin 2 Prepend apiv1 to the URL 3 Append accesstokenXXXXXX to the url Example GET apiv1modpreapprovaljsonaccesstokenXXXXXX HTTP11 Host httpexamplevanillaforumscom QueueName premoderation Queue Page p1 Totals Status approved 2 denied 1 unread 10 Records 13 PageSize 30 Pages 1 Permissions All of the moderation endpoints require the GardenModerationManage permission If you do not have required access you will get the following error Code 403 Exception You dont have permission to do that Class GdnUserException Pagination When making a request with paginatined results the following element will be included in the result Page p1 Totals Status approved 2 denied 1 unread 10 Records 13 PageSize 30 Pages 1 You will need to use these numbers to create pagination Note that the Page is prefixed with a p for page Errors Any errors will be returning in the following format Code 404 Exception Not Found Class GdnUserException Partial Errors ModeratorUserID 1 Approved ForeignID ab6e33fee50937c3043121884cf199e7 Errors Not Found ForeignID 86d9e3e1575241dcaa552a832728ec33 ForeignID a1fca41655734662a31aa4ff808c34dd ForeignID af777ea81874463ca97ca1f9e494bee1 ForeignID 73031050201644fcb8f6b97184793587 GET modpremoderation GET modreported GET modspam List the items in each of the queues Parameters Parameter Type Description Page string Page Number Default is first page CategoryID int Category ID Default all categories Status string approved denied unread SortOrder string asc or desc Default desc Example GET modpreapprovaljsonPagep1 HTTP11 Host httpexamplevanillaforumscom QueueName preapproval Queue Page p1 Totals Status unread 0 approved 0 denied 0 Records 0 PageSize 30 Pages 0 GET modrelation TODO Get all items in the queue by relation Parameter Type Description Page string Page Number Default is first page relation enum foreignid foreignuserid POST modpremoderation POST modreported POST modspam Add content to an existing queue Parameters Parameter Type Description Name string Content Title RE Discussion Title for comments Body string Content Body Format enum html bbcode markdown text textex wysiwyg ForeignType enum comment discussion activity activitycomment conversation message ForeignID string The if of the content Ie DiscussionID ForeignUserID string The user who generated the content ForeignIPAddress string The user who generated the content CategoryID string Category ID CustomerVariables Up to 10 custom variables Response QueueName testing QueueID 6931 Errors Code 400 Exception Name is a required field Class GdnUserException DELETE modid Remove content from a queue DELETE mod1json HTTP11 Host httpexamplevanillaforumscom QueueID 1 PATCH modid Update an item in the queue Parameters Parameter Type Description Status enum approved denied unread Queue enum spam reported premoderation Example DELETE mod1json HTTP11 Host httpexamplevanillaforumscom QueueID 1 METHOD modbatch Lets just call the methods we use for single for now Proposed Batch process items in the queue PATCH Parameters Batch update items in queue Parameters Parameter Type Description IDs string CSV of queue ids Status enum approved denied unread Queue enum spam reported premoderation DELETE Parameters Batch delete items in queue Parameter Type IDs string CSV of queue ids POST modapproveid Approve content in the queue POST modapprovejson1 HTTP11 Host httpexamplevanillaforumscom Approved true POST moddenyid Deny content in the queue POST moddenyjson1 HTTP11 Host httpexamplevanillaforumscom Denied true POST modreport Report Content to the queue This endpoint will remove content if the number of reports has been exceeded Parameters Parameter Type ForeignID int ID of the content ie DiscussionID ForeignType string Type of content ie Discussion Reason string Reason the content is being reported ReportUserID int UserID of the user reporting Example POST modreportjson1 HTTP11 Host httpexamplevanillaforumscom Reported true QueueID 4559 Database Table All of these rows will be returned in output of the above calls Parameter Type Description Queue enum preapproval reported spam DateInserted string Timestamp InsertUserID int The user who inserted the item to the queue CategoryID string Category ID Name string Content Title RE Discussion Title for comments Body string Content Body ForeignType enum comment discussion activity activitycomment conversation message ForeignID string ex d12 ForeignUserID string The user who generated the content ForeignIPAddress string The user who generated the content Status string approved denied unread DateStatus string Timestamp StatusUserID int The user who last change the status Attributes string see Attributes Document"},{"title":"Endpoint: multisites","tags":["API","Hub"],"url":"/api/multisites/","content":" cloudfeature Overview The site hub is a special service for VIP customers It allows you to create sites on your VIP cluster and is used for people that want to integrate communities within their entire organization You can make hub api calls just like other api calls but you make those calls against your site hub rather than an individual site Most hub api calls will be against httpsyourdomaincomhubapiv1 Note All endpoints for multisites require an access token with administrative privileges GET multisites http GET hubapiv1multisitesjsonaccesstokentoken HTTP11 Host httpsyoursitevanillaforumscom Gets a list of sites in your hub Authenticationmakingapicalls required Parameters Parameter Type Description search string The site name to search for POST multisites http POST hubapiv1multisitesjsonaccesstokentoken HTTP11 Host httpsyoursitevanillaforumscom Create a new site and queues it for building When a site is created it will not be immediately available but instead be in a Building status Usually sites take about a minute to build Authenticationmakingapicalls required Parameters Parameter Type Description Name string A human readable name for the site Slug string The sites folder Make sure to use just alphanumeric lowercase characters for the slug GET multisitesid GET hubapiv1multisites1jsonaccesstokentoken HTTP11 Host httpsyoursitevanillaforumscom Get the details of an individual site by ID Authenticationmakingapicalls required Parameters Parameter Type Description id path The ID of the site POST multisitessyncnode POST hubapiv1multisitessyncnodejsonaccesstokentoken HTTP11 Host httpsyoursitevanillaforumscom Synchronize the sites against the hub Note that this method doesnt have to be called as the nodes automatically synchronize every 20 minutes Authenticationmakingapicalls required"},{"title":"Endpoint: roles","tags":["API"],"url":"/api/roles/","content":" rolesadd http POST apiv1rolesaddext HTTP11 Host httpsyoursitevanillaforumscom Add a new role Authenticationmakingapicalls required Parameters Parameter Type Description Name string The name of the role Description string Description of this role Permissions array The permissions of the role Each global permission is a dotseparated key with a boolean value PermissionsCategory array Custom category permissions Each item in the array is a permission for a particular category Note that the category must be configured to have custom permissions to be viable in this array PermissionsCategoryCategoryID integer The ID of the category to set the permission for PermissionsCategory boolean Each custom category permission is a dotseparated key with a boolean value rolesedit http POST apiv1roleseditext HTTP11 Host httpsyoursitevanillaforumscom Edit a role Authenticationmakingapicalls required Parameters Parameter Type Description RoleID RoleID The ID of the role to edit Name string The name of the role Description string Description of this role Permissions array The permissions to the role See rolesadd roleslist http GET apiv1roleslistext HTTP11 Host httpsyoursitevanillaforumscom Get all of the roles Authenticationmakingapicalls required rolesget http GET apiv1rolesgetextroleid123 HTTP11 Host httpsyoursitevanillaforumscom Get a single role Authenticationmakingapicalls required Parameters Parameter Type Description RoleID RoleID The ID of the role to get"},{"title":"Smart ID","tags":["API"],"url":"/api/smart-id","content":"Many API methods take a UserID as one of their required parameters for example the badgegive method Often especially in a SSO context the calling system will not know the native Vanilla UserID but will instead know some other identifying characteristic of the user such as their Email Username or SSO ForeignID Fields that accept Smart IDs allow these tokens to be supplied instead of a native UserID Internally the Email Username or SSO ForeignID will be converted into a Vanilla UserID by the API layer and passed along to the core method Notation Passing a Smart ID is easy once you understand Vanillas naming conventions and well explain these from the perspective of the User table GDNUser Table Names All tables in a Vanilla database are named for their content and use the singular form In the case of Users the table is called GDNUser and we refer to it as the User table The Discussion table is called GDNDiscussion and the Comment table is called GDNComment and so on Field Names The primary key in a given table will always be the tables name with ID on the end so in our case UserID Even when referring to the User table from another table well always be careful to make sure that fields containing UserIDs are named UserID For example the Comment table has a field called InsertUserID The User table contains other fields like Name and Email and we follow the same referential naming convention for those fields If there was a field in some table that contained a users email address it would end in UserEmail Passing a Smart ID In our example case where we are trying to pass a UserID but only have the users email we can instead use a dotted notation to express the table and field were passing and have the API resolve the primary key ID UserIDsmart id Required User can be passed as UserEmailstring Users Email address Multi Smart ID Some API methods require lists of item IDs The Role parameter of usersedit is a good example of this You may want to assign multiple roles to a certain user Multi Smart ID allows the caller to specify arrays with simple notation A normal Smart ID containing a valid RoleID would be passed as RoleID56 In order to pass 2 roles simply pluralize the table name and use commas to separate the values like this RolesID5687 This notation works for other suffixes as well so to refer to two users by their email addresses the caller might specify UsersEmailtesttestcomothertestcom SSO ForeignID The SSO ForeignID type is a special case It is passed with the parameter name UserForeignID and its value contains the SSO ClientID specified in your Vanilla Dashboard concatenated with the ForeignID usually the users internal ID in your own system or whatever system is providing SSO with a colon as the field separator A simple example is referring to a user by their Facebook email address UserForeignID Facebooktestusersomeemailcom Users Facebook email address In situations where your system is providing SSO services you would substitute Facebook with your own SSO ClientID Again this SSO ClientID can be found in your Vanilla Dashboard under the heading jsConnect settingsjsconnect Supported Tables Currently we support Smart ID for the following tables Name Table Description Badge GDNBadge Stores Vanilla badges by BadgeID Category GDNCategory Stores Vanilla categories by CategoryID Rank GDNRank Stores Vanilla ranks by RankID Role GDNRole Stores Vanilla roles by RoleID User GDNUser Stores Vanilla users by UserID Caveats Some fields are not unique so passing them as a Smart ID can be risky and may result in multiple results and therefore an error A good example of this is the Name Vanilla has the option to allow multiple users with the same name so if at all possible use Email or SSO ForeignID instead of Name"},{"title":"Use API on External Sites","tags":["API"],"url":"/api/use-api-on-external-site","content":"The Vanilla Forums API can be used to display information from your community outside of the community such as your blog This guide shows a basic example using javascript and jQuery JSONP Default browser security does not let you make API calls from an external site This is necessary to prevent a wide range of hacking and in general keeps the web a safer place However to get around this limitation with the API Vanilla uses a technology called JSONP There are some small differences with the way JSONP is used as apposed to basic AJAX but most frameworks such as jQuery have built in support for JSONP making it very easy to use In order to use JSONP with the Vanilla API you must have JSONP support turned on for your community Ask support and theyll be happy to do this for you Making an API call with jQuery and JSONP To make an API call with jQuery youll need to look at our API documentation and find the appropriate call Here is an example call of the basic discussions endpoint javascript Get the results of the discussions endpoint and display them in a list ajax The url of the api endpoint url httpsexamplevanillaforumscomapiv1discussionsjson The name of the callback parameter which should always be callback jsonp callback Tell jQuery were expecting JSONP dataType jsonp Work with the response success functionresponse var discussions responseDiscussions The discussions variable now contains the discussions from the API call Notes There are a few things to note about this code 1 Notice that jsonp callback argument Thats telling the forums to use JSONP jQuery looks for that and handles everything for you If you are using some other framework youll have to look up how it handles JSONP Also note that older versions of jQuery have different ways of working with JSONP Be sure to look at the documentation to be sure you are using the right method 2 This call is being made agains https You can make calls against http but if you are within an https page then a call to an http page will fail Its best to look for the right https page and make the call there 3 Notice that there is no accesstoken query string parameter Never ever put the accesstoken in a script that is on the clientside It is like a password and should only be used from the server 4 The JSONP call will be made with the credentials of the user that is currently signed in to the forums If no one is signed in then the call will be made as a guest A Real Example Weve made a simple example using a feed from vanillaforumscom Check it out on codepeniohttpcdpniozxXwvJ"},{"title":"Backend","tags":["Developers"],"url":"/developer/backend/","content":" Server Vanilla works with Apache nginx our preference or IIS with proper configuration The core team does not officially support IIS but accept bug reports and patches related to it Information and help may be provided on our community forumhttpsopenvanillaforumscom We welcome additions to this documentation See the dedicated sections for more information about Apache and nginx Advanced Handling of Headers To utilize advanced handling of request and networking headers it is recommended you make the necessary modifications in a bootstrapbeforephp file You may need to create this file in your config folder if it does not already exist The contents of this file are executed at the very beginning of Vanillas bootstrapping process If for example you wanted to use the Host header from an incoming request to set the host Vanilla sees you would add the following into bootstrapbeforephp php if issetSERVERHTTPHOST SERVERSERVERNAME SERVERHTTPHOST This will overwrite the host set by the server with the value of the Host header It is crucial to verify the validity of any such data If you cannot verify the hosts provided in these headers do not attempt to use them Caching OPcache OPcache replaced APC as the preferred opcode caching solution for PHP as of 55 Vanilla is compatible with OPcache and no additional configuration is necessary beyond simply enabling it Memcached Vanilla has support for both Memcache and Memcached but we strongly recommend Memcached if you have an option It does require additional configuration beyond installing and enabling it in PHP php ConfigurationCacheEnabled true ConfigurationCacheMethod memcached ConfigurationmemcachedStore localhost You can also specify a port for memcached Store eg localhost11211 Lastly you can optionally set Memcached options directly in your Vanilla config Here are some example settings you may wish to use Note that these require Memcached to be enabled on your server or else adding these to your config will cause errors php ConfigurationCacheMemcachedOptionMemcachedOPTCOMPRESSION true ConfigurationCacheMemcachedOptionMemcachedOPTDISTRIBUTION MemcachedDISTRIBUTIONCONSISTENT ConfigurationCacheMemcachedOptionMemcachedOPTLIBKETAMACOMPATIBLE true ConfigurationCacheMemcachedOptionMemcachedOPTNOBLOCK true ConfigurationCacheMemcachedOptionMemcachedOPTTCPNODELAY true ConfigurationCacheMemcachedOptionMemcachedOPTCONNECTTIMEOUT 1000 ConfigurationCacheMemcachedOptionMemcachedOPTSERVERFAILURELIMIT 2 "},{"title":"Apache","tags":["Developers","Server"],"url":"/developer/backend/server-apache","content":" Apache Prerequisite You need to have the modrewritehttphttpdapacheorgdocscurrentmodmodrewritehtml module enabled Configuration Vanilla includes an htaccesshttpsgithubcomvanillavanillablobmasterhtaccessdist file for outofbox Apache support You may need to edit it as indicated inside itself for subfolder usage Obviously htaccess files must be enabled for your web roothttphttpdapacheorgdocscurrenthowtohtaccesshtml If you are able to you can also take the content of the htaccess and use it directly in your main server config file Hardening The provided htaccess already comes with some decent hardening The only php script that can be requested directly is indexphp Folders that should not be accessed from the web return a 403"},{"title":"nginx","tags":["Developers","Server"],"url":"/developer/backend/server-nginx","content":" nginx Configuration The key to specifically running Vanilla under nginx is getting the basic rewrite rule in nginxconf correct You can see a working example in the Hardening section Some tips When configuring fastcgi make sure that you use realpathroot instead of documentroot Make sure that you set the fastcgiparam XREWRITE parameter to 1 Hardening Here are some directories that should be forbidden nginx location git deny all return 403 location build deny all return 403 location cache deny all return 403 location cgibin deny all return 403 location uploadsimport deny all return 403 location conf deny all return 403 location tests deny all return 403 location vendor deny all return 403 We alo recommend to disallow any script but indexphp from being called directly This can be achieved like so nginx indexphp handler location indexphp send to fastcgi include fastcgiconf fastcgiparam XREWRITE 1 Needed for pretty URLs fastcgipass phpfpm Upstream defined in nginxconf If it is a php script disallow its execution by redirecting the call it to indexphp location php rewrite indexphpuri last Default location handling location tryfiles uri vanilla location vanilla rewrite indexphpuri last "},{"title":"Change Log","tags":["Developers"],"url":"/developer/changelog/","content":" Version Change Log This is for packaged gold releases of the selfhosted product We publish beta and release candidate change logs on the forumhttpsopenvanillaforumscomcategoriesblog We provide separate cloud release noteshttpdocsvanillaforumscomhelpreleases since they are scheduled differently Vanilla numbers major releases with the first decimal place A second decimal indicates a minor patch release 23 Released 18 Nov 2016httpsopenvanillaforumscomdiscussion32822vanilla23isnowavailable 221 Released 7 May 2016httpsopenvanillaforumscomdiscussion32109vanilla221nowavailable 22 Released 12 Nov 2015httpsopenvanillaforumscomdiscussion31121vanillaisproudtopresentversion22 2113 Released 29 Oct 2015httpsopenvanillaforumscomdiscussion31046vanilla2113securityupdates 2112 Released 15 Oct 2015httpsopenvanillaforumscomdiscussion30966vanilla2112releasedsecurityupdate 2111 Released 12 Junehttpsopenvanillaforumscomdiscussion30123vanilla2111releasedsecuritypatch 2110 Released 4 May 2015httpsopenvanillaforumscomdiscussion29835vanilla2110releasedcriticalsecurityupdate 219 Released 18 Mar 2015httpsopenvanillaforumscomdiscussion29555vanilla219released 218 Released 15 Jan 2015httpsopenvanillaforumscomdiscussion29016criticalvanilla218released 217 Released 9 Jan 2015httpsopenvanillaforumscomdiscussion28961vanilla217released 216 Released 21 Nov 2014httpsopenvanillaforumscomdiscussion28555vanilla216released Security Fixes an SQL injection vector Security Adds a PDO option to harden against SQL injection Security Improves the security of password resets by increasing token length and limiting them to 1 hour expiration Adds vBulletin 51 password hashing to allow seamless password migrations All previous versions continue to be supported 215 Released 31 Oct 2014httpsopenvanillaforumscomdiscussion28337vanilla215releasedand201814 Security An Insecure Direct Object Reference was fixed that allowed unauthorized comment editing Security Potential CSRF vectors were closed including one that could allow account hijacking Fixes issue where enabling cleditor would permanently allow style parameter in comments Fixes issue notifying users of new comments in certain cases where they did not have permission to then view them Fixes OpenID bug effecting Google Sign In Multiple communitycontributed bug fixes 214 had a merge conflict which this release replaced 213 Released 9 Sept 2014httpsopenvanillaforumscomdiscussion27822vanilla213securityrelease 3 newly discovered XSS vectors were fixed The timezone bug introduced in 211 is fixed Fixes invalid DeliveryType in plugins management 212 had a Javascript error which this release replaced 211 Released 2 Aug 2014httpsopenvanillaforumscomdiscussion27540vanilla211importantsecuritybugrelease HtmLawed was upgraded to close an XSS vector thanks to Psych0tr1a for responsibly disclosing this to us to HtmLawed for a fast patch in response Multiple XSS exploits were fixed thanks to x00 for responsibly disclosing and both he and businessdad for assistance in making our patches as bulletproof as possible Fixed a Twitter SSL bug thanks Adrian for the patch Fixed a missing permission check in the sorting utility thanks RJ for the patch cleditor was patched to fix a crippling IE11 bug Profile Extender was upgraded and a security flaw in it was fixed Fixed a bug in Announcing while starting a discussion Corrected the default theme README Backported GDNUserAuthenticationProviderIsDefault so the latest version of jsConnect will work with 211 Fixes a theme screenshot bug thanks hgtonight for the patch 21 Released 28 April 2014httpsopenvanillaforumscomdiscussion26685vanilla21stablereleased Vanilla internals were completely revamped for 21 Many views and several plugin hooks were changed so themes and plugins must be tested and may need to be refactored before upgrading Better localization support Improved embedding Performance and caching enhancements Revamped Activity structure Framework improvements Hundreds of bug fixes Incremental changelogs from the first 21 betahttpsopenvanillaforumscomdiscussion23322vanilla21b1released thru RC1 can be found in their individual release announcements Beta 2httpsopenvanillaforumscomdiscussion24845vanilla21b2released Beta 3httpsopenvanillaforumscomdiscussion26518vanillla21beta3 Release Candidate 1httpsopenvanillaforumscomdiscussion26626vanilla21releasecandidate 201814 Prior to 21 Vanilla used the third decimal in the version to indicate new features and a fourth decimal for minor patches Released 30 Oct 2014httpsopenvanillaforumscomdiscussion28337vanilla215releasedand201814 Security An Insecure Direct Object Reference was fixed that allowed unauthorized comment editing Security Potential CSRF vectors were closed including one that could allow account hijacking Fixes DeliveryType issue in plugins managements 201813 Released 5 Aug 2014httpsopenvanillaforumscomdiscussion27541vanilla201813securityreleaseforold2018installs HtmLawed is upgraded and its filtering tightened thanks x00 Psych0tr1a parseJSON is substituted for eval in 2 places Refactored the definitions list into Javascript instead of using the DOM Fixes HTMLawed error in 201812 which this immediately replaced 201811 Released 21 Apr 2014httpsopenvanillaforumscomdiscussion26627vanilla201811securityrelease 3 security patches Ditches troublesome Remove option on the plugins page 201810 Released 21 Dec 2013httpsopenvanillaforumscomdiscussion25668dec2013securityupdate201810and21b2 Removes flawed update checker 20189 Released 26 Nov 2013httpsopenvanillaforumscomdiscussion25458securityupdatevanilla20189 Use SafeRedirect instead of Redirect in the discussion controller Added TrustedDomains and SafeRedirect Dont allow user id override on post Fix Flagging security flaw Filter discussion title on categoriesall Comment notifications should only be sent to people with the NewComment preference set Twitter Change api version to 11 Tagging Fix xss bug in tagging Do not add linebreaks twice on search 20188 Released 4 Apr 2013httpsopenvanillaforumscomdiscussion23339securityupdatevanilla20188 Call check for FilterForm properly 20187 Disable the ability to call functions in escaped SQL strings 20186 Switch update checks to JSON to prevent object injection hacks 20185 Prevent object injection hacks Make sure the admin password is hashed when inserting the admin user on an already installed Vanilla Fix Facebook plugin for the 5 Dec 2012 Facebook update Add class attributes for all the menu item elements Cachecontrol logic improvements Add the proper username parameter to profileedit Filter activity discussion and comment forms Fixed security hole where on profilepicture and profilepreferences Allow moderators to change users pictures from the profile page Added joomla password hashing 20184 Released 26 Mar 2012httpsopenvanillaforumscomdiscussion19542vanilla20184released Patch form tampering possibility Fix canonical URL issues 20183 Released 5 Mar 2012httpsopenvanillaforumscomdiscussion19285securityvulnerabilityflaggingplugin20182andearlier Flagging plugin security fixes 20182 Released 21 Jan 2012httpsopenvanillaforumscomdiscussion18749vanilla20182release Fixed bug where Gravatar was using name instead of email for Vanillicons vBulletin import improvements SSO fixed for nonEnglish Embed improvements Tagging fix Fix malformed install screen Various other bug fixes 20181 Released 7 Nov 2011httpsopenvanillaforumscomdiscussion17643vanilla2018finalrelease Fixed bug in the Twitter plugin Fixed some bugs with connecting Prevent too many photo changed activities Added the ability to include announcements in the categoriesdiscussions page Fix so people with custom domains dont see strange text Fixes massapprovedeny for Applicants Correct title on categories pages Fixed jQuery syntax errors 2018 Released 3 Nov 2011httpsopenvanillaforumscomdiscussion17643vanilla2018finalrelease Major Features Added moderation bans and deleteedit logging Added notifications Growllike popups Added advanced category management Added IP logging to core Added SplitMerge plugin to core Changes Added ability to chain Vanillicons into Gravatars with CPluginsGravatarUseVanillicons TRUE Added ability to use IE targetting for CSS and JS files Disabled CLEditor for IE6 users Disabled popups in IE7 or less Added Session support see GdnSessionStash Turns off Embed by default Added WebOS to mobile user agents Fixes Fixed bug in 2017 that could on rare occassion wipe your configphp file Fixed issue that could cause VanillaStats to stop working Many new translatable strings added or fixed Fixed support for PHP 52 on Windows fnmatch Fixed profile to not ask for old password if one was never set via SSO Fixed hundreds of other bugs too numerous to list including dozens of SQLrelated bugs 20171 201710 Fixed bug where analytics hooked before GardenInstalledtrue causing a fatal error on install Fixed bug where analytics registration would occur repeatedly if config file was readonly Repackaged distribution without OSSpecific meta data and fixed ajax information exposure bug Fixed problem with dashboard structure file where Activity and Profile permissions were not granted automatically on fresh install Fixed problem with category permissions where some configurations would result in too restrictive defaults SECURITY Fixed potential querystring XSS and cookie HMAC Timing vulnerabilities in core Updated analytics client and server software to fix a bug in stats transmission and rendering Fixed a packaging problem that caused the contents of indexphp to be duplicated SECURITY Fixed cookie theft vulnerability SECURITY Fixed Facebook Twitter and Embed plugins access control 2017 Released 20110118 Fixed bug where plugins and themes could fail to enable due to extra whitespace Fixed bug where search results were not properly sorted by date after relevance Fixed bug where links in profile status cause the profile to clear when clicked Fixed bug where signing in from the comment form button would not refresh the page Fixed bug where administrators could not change users picture without 404 errors Fixed bug where stack trace would display when testing plugins even if not in DEBUG mode Fixed bug where signin would not properly redirect if javascript was disabled Fixed bug where editing a role was erroneously selecting the default permission in the UI when editing Fixed bug where discussion autorefresh would sometimes disable itself Fixed bug where when markdown is enabled urls would not get autoconverted to clickable links Fixed bugs in OpenID and GoogleSignIn where redirect targets were not getting sent to the signin Fixed bug where mobile theme would sometimes display incorrect last comment date Optimized Announced Discussions query to improve performance Older Releases Unlisted versions were skipped or replaced the same day 2016 20101202 2015 20101125 2014 20101109 2013 20101027 2011 20101006 2010 20100930 209 20100915 206 20100901 203 20100811 201 20100804 200 20100722 1110 20091123 119 20090910 118 20090802"},{"title":"Community","tags":["Developers"],"url":"/developer/community/","content":" Developers Community We have a vibrant developers communityhttpsopenvanillaforumscom Please register there to ask general questions contribute feedback and ideas help others add your own plugins themes to the official directoryhttpsopenvanillaforumscomaddons and sign the contributors agreementhttpsopenvanillaforumscomcontributors Get Notified Want to get notified about the newest releases Sign up for the VanillaForumsorg newsletter in your community profilehttpsopenvanillaforumscomprofileedit Watch the RSS feed for the blog categoryhttpsopenvanillaforumscomcategoriesblogfeedrss Follow our Twitter accounthttptwittercomvanilla Plugins These addons are currently used on our community forumhttpsopenvanillaforumscom The addons with an asterisk are currently only available on our cloud hosting but may have nearequivalents available from the community Tagging Reactions QA Quotes File Upload Ranks Signatures Badges Warnings Discussion Photos Whos Online Google Prettify for code Flagging Advanced Search Theme The theme used on the community forum is custom and is not open source We want it to continue looking unique"},{"title":"Banner Settings","tags":["Developers","Configuration"],"url":"/developer/configuration/banner","content":" Banner Settings On the Banner Settings page you can control the following aspects of your forum Homepage title This is the title displayed on your home page This title will also appear in search engines Site Description This is the site description for your homepage Other pages will have description generated by the content Banner Title This is the title will in your communitys banner if you have not uploaded a banner image Banner Logo This will replace the Banner Title You have the freedom to use whatever size you want but 250px x 50px is a great size that works nice Mobile Banner Logo This allows you to add a small banner for the mobile theme Favicon This is the icon usually seen in the URL bar and when someone bookmarks a link from your site Share Image This is the image that will be included when content is shared on social networks like Reddit or Google if no image is present in the content"},{"title":"Dashboard","tags":["Developers","Configuration"],"url":"/developer/configuration/dashboard","content":" Dashboard The Administration Panel known as the Dashboard provides access to the control features of your Vanilla Forum Each Administration Panel is presented in sections the header the main navigation the work area and the footer The top portion of all Panels the header is featured in a dark blue gradient The header shows the name of your forum as a link to your forums main page a profile link shown as your user name and Sign Out On the left side of the screen is the main navigation menu detailing each of the administrative functions you can perform Within each major function such as Appearance a list of submenu items appear certain submenu items may vary depending on what addons you have installed The large area to the right of the screen is the work area It is here the specific information relating to a particular navigation choice such as adding a new post is presented and collected Finally in the footer at the bottom of each Administration Panel also in a dark blue gradient are links to Vanilla Forums and Documentation In addition the version of Vanilla Forums you have installed can be found"},{"title":"Homepage Settings","tags":["Developers","Configuration"],"url":"/developer/configuration/homepage","content":" Homepage The Homepage settings allows you to change the default homepage of your community when they visit your site By default Vanilla will use Discussions as your homepage but you can change it to whatever you like"},{"title":"Configuration","tags":["Developers","Configuration"],"url":"/developer/configuration/","content":" Vanilla configuration files Vanilla uses a filebased configuration system Vanilla is distributed with a file at confconfigdefaultsphp which we will call configdefaults After installation a file is created at confconfigphp which we will call simply config or configphp Your configdefaults file should never be edited It is overwritten during every upgrade Sometimes future changes may depend on your default configuration being changed and this is the mechanism thru which it will happen All configuration changes are to be exclusively made to your configphp file We recommend periodically making a backup copy of your configphp and storing it in a safe location not on your web server Editing configuration php php Config file entries look like this ConfigurationAreaFeatureSetSetting Value Config entires must render as valid PHP code so the placement of quotes brackets and semicolons is extremely important Line order does not matter unless you accidentally duplicate values which should be avoided In that case the last duplicate would take precedence Some scenarios for editing your config You want to change a config setting so you simply change Value on 1 line You want to change a default so you copy a line from configdefaults into config then modify its value You want to add a new config value entirely so you enter it using the format indicated above on a new line in the config Avoiding accidental overwrites Only open or copy your config for editing after you have applied or saved your latest settings in the Dashboard and wait until you are done editing to make further changes to your site Saving your config will overwrite any changes you may have made elsewhere at the same time Shorthand references When we talk about config lines we use the following shorthand AreaFeatureSetSetting Value php php The shorthand written using the full formatting ConfigurationAreaFeatureSetSetting Value If the above is written in instructions or comments it is still to be formatted in the config according to the format shown earlier with brackets and quotes Always doublecheck you have properly transcribed the name and value before saving"},{"title":"Messages","tags":["Developers","Configuration"],"url":"/developer/configuration/message","content":" Messages Messages can appear anywhere in your community and can be used to inform your users of news and events Configuring Messages Messages can be added to your forum by clicking on the Add Message button when on the Message page and choosing the following Message options 1 You can determine on which page a Message will seen for example just on the profile page 2 You can add a Message to a specific category 3 You decide the position on the page the Message appears for example below the sidebar 4 There are 4 kinds of Messages available in Vanilla Casual Information Alert and Warning Each with a distinctive color you can modify in your CSS"},{"title":"Using The Config","tags":["Developers","Configuration"],"url":"/developer/configuration/using","content":" When to use the config Use the config for saving settings in your theme or plugin You should only save small amounts of data to the config and it should not be data that is changed frequently If you have large quantities of data or data that is written frequently consider using the databasedeveloperframeworkdatabase instead Reading from config The c function is the appropriate shortcut for reading from the config The first parameter is the name of the config value in dot notationdeveloperconfiguration The second is an optional default value to return if requested config setting is not defined Example Value cNameOfSetting DefaultValue You can call a partial config key to get an array of all values below it in dot notation For instance say this was in your config php ConfigurationExampleSettingsA 1 ConfigurationExampleSettingsB 2 Now calling cExamplesSettings will return arrayA1 B2 Writing to config Save to the config with the SaveToConfig function It takes the name of the config value a new value to associate with it and an optional options array In the options array you can pass the key Save with the value FALSE to make the config change only apply for this pageload Change a config setting permanently SaveToConfigNameOfSetting NewValue Change a config setting only for this pageload SaveToConfigNameOfSetting NewValue arraySave FALSE Simply passing the value FALSE in place of the options array has the same effect as passing arraySave FALSE Do not used numerickey arrays as config values Associative arrays are fine Configuration module Weve created a shortcut for making simple settings pages using the ConfigurationModule The configuration module can be instantiated and rendered from any plugin You Initialize it with an array of config values each of which has its own array of properties to define it type of field label default etc See applicationsdashboardmodulesclassconfigurationmodulephp for details This is how the Akismet plugin uses the ConfigurationModule to build a simple settings page consisting of a text field and a dropdown php Cf new ConfigurationModuleSender CfInitializearray PluginsAkismetKey Description KeyDesc PluginsAkismetServer Description You can use either Akismet or TypePad antispam Control DropDown Items Aksimet apiantispamtypepadcom TypePad DefaultValue CfRenderAll Thats all there is to it no custom view is involved"},{"title":"Coding Standard","tags":["Developers","Contributing"],"url":"/developer/contributing/coding-standard","content":" Standards As of May 2014 Vanilla will adhere to PSR2 and therefore PSR1 with a few exceptions We have been massupdating our source code as possible without breaking backwards compatibility most notably by refraining from changing the casing of existing variables Weve named our primary exception to PSR2 the Lord Brackoshttpstwittercomlincstatus462308222427480065 rule Sameline open braces on all classes method and function definitions We adopted this standard for all the usual reasons our team is growing and we want to make sure things stay consistent between our various projects and its annoying and hard to read when everything is styled differently Key words in this document MUST SHOULD etc are used as described in RFC 2119 which is as boring and obvious as you expect but mercifully brief PHP Version All code in master must work under PHP 56 but we strongly recommend using 70 All code in release23 must work under PHP 54 For uptodate information you can look at our selfhostingrequirementshttpsgithubcomvanillavanillatreemasterselfhostingrequirements section Validating your PHP code with PHPCodeSniffer CodeSniffer is a tool you can plug into your IDE to help you adhere to a coding standard like this one This quick guide assumes you have both PEAR and homebrew with PHP 55 installed Our standard is in Vanillas Standards repohttpsgithubcomvanillastandards where you can submit issues and pull requests Its contents will help you on your way 1 Get CodeSniffer pear install PHPCodeSniffer 2 Add to bash profile export PATHbrew prefix php55binPATH 3 Find CodeSniffers Standards folder Use pear configget phpdir and go from there 3 Symlink standardscodesnifferVanilla to CodeSniffers Standards folder 4 Set Vanilla as your standard phpcs configset defaultstandard Vanilla 5 Use it phpcs pathtocode Thus ends the readable part of your adventure as you descend into the dry technical blather of a coding standard Godspeed coding warrior RFC 2119 httpwwwietforgrfcrfc2119txt PSR1 httpsgithubcomphpfigfigstandardsblobmasteracceptedPSR1basiccodingstandardmd PSR2 httpsgithubcomphpfigfigstandardsblobmasteracceptedPSR2codingstyleguidemd 1 Overview Code MUST use 4 spaces for indenting not tabs Opening braces for classes and functions SHOULD be on the same line Control structure keywords MUST have one space after them method and function calls MUST NOT Opening braces for control structures MUST go on the same line and closing braces MUST go on the next line after the body Opening parentheses for control structures MUST NOT have a space after them and closing parentheses for control structures MUST NOT have a space before There MUST NOT be a hard limit on line length the soft limit MUST be 120 characters lines SHOULD be 80 characters or less Namespace is not required Files MUST use only php tag Files MUST use only UTF8 without BOM for PHP code Files SHOULD either declare symbols classes functions constants etc or cause sideeffects eg generate output change ini settings etc but SHOULD NOT do both Class names MUST be declared in StudlyCaps Class constants MUST be declared in all upper case with underscore separators Method names SHOULD be declared in camelCase View files are excluded from this standard You SHOULD try to follow as many rules as possible PSR1 httpsgithubcomphpfigfigstandardsblobmasteracceptedPSR1basiccodingstandardmd 11 Example This example encompasses some of the rules below as a quick overview php b foobararg1 else BazClassbararg2 arg3 return true 2 General 21 Files All PHP files MUST use the Unix LF linefeed line ending All PHP files MUST end with a single blank line The closing tag MUST be omitted from files containing only PHP All view files are excluded from this standard You SHOULD try to follow as many rules as possible 22 PHP Tags PHP code MUST use the long tags it MUST NOT use the other tag variations 23 Character Encoding PHP code MUST use only UTF8 without BOM 24 Side Effects A file SHOULD declare new symbols classes functions constants etc and cause no other side effects or it SHOULD execute logic with side effects but SHOULD NOT do both The phrase side effects means execution of logic not directly related to declaring classes functions constants etc merely from including the file Side effects include but are not limited to generating output explicit use of require or include connecting to external services modifying ini settings emitting errors or exceptions modifying global or static variables reading from or writing to a file and so on The following is an example of a file with both declarations and side effects ie an example of what to avoid php php side effect change ini settings iniseterrorreporting EALL side effect loads a file include filephp side effect generates output echo n declaration function foo function body The following example is of a file that contains declarations without side effects ie an example of what to emulate php php declaration function foo function body conditional declaration is not a side effect if functionexistsbar function bar function body 25 Lines There MUST NOT be a hard limit on line length The soft limit on line length MUST be 120 characters automated style checkers MUST warn but MUST NOT error at the soft limit Lines SHOULD NOT be longer than 80 characters lines longer than that SHOULD be split into multiple subsequent lines of no more than 80 characters each There MUST NOT be trailing whitespace at the end of nonblank lines Blank lines MAY be added to improve readability and to indicate related blocks of code There MUST NOT be more than one statement per line 26 Indenting Code MUST use an indent of 4 spaces and MUST NOT use tabs for indenting Nb Using only spaces and not mixing spaces with tabs helps to avoid problems with diffs patches history and annotations The use of spaces also makes it easy to insert finegrained subindentation for interline alignment 27 Keywords and TrueFalseNull PHP keywords MUST be in lower case The PHP constants true false and null MUST be in lower case keywords httpphpnetmanualenreservedkeywordsphp 3 Namespace and Use Declarations No requirements 4 Class Constants Properties and Methods The term class refers to all classes interfaces and traits 41 Constants Class constants MUST be declared in all upper case with underscore separators For example php php namespace VendorModel class Foo const VERSION 10 const DATEAPPROVED 20120601 42 Extends and Implements The extends and implements keywords MUST be declared on the same line as the class name The opening brace for the class MUST go on the same line as the class name the closing brace for the class MUST go on the next line after the body php php class ClassName extends ParentClass implements ArrayAccess Countable constants properties methods Lists of implements MAY be split across multiple lines where each subsequent line is indented once When doing so the first item in the list MUST be on the next line and there MUST be only one interface per line php php class ClassName extends ParentClass implements ArrayAccess Countable Serializable constants properties methods 43 Properties Visibility MUST be declared on all properties The var keyword MUST NOT be used to declare a property There MUST NOT be more than one property declared per statement Property names SHOULD NOT be prefixed with a single underscore to indicate protected or private visibility A property declaration looks like the following php php class ClassName public foo null 44 Methods Method names MUST be declared in camelCase Visibility MUST be declared on all methods Method names SHOULD NOT be prefixed with a single underscore to indicate protected or private visibility Method names MUST NOT be declared with a space after the method name The opening brace MUST go on the same line as the method name and the closing brace MUST go on the next line following the body There MUST NOT be a space after the opening parenthesis and there MUST NOT be a space before the closing parenthesis A method declaration looks like the following Note the placement of parentheses commas spaces and braces php php class ClassName public function fooBarBazarg1 arg2 arg3 method body The major exception to this rule is Event Methods Any method that has the following patterns handler create before override after controller Event methods MUST be camelCase separated by 45 Method Arguments In the argument list there MUST NOT be a space before each comma and there MUST be one space after each comma Method arguments with default values MUST go at the end of the argument list php php class ClassName public function fooarg1 arg2 arg3 method body Argument lists MAY be split across multiple lines where each subsequent line is indented once When doing so the first item in the list MUST be on the next line and there MUST be only one argument per line When the argument list is split across multiple lines the closing parenthesis and opening brace MUST be placed together on their own line with one space between them php php class ClassName public function aVeryLongMethodName ClassTypeHint arg1 arg2 array arg3 method body 46 Global Functions Global function names SHOULD be declared in camelCase Global function names that match php style such as arraysomething are allowed and MUST be declared in lowercase 47 abstract final and static When present the abstract and final declarations MUST precede the visibility declaration When present the static declaration MUST come after the visibility declaration php php abstract class ClassName protected static foo abstract protected function zim final public static function bar method body 48 Method and Function Calls When making a method or function call there MUST NOT be a space between the method or function name and the opening parenthesis there MUST NOT be a space after the opening parenthesis and there MUST NOT be a space before the closing parenthesis In the argument list there MUST NOT be a space before each comma and there MUST be one space after each comma php bararg1 Foobararg2 arg3 Argument lists MAY be split across multiple lines where each subsequent line is indented once When doing so the first item in the list MUST be on the next line and there MUST be only one argument per line php bar longArgument longerArgument muchLongerArgument 5 Control Structures The general style rules for control structures are as follows There MUST be one space after the control structure keyword There MUST NOT be a space after the opening parenthesis There MUST NOT be a space before the closing parenthesis There MUST be one space between the closing parenthesis and the opening brace The structure body MUST be indented once The closing brace MUST be on the next line after the body The body of each structure MUST be enclosed by braces This standardizes how the structures look and reduces the likelihood of introducing errors as new lines get added to the body 51 if elseif else An if structure looks like the following Note the placement of parentheses spaces and braces and that else and elseif are on the same line as the closing brace from the earlier body php php if expr1 if body elseif expr2 elseif body else else body The keyword elseif SHOULD be used instead of else if so that all control keywords look like single words 52 switch case A switch structure looks like the following Note the placement of parentheses spaces and braces The case statement MUST be indented once from switch and the break keyword or other terminating keyword MUST be indented at the same level as the case body There MUST be a comment such as no break when fallthrough is intentional in a nonempty case body php php switch expr case 0 echo First case with a break break case 1 echo Second case which falls through no break case 2 case 3 case 4 echo Third case return instead of break return default echo Default case break 53 while do while A while statement looks like the following Note the placement of parentheses spaces and braces php php while expr structure body Similarly a do while statement looks like the following Note the placement of parentheses spaces and braces php php do structure body while expr 54 for A for statement looks like the following Note the placement of parentheses spaces and braces php php for i 0 i 10 i for body 55 foreach A foreach statement looks like the following Note the placement of parentheses spaces and braces php value foreach body 56 try catch A try catch block looks like the following Note the placement of parentheses spaces and braces php php try try body catch FirstExceptionType e catch body catch OtherExceptionType e catch body 6 Closures Closures MUST be declared with a space after the function keyword and a space before and after the use keyword The opening brace MUST go on the same line and the closing brace MUST go on the next line following the body There MUST NOT be a space after the opening parenthesis of the argument list or variable list and there MUST NOT be a space before the closing parenthesis of the argument list or variable list In the argument list and variable list there MUST NOT be a space before each comma and there MUST be one space after each comma Closure arguments with default values MUST go at the end of the argument list A closure declaration looks like the following Note the placement of parentheses commas spaces and braces php php closureWithArgs function arg1 arg2 body closureWithArgsAndVars function arg1 arg2 use var1 var2 body Argument lists and variable lists MAY be split across multiple lines where each subsequent line is indented once When doing so the first item in the list MUST be on the next line and there MUST be only one argument or variable per line When the ending list whether or arguments or variables is split across multiple lines the closing parenthesis and opening brace MUST be placed together on their own line with one space between them The following are examples of closures with and without argument lists and variable lists split across multiple lines php php longArgsnoVars function longArgument longerArgument muchLongerArgument body noArgslongVars function use longVar1 longerVar2 muchLongerVar3 body longArgslongVars function longArgument longerArgument muchLongerArgument use longVar1 longerVar2 muchLongerVar3 body longArgsshortVars function longArgument longerArgument muchLongerArgument use var1 body shortArgslongVars function arg use longVar1 longerVar2 muchLongerVar3 body Note that the formatting rules also apply when the closure is used directly in a function or method call as an argument php bar arg1 function arg2 use var1 body arg3 7 Doc Blocks Descriptions MUST BE a full sentence with a capital to start and period to end Short return and parameter descriptions MUST be included if present There MUST be one space before and after parameters php Short description param string string Parameter descriptions must be a sentence with full stop return bool True if user is added else false 8 Conclusion There are many elements of style and practice intentionally omitted by this guide These include but are not limited to Declaration of global variables and global constants Operators and assignment Interline alignment Class name prefixes and suffixes Best practices Future recommendations MAY revise and extend this guide to address those or other elements of style and practice"},{"title":"Code of Conduct","tags":["Developers","Contributing"],"url":"/developer/contributing/conduct","content":" Code of Conduct Adapted from Swifts Code of Conduct v13 for now because a copied code is better than no code As contributors and maintainers of this project and in the interest of fostering an open and welcoming community we pledge to respect all people who contribute through reporting issues posting feature requests updating documentation submitting pull requests or patches and other activities We are committed to making participation in this project a harassmentfree experience for everyone regardless of level of experience gender gender identity and expression sexual orientation disability personal appearance body size race ethnicity age religion or nationality Examples of unacceptable behavior by participants include The use of sexualized language or imagery Personal attacks Trolling or insultingderogatory comments Public or private harassment Publishing others private information such as physical or electronic addresses without explicit permission Other unethical or unprofessional conduct Project maintainers have the right and responsibility to remove edit or reject comments commits code wiki edits issues and other contributions that are not aligned to this Code of Conduct or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate threatening offensive or harmful This code of conduct applies both within project spaces and in public spaces when an individual is representing the project or its community Instances of abusive harassing or otherwise unacceptable behavior may be reported by contacting a project maintainer at devvanillaforumscommailtodevvanillaforumscom All complaints will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances Maintainers are obligated to maintain confidentiality with regard to the reporter of an incident"},{"title":"Contributing","tags":["Developers","Contributing"],"url":"/developer/contributing/","content":" How to Contribute General 1 Welcome folks to the communityhttpsopenvanillaforumscom and be awesome 1 Answer questions 1 Report issueshttpsgithubcomvanillaforumsvanilla like a pro see below 1 Triagetriagingissues issues already reported 1 Test prereleaseshttpsopenvanillaforumscomcategoriesblog 1 Contribute docshttpsgithubcomvanilladocs 1 Help translate Vanilladeveloperlocales 1 Evaluate community addons offer feedback 1 Do accessibility testing Unplug your mouse turn on a screen reader and see what its like to use Vanilla Developers 1 Contribute code via pull requestsdevelopercontributingpullrequests requires Contributor Agreementhttpsopenvanillaforumscomcontributors 1 Contribute addons themes to the Official Directoryhttpsopenvanillaforumscomaddons 1 Audit code for security disclose issues responsiblydevelopers Sections of our contribution guidelines are adapted or copied from Swifthttpsswiftorgcontributing because they are awesome Reporting issues like a pro First check for duplicates by searching on GitHub All clear Then make sure you cover three points A concise description of the problem If the issue is a fatal error include a debug trace Otherwise describe the behavior you were expecting to see along with the behavior you actually observed A reproducible test case If you need to include a lot of code to do this make a gist on GitHub and link it Include the precise Vanilla version number and any relevant system information ex OS PHP version settings MySQL settings Triaging issues There are a number of things you can do to help triage issues in the issue tracker Reproduce it For a bug to be actionable it needs to be reproducible If you cant reproduce the bug try to figure out why Get in touch with the submitter if you need more information Reduce bugs Once a bug can be reproduced reduce it to the smallest amount of code possible Reasoning about a sample that reproduces a bug in just a few lines of Swift code is easier than reasoning about a longer sample Eliminate duplicates If two bug reports refer to the same underlying problem mark the newer one as a duplicate of the older one Doing so allows others to work more effectively"},{"title":"Pull Requests","tags":["Developers","Contributing"],"url":"/developer/contributing/pull-requests","content":" Using pull requests to contribute code We love pull requests Theyre the core of our workflow All code is added to Vanilla via pull requests PRs A pull request is simply a request to merge code from a particular branch into another usually a feature or hotfix branch into master GitHubs pull request feature tracks discussion labels assignments and changes over time to a pull request Creating a pull request 1 Branch from master and checkout that branch 2 Make your change commit it 3 Use GitHub to open a pull request against master Writing a great pull request Pull request titles and commit messages should be in the present imperative tense This means they should read like a command Examples Fix issue in the dispatcher where Improve our handling of Always check for a negative value in A list of pull request titles should read like a changelog Each is its own concise summary of what has changed In the description include additional rationale for your change Bullet point lists are a great way to summarize details about your changes Never try to address multiple unrelated issues in a single pull request Pull request checklist Have you signed the contributors agreementhttpsopenvanillaforumscomcontributors Did you target the correct branch usually master Is your title written like a concise release note Does your description provide rationale for your change Did you carefully follow our coding standardsdevelopercontributingcodingstandard Feedback on pull requests It doesnt stop there Heres what you can do for currently open pull requests you didnt write Check their coding standards and comment on the line where mistakes were made Is the code clean and wellcrafted Think about the broader context of the change Is this a good idea Test the change Leave a comment on what scenarios you tested This helps us get things merged faster Helping us keep the PR queue short means your PR can get in that much faster We always appreciate extra sets of eyes on our code changes"},{"title":"Data privacy","tags":["Developers"],"url":"/developer/data-privacy/","content":" Types of Information Vanilla makes distinctions about what user information is public vs personal and we deal with these types of information in different ways This is a technical document to avoid privacy issues when configuring your forum or writing a plugin Public user info We consider usernames and user IDs UserName and UserUserID to be public information This data is used in URLs embedded in page data and generally available to any user with basic permission to view or access your forum For this reason we do not recommend using real names or other personally identifiable data for usernames Personal user info We consider emails UserEmail and IP addresses recorded in multiple contexts to be personal info Access to this data is governed by a special permission that by default is only granted to moderators community managers and administrators You can customize this for your community"},{"title":"Advanced Embedding","tags":["Features","Embedding"],"url":"/developer/embedding/advanced","content":" Overview The advanced embedding technique is for developers who require programmatic interaction between the Vanilla iframe and their parent window It employs easyXDMhttpeasyxdmnetwp and a special container layer to achieve this It requires a more indepth setup than Vanillas basic embed solution Setting Up Advanced Embedding Enable forum embedding via the Dashboard Then set GardenEmbedAllow to 2 in your config Cloud customers will have this done by support staff 1 Include easyXDM jseasyXDMeasyXDMminjs 2 Include Vanillas advanced embed script jsvanillaembedjs 3 Create a div to contain Vanilla and give it an ID 4 Call Vanillaembedoptions Options Vanillaembed takes an associative array of options root Required The root url of your Vanilla forum Example httpcommunityyoursitecom container Required The ID or DOM element of the container for Vanilla initialPath Optional The initial path to browse to when embedding the forum Our example below demonstrates using the hash part of the URL to automatically set this eg sitecomembedpagecategoriessomecategory sso Optional An SSO string that will automatically sign the user into Vanilla See our example codehttpsgithubcomvanillaforumsjsConnectPHPblobmasterfunctionsjsconnectphpL130 autoStart Optional Whether or not to start the embed when embed is called If this is false then you must call embedstart to start the embed Default true onReady Optional A callback function to call when the embed is ready notifyLocationpath Optional A function that will be called when the url of the embedded iframe changes You can use this callback to update your history By default this function adds the path as the current locations fragment Combine this with initialPath to implement your own custom history heightx Optional A function that is called to set the height of the embedded iframe If you override this method then you can access the embedded iframe using thisiframe Methods start Start the embed Only call this method if you set autoStart to false setLocationpath Manually set the location of the embedded iframe Just specify the path and not the full domain of the embed Custom Callbacks The embed API allows custom Javascript to be called between the parent and child iframes Exposing a method to Vanilla You can expose a method to the child iframe with the following code javascript VanillaembedfnfunctionName functionargs The embed requires all functions on both sides to be explicitly registered to prevent a third party hijacking the embed and calling functions with unforeseen consequences Vanilla embed supports a callback function on both ends of the embed If you want to support a callback function then declare it as the last argument of your function When the other endpoint of the embed calls your function using callRemote it can then specify a callback and the framework will handle calling the callback across the domain Calling a method in Vanilla You can call a method in Vanilla with the following code javascript VanillaembedcallRemotefunctionName args callback If you supply the callback argument to callRemote then it will be supplied as the last argument to the remote function It is the remote functions job to call the function Keep in mind that using call apply etc to set a context for the function will not work as a context cannot be passed across the domain Functions you can call on Vanilla Vanillaembedsignout Calling this function will sign the user out of Vanilla It wont refresh the page so you may want to do that afterwards Example implementation html Sample Embed body margin 0 embedVanilla iframe width 100 foo Help older browsers parse JSON easyXDMDomHelperrequiresJSONjseasyXDMjson2js var vanillaEmbed new Vanillaembed The element or its ID container embedVanilla This is the location of the forum root httpyoursitelocal initial path please start it with a initialPath windowlocationhashsubstring1 onReady function A lot of the functions need to be done after the embed is ready This how you set the location of the embedded frame vanillaEmbedsetLocationcategories "},{"title":"Embedding","tags":["Features","Embedding"],"url":"/developer/embedding/","content":" Embedding Forum Embedding Vanilla Forums works by putting a snippet of code on your website page and may be a choice if you want to insert your forum into a site quickly The snippet points to some javascript and the forum is embedded into the page using an iframe Embedding Checklist 1 Choose the embed friendly theme This theme has minimal padding around it and will look good at any width Make modifications in Customize theme as you like 2 Ensure you have Enabled Embedding in your dashboard 3 Make sure that the page in which you embed is free of javascript errors Some considerations when it comes to Embedding 1 The possibility of slower loading times as your site needs to load the forum via JavaScript along with any other content you may have loading via JavaScript 2 Issues with SEO as Google and other search engines dont always do a great job of indexing framed content Embedding comments This feature will allow those of you who have a blog or news site to use Vanilla as a commenting system and really engage readers who might otherwise just enter a comment and leave 1 A single profile reputation and user experience across the community and the comments 2 Engage commenters with Vanillas existing gamification and curation features 3 Use blog traffic to quickly seed community participation and vice versa How do I implement comments There is a WordPress pluginhttpswordpressorgpluginsvanillaforums available that allows you to enable comments on your WordPress blog from your WordPress dashboard Alternately we have a universal javascript code snippet that can be placed into any page to get comments enabled If you are using different blog software you will need to edit the blog template and replace the existing blog comments with the code that can be found in the Dashboard under ForumBlog Comments Use our Universal Code the code snippet can be modified to create discussion threads in the appropriate forum category based on the blog post category What does Vanilla use as an excerpt from my blog article when creating a blog comment discussion When Vanilla creates a discussion thread based on a blog article it will grab the blog title the first few lines of the blog text and an image You can use Open Graph meta tags to specify what image should be used Otherwise it grabs the first 4 images on the page and finds the best one it can ie the biggest image that is at least 100x100 but smaller than 800px wide and not bannershaped Readers can log in using a Disqus ID Twitter Google FaceBook or via single sign on"},{"title":"Writing API Endpoints","tags":["Developers","Framework","API"],"url":"/developer/framework/apiv2/api-endpoints","content":" Controller Endpoints When writing an API controller class each method represents an endpoint How to define those endpoint names and parameters is covered in the resource routingresourcerouting guide This guide concerns writing the contents of a method The Controller Base Class Although controllers dont need to inherit from any class the VanillaWebController class offers useful functionality and is going to be the class you inherit from almost 100 of the time This guide assumes you are inheriting from that class and using its utility methods Dependency Injection Most controllers are thin wrappers that add permission checks around calls to models that do most of the real work The dispatcher creates all controllers using a dependency injection container so you can have your controllers models and other support objects properly initialized by declaring typehinted parameters in your controllers constructor The controller base class also has some default dependencies that you can also use getSession This is the session object corresponding to the user that invoked the controller getEventManager This is the event manager and can be used to fire events from within the controller The Anatomy of a Controller Action When writing a controller action your methods are going to have a similar layout Take this post action as an example php public function postarray data Check permissions thispermission Define the input schema sch thisschema FUNCTION Define the output schema out thisschema FUNCTION out Validate the input data against the input schema row schvalidatedata Do the controllers job result thismodelinsertrow Trim the full result to the output schema result outvalidateresult Return the result return result Check Permissions The first line of most actions is a call to thispermission This applies even if your endpoint doesnt require any specific permissions and has few exceptions If you dont think your endpoint requires a permission then just make the call with an empty string php thispermission no specific permission required We want to strictly enforce a permission call because there can be other reasons why a user may not have permissions such as a site being in update mode or being a private community Such permission restrictions are known as bans There are several default bans listed as constants on the VanillaPermissions class You can bypass a ban by specifying it as a permission name in your call to the permission method php This endpoint is still available when the site is in update mode thispermissionVanillaDiscussionsView PermissionsBANUPDATING Checking Multiple Permissions If an endpoint requires multiple permissions you can make several calls to permission Try and put the most important permission first but the only impact the order of the calls has is on the order of error messages if the user doesnt have either permission If an endpoint is available to a user with any of a set of permissions then specify all of them as an array in one call to permission Later Permission Checks You can make calls to permission later in the action The most common reason to do this would be to lookup a record before deciding what permission the user needs Even if you make a permission call later like this you should still include an initial call to permission Always be thinking about protecting your endpoints Define The Input Schema The input schema is important for the following reasons 1 It cleans your input data beyond what JSON can do For example dates are converted into DateTimeImmutable objects 2 It helps define your APIs specification Proper APIs should be backwardscompatible whenever new features are added The schema helps ensure you support your old consumers 3 It helps secure your endpoint using a whitelist of whats allowed This means you dont have to worry about extra database fields sneaking in and overwriting sensitive data such as admin flags Ask any security expert and theyll tell you that whitelist security is preferred to blacklist security 4 It documents your endpoint The schema is used to generate automatic documentation but beyond that its also useful to other developers that are modifying your endpoint Schemas returned from the schema method are instances of the VanillaSchema class which is a thin subclass of the GardenSchema class that adds some meta information useful for endpoint documentation and events for extension Define The Output Schema The output schema isnt as important a the input schema but a properly specified API should have both The output schemas most important role is for documentation It also helps trim unnecessary data from the result It may seem strange to define the output schema right below the input schema instead of where it is used However this is done to aid in automated documentation generation Validate The Input Data Validating the input is as easy as calling the the schemas validate method This does the following 1 The data is validated If the validation fails then an exception is thrown that the dispatcher understands how to render 2 The data is cleaned Values are coerced to proper types and extraneous fields are stripped This leaves the resulting data suitable for use without worrying about bad data Do the Controllers Job The controllers main job is done after permission checking and input validation What the controller does is up to you but try keeping it simple If you controller is overly complex think of whether that means you need to instead add functionality to your model If you arent sure maybe refactor to a private method on the controller so that the actual endpoint keeps its thin wrapper status Trim The Result You trim the result by validating the output schema This may also have the effect of throwing an error In this case youve done something wrong Hopefully such errors come out in unit testing and not in production Return The Result In API controllers the result is returned rather than being rendered directly In fact the base controller has no render method at all The result is rendered by the dispatcher The Data Class Usually you will return an array which is easily passed to other functions or rendered to JSON Returning an array in this way represents a 200 response If you want to return some other response code you can return a GardenWebData object that takes an HTTP status code as an argument in its constructor The Data class also implements array access so its fairly easy to move from an array to an instance of this class You can also return an object that implements JsonSerializable An object like this that doesnt have any other specific information will only renderable as JSON which isnt as forwardscompatible as the other classes so be careful here The Data class isnt in its final form and it will get more and more support for advanced scenarios in the future Tips And Tricks Try and not reference any global objects or static methods in your controllers Use dependency injection We are trying to wrestle globals out of our application This wont be 100 possible at first but keep the theory in the back of your mind Clever yet lazy developers may notice that action methods have just gotten a lot longer than previous API versions This is all for good reason and I hope this guide lays that out quite clearly We want a good testable secure API The only way to achieve that is to have the endpoints properly specified This will pay dividends in the long term Okay this isnt exactly a tip or a trick but the clever yet lazy developer is likely to scroll and read only this section Still defining schemas is probably going to be the most arduous task If you define a method that returns the output schema for your get endpoint then youll be able to use that same schema as the row format of your index endpoint php public function getRowSchemamethod return thisschema method out In your index endpoint out thisschema a thisgetRowSchema FUNCTION out In your get endpoint out thisgetRowSchemaFUNCTION Remember to always make the initial call to permission Protect that endpoint You may have noticed that the examples above have odd names for the schema variables Thats because variables with three characters indent nicely with method chaining and schemas are very likely to method chain Dont hate on the 3LVs"},{"title":"Authentication","tags":["Developers","Framework","API"],"url":"/developer/framework/apiv2/authentication","content":" Authenticating API Calls When making calls to the API youll need to pass an access token in order to authenticate as a user Vanilla has core support for access tokens with the following features Access tokens can be issued verified and revoked with the AccessTokenModel An access token submitted in the Authorization header will authenticate the appropriate user Expired access tokens are automatically pruned from the access token table but stick around for a bit to give appropriate expired errors Issuing Access Tokens There isnt a builtin user interface for issuing access tokens yet Right now addons are expected to issue access tokens as part of their specific singlesignon mechanism You can create and issue access tokens with the AccessTokenModel The AccessTokenModel is a regular model but you will usually be interacting with it through specific methods php Issue a token model new AccessTokenModel accessToken modelissueGdnsessionUserID 1 month scope Verify a token tokenRow modelverifyaccessToken Revoke a token modelrevokeaccessToken When a token is issued it is also signed with its expiry date and a secure hash These are verified before a token is looked up to help prevent certain brute force attacks Even if an access token passes its check it must also be verified from the database In this way access tokens can be revoked before they expire Access Token Scope WIP The issue method has a scope parameter This can be left empty or you can specify an array of permission names If you specify a scope like this then the access token will reduce the permissions of the user for the request to those listed in the scope In this way access tokens can be issued with less permissions than a user has Its considered a best practice to use a scope with only the permissions you need You can never have a scope that gives a user more permissions than they already have If more permissions are specified then theyll be ignored Passing Access Tokens Access tokens are past to REST requests in the Authorization header You pass an access token with the bearer scheme Authorization Bearer If the access token verifies then the request will be made with the appropriate user If it doesnt then there will be a 401 error In this case check the XWWWAuthenticate header for specific information"},{"title":"Writing APIs","tags":["Developers","Framework","API"],"url":"/developer/framework/apiv2/","content":" The Vanilla APIv2 Vanillas APIv2 offers a powerful yet simple way of creating RESTful API endpoints in your application With version 2 of the API we consider Vanilla to be an API first framework where you write your API first and then think about the resulting HTML This offers several benefits 1 An API is easier to test lending well to automated testing 2 You can connect to an API from different clients and not just browser This lends to the possibility of mobile clients or commandline automation 3 An API often offers more application coverage beyond what just the user interface sees For example your user interface may not allow certain records to be deleted but an API will have that endpoint if you eventually want it Features The API offers the following features for developers Resource URL routing to API controllers If you are familiar with RESTful APIs youll be right at home with Vanillas routing You can specify separate methods for the different HTTP methods GET POST DELETE etc allowing you to concentrate on the task at hand Controllers are dependency injected by the dispatcher This allows controllers to be relatively simple where each specific controller declares only the dependencies it requires In fact the dispatcher doesnt depend on a specific controller base class but we provide one with common utility functionality Controller endpoints concern themselves with retrieving data and returning it like a PHP function The dispatcher handles rendering In this way an endpoint can be rendered to different formats without you having to worry about the details for every endpoint Exceptions thrown from your methods are rendered correctly from the dispatcher Some exceptions such as not found or method not allowed are intelligently determined by the dispatcher Whitelists request data coming in using the Schema class In this way you can be sure that a malicious user cant post extra information to attack your endpoint The Schema object also supports automatic documentation of your endpoints TODO About This Guide This section walks you through creating API controllers and writing endpoints It doesnt go into great detail on individual method parameters though There are a lot of options so we suggest looking at the classes mentioned in this guide to learn more information"},{"title":"Resource Routing","tags":["Developers","Framework","API"],"url":"/developer/framework/apiv2/resource-routing","content":" RESTful Resource Routing to Controller Methods This section tells you how to name your controller objects and methods so that they can be accessed by API requests By default all of your controllers are accessed from the apiv2 base path After that the rest of the path and the HTTP method determines what method gets called within your app Controller Names In order for a controller to be accessible from the API its name must end in ApiController For example if you want to write a controller for the discussions endpoints you would name it DiscussionsApiController URLs support dashes When a dash is encountered it will map to a capital letter in the controller name For example the sitesproxy endpoints map to the SitesProxyApiController Vanillas addon manager is caseinsensitive but we recommend that you name your classes with proper casing because not all autoloaders are caseinsensitive In RESTful APIs controllers should be plural Think of controllers as folders in your file system Folders contain many files and are usually named with the plural words such as documents or pictures Always try and name your controllers in a similar way When working on a project with many people its important to stick to a common naming convention Currently controllers do not support namespaces but that is coming soon When it does the namespace wont matter when routing to the controller so choose your controller names wisely in order to avoid clashes with other controllers Methods Names Actions When adding methods actions to your controllers their names determine what what type of request theyll map to Here are the rules that determine which action is called ltmethodgt maps with METHOD controller ex DiscussionsApiControllerpost maps with POST discussions ltmethodgtname maps with METHOD controllername ex ProfileApiControllergetactivity maps with GET profileactivity index maps with GET controller name maps with any HTTP method Try to avoid such global actions URLs can also contain dashes for method names They map in much the same way as controller names Because methods are caseinsensitive a URL of controllermycomments is equivalent to controllermycomments We may remove these ambiguities in the future so make sure to use proper casing and dashes in your method names and URLs respectively HTTP Method vs Controller Method The HTTP method refers to the method of the HTTP request This is usually one of the following verbs GET POST PATCH PUT DELETE HEAD and OPTIONS With object oriented programming functions declared on a class are also referred to as methods Its sometimes confusing trying to differentiate between the two For this reason we will usually refer to the HTTP methods as methods and the other methods as actions Protected Methods Usually all public methods can be accessed via URL This could present a security concern where you might want a class method to be public but not accessible via API There are a couple of ways to protect public controller methods 1 Getters and setters that begin with get set or is and are followed by a nonunderscore character cannot be accessed by the API If you want to make such a name accessible such as settings you can put an HTTP verb before the name ex getsettings 2 If your controller implements an isProtectedname method then it will be called by the router to check all method names to see if they are public actions Parameters When you add parameters to your methods they get mapped from the URLs path This is usually how you add a records ID to your RESTful API For example you can map GET comments123 to CommentsApiControllergetid Note In previous versions of Vanillas API method parameters were also mapped from the query string This is no longer the case so make sure to keep this in mind if you are upgrading older endpoints Parameter Ambiguities Lets say youve defined the following methods on your controller php class DiscussionsApiController public function indexpage public function getid Looking at the definition you would expect we want something like the following GET discussionsp2 maps to DiscussionsApiControllerindexp2 GET discussions123 maps to DiscussionsApiControllerget123 The problem is that the router doesnt know which method you want to map to By default because the get method takes precedence over index it would get dispatched both times To avoid these ambiguities there are a few strategies 1 Use the query string more In the above example the page should really be a query string parameter because thats how its behaving This is a break from Vanillas older APIs 2 Parameter names can act as constraint By default Vanilla has a constraint on the id parameter where it must contain all digits perfect for database primary keys Constraints are regular expressions or callbacks and are added to the routing object Try to avoid adding constraints yourself though because they are currently global 3 Parameter count matters when mapping paths to actions A path with more or less parts than action parameters will not map to that method If your action has optional parameters then they arent required though A path with less parts will call your action with the remaining default values If you understand these rules you will be able to overcome most edge cases However you should aim to keep your controllers simple We dont want to see complex action names just because you are worried about name clashes Parameter Mapping Some parameters will be automatically mapped from request data In order to map request data you can use the following naming convention Note that the type hints matter TODO but this is a good idea array query will receive the query string as an array GET array body will receive the request body POST array data will receive a combination of the reflected method parameters query string and body Use this to include the method parameters in a schema check GardenWebRequestInterface will receive the request object variadics will receive the rest of the path path is like the variadic but will get a string TODO Using parameter mapping begins to make controller methods look more like model methods or plain PHP functions This is intentional and you should keep that theory in mind when writing controller methods Controller methods should be able to be called without the entire request bootstrapping process A Default RESTful Resource Controller In general you want to write your controller to contain mainly the basic HTTP methods Often this will be all that you need and will provide basic CRUD functionality for a database table Below is a skeletal widgets resource illustrating this example php class WidgetsApiController List and search for widgets public function indexarray query Add a widget public function postarray data Update an existing widget public function patchid array data Delete a widget public function deleteid "},{"title":"Assets","tags":["Developers","Framework"],"url":"/developer/framework/assets","content":" Assets Assets organize content in a document Assets are called by the main template eg defaultmastertpl which renders the content currently stored in them Assets are managed with code via plugins or the theme hooks file Default assets Vanilla uses these assets by default Head Content Panel and Foot You cannot rely on every theme having a Panel which is typically used as a sidebar The Content asset is required because it is where the view is rendered You can however assign it additional content Using assets You can create your own arbitrary assets in your templates and simply add content to them using GdncontrolleraddAssetAssetName Content ContentName This is a great strategy for creating flexible themes that are easily customized by rearranging assets in the defaultmastertpl file A common scenario is using modulesdeveloperframeworkmodules to add content to an asset Note In plugin hooks you will typically be using Sender in place of Gdncontroller since the Sender is the controller You can set the sort order in which content in an asset is displayed via the configdeveloperconfiguration Use a key like ModulesApplicationAsset eg ModulesVanillaContent to define an array of ContentName values that you used when calling addAsset See ModuleSortContainer in GdnController"},{"title":"Controllers & URLs","tags":["Developers","Framework"],"url":"/developer/framework/controllers","content":" Controllers In our MVC context controllers are the traffic cops They receive a parsed request typically the URL in the address bar build some data using models and send it back to the browser in a view Dispatcher Vanilla maps URLs to controllers in a fairly direct way The Dispatcher GdnDispatcher receives incoming requestsdeveloperframeworkrequests and invokes the appropriate controllers Mapping URLs First it looks for an application name then a controller name then a method name then any arguments which will be passed in the order given An example that includes all of these is dashboardprofilenotifications1Lincoln This calls the Dashboards ProfileController invoking the Notifications method which it passes the arguments 1 and Lincoln in that order It roughly translates to ProfileController new ProfileController ProfileControllernotifications1 Lincoln If the application is omitted it will automatically search enabled applications for a suitably named controller Therefore avoid controller name overlap If the method name is omitted the Index method will be invoked Therefore the basic profile URL profile1Lincoln could be more verbosely written as dashboardprofileindex1Lincoln to more clearly understand what code it is invoking Pretty URLs All requests are dispatched thru the indexphp file While its possible to use the framework by passing a p parameter with the rest of the path eg indexphppprofile its best to configure your server to handle pretty URLs On Apache this is accomplished with the htaccess file provided with Vanilla that contains these rewrite rules RewriteCond REQUESTFILENAME d RewriteCond REQUESTFILENAME f RewriteRule indexphpp1 QSAL Consult the communitydevelopercommunity if you need assistance configuring another server platform such as nginx or IIS Vanilla will attempt to detect whether your system can handle pretty URLs during installation If it sets it incorrectly the configdeveloperconfiguration setting to enable pretty URLs is ConfigurationGardenRewriteUrls TRUE The ability to use nonpretty URLs may be deprecated in the future"},{"title":"Database access","tags":["Developers","Framework"],"url":"/developer/framework/database","content":" Database layer Vanilla only supports MySQL It has a generic SQL driver implementation built on top of PDO to potentially allow for other databases which you can see in librarydatabases However at this time the Vanilla team has no plans to support additional databases The best way to access the database is via existing modelsdeveloperframeworkmodels For instance to get a list of discussions use the Get method in the DiscussionModel You can rely on modelbased access to already be optimized for performance and utilize caching if its available Building queries The SQL object supports chaining You can call it with Gdnsql Heres a simple example that gets a single discussion by its ID We write its pieces in the order of a SQL statement but they can be called in any order up to the get The get is the call that fires the built query Gdnsql select fromDiscussion whereDiscussionID DiscussionID get Note that this is an impractical query to use in your addon because this functionality already exists in a model DiscussionModel new DiscussionModel DiscussionModelgetIDDiscussionID Always use preexisting calls in models when they are available for better performance and forwardcompatibility Heres an example of a complex select that pulls out all the stops Gdnsql selectcm selectiuName InsertName fromConversationMessage cm joinConversation c cmConversationID cConversationID joinUserConversation uc cConversationID ucConversationID and ucUserID ViewingUserID left joinUser iu cmInsertUserID iuUserID left beginWhereGroup whereucDateCleared is null orWhereucDateCleared endWhereGroup wherecmConversationID ConversationID orderBycmDateInserted asc limitLimit Offset get Notice the use of limit offset where groups where conditions including less than null aliasing and multiple joins Updates and inserts An insert is a single step that takes the table name and an array of values to insert as parameters GdnsqlinsertUserConversation array ConversationID ConversationID UserID TargetUserID An update requires setting the table in Update ends with a Put much like the selects ending Get GdnsqlupdateConversation setLastMessageID MessageID whereConversationID ConversationID put Direct queries The query method allows for sending unfiltered SQL queries to the database This is strongly discouraged because it can easily cause security flaws performance problems and compatibility problems Gdnsqlqueryselect from GDNComments Structure Vanilla allows you to define database structures in code Use the Gdnstructure method to use this object Here well look at part of the definition of the User table as an example Gdnstructure primaryKeyUserID columnName varchar50 FALSE key columnPassword varbinary100 columnShowEmail tinyint1 0 columnGender arrayu m f u columnPreferences text TRUE columnDateOfBirth datetime TRUE columnScore float NULL set column takes 4 parameters name type nulldefault true to allow nulls false to not any other value becomes the default with disallowed nulls and keytype primary key index unique or fulltext defaults to false primaryKey creates an autoincrementing column The Gender column uses an array to create an enum type the rest are selfexplanatory The set method takes 2 parameters which should nearly always be false which is their default The first is Explicit which is whether to force the structure of the table to match exactly the definition above The second is Drop which is whether to drop and recreate the table"},{"title":"Datasets","tags":["Developers","Framework"],"url":"/developer/framework/datasets","content":" Datasets The GdnDataset object is a way to store data Most of the time this data is the result of a query to the database When you use our database objectdeveloperframeworkdatabase as you always should to execute a database select query it will return a dataset Here are a few commonly used methods youll want to know about count returns the number of records in the dataset firstRow returns the first record in the dataset resultArray returns an array of all the data in the dataset often used directly in a foreach loop Just as the database object is chainable so is the dataset object The databases get method returns the resulting dataset object so the two chain together seamlessly This example gets the number of records in the database matching a query howMany Gdnsql select fromGDNSomeTable get Now its a dataset count This example is a common construct for iterating thru records returned from a database users Gdnsql selectName fromUser whereCountComments 1 get foreach resultresultArray as user Do something to each user with 1 comment Another use case for datasets is joining datasets together after separate database queries which can result in better performance This is simply done by adding data to the array or object dataset manually See the joinUsers method in the UserModel for one such example"},{"title":"Email","tags":["Developers","Framework"],"url":"/developer/framework/email","content":" Sending Emails The Garden framework includes an Email object for sending and configuring emails The formatting of Vanilla Emails is handled by the EmailTemplate property of the Email object EmailTemplate The EmailTemplate object helps to organize the components of an email and prepare them for output These components are Title A string placed in a block before the rest of the email text in the default email template Can be HTMLformatted or plaintext Lead A string placed just below the title with a font size between the titles and the messages in the default email template Can be HTMLformatted or plaintext Message A string usually containing the meat of the email Can be HTMLformatted or plaintext Footer A collection of keyvalues including the footer text and the background color and text color Placed after the rest of the email content in the default email template The text can be HTMLformatted or plaintext Button A collection of keyvalues including the button text the link url and the background color and text color Renders as a buttonlooking link in the default email template but could also be formatted to appear as a simple link Appears after the email message The text can be HTMLformatted or plaintext Image A collection of keyvalues including the image source url the link url and alt text Appears at the top of the email before any other content and has a maxwidth of 75 of its container in the default email template An email can contain any or none of the above components These components are properties on the EmailTemplate object and can be set using the corresponding setter method The EmailTemplate object also has a set of colors that can be used in the template view for background colors and text colors EmailTemplate View The layout and use of the HTML EmailTemplate components is left up to the view Vanilla provides a basic Smarty template with inline css styles for rendering This template lives in dashboardviewsemailemailbasictpl This is the default view for all HTML emails in Vanilla A plugin or theme could specify a new php or Smarty template view using the setView method on the EmailTemplate or by overriding the emailbasictpl view For more info on overriding view from a plugin or theme check out our docs on overriding views in a themethemingviews The same principles found there can be used to override a view in a plugin Default EmailTemplate Values The default color and image values for your forums emails can be uploaded and configured from the Email settings page in the dashboard These values can be overridden by explicitly setting the values in the setButton or setImage methods of an individual emails EmailTemplate Setting Up an Email Heres an example of setting up a basic email in Vanilla php Set up the email object emailer new GdnEmail emailertofoobarcom emailersubjectEmail Subject Configure the EmailTemplate object email emailergetEmailTemplate emailsetTitleEmail Title setLeadRead this exciting email setMessageEmail body Overrides the default button colors setButtonexternalUrl Check it out ff0000 ffff00 Overrides the default image setImagehttpfoobarcomimagepng externalUrl Image setFooterFooter text Set the configured EmailTemplate emailersetEmailTemplateemail All set to send emailersend "},{"title":"Helpers","tags":["Developers","Framework"],"url":"/developer/framework/helpers","content":" Helper Functions This is a quickstart guide to some of Vanillas globally available functions and methods Familiarizing yourself with them will save you time and effort in the long term and give you clues about how best to use the framework This is by no means an exhaustive list nor full signature documentation Youll want to find them in the source code files at librarycorefunctionsphp for more info Getting setting See functionscompatibilityphp for more info val allows the retrieval of a named key or property from an array or object and optionally provide a default if the named item does not exist default false This is helpful when youre unclear whether a keyproperty is set or what data type you have currently This function was previously named GetValue which is now deprecated setValue is the opposite of val it sets the named value on the arrayobject with the specified value Gdnget retrieves a key from the GDNUserMeta table with a UserID of 0 This is used for generic data storage especially large pluginrelated settings Gdnset places data into the GDNUserMeta table with the given key against UserID 0 Configuration See functionsgeneralphp for more info c grabs a value from the configuration with the option to provide a default false if none is provided saveToConfig saves a value to the config Pass false as the third parameter to only set the config for the current runtime HTML See functionsrenderphp for more info url generates a valid full URL for a resource on your site externalUrl generates a valid URL to a resource not on your current site anchor creates an HTML link img creates an img tag for the provided resource wrap places HTML tags around content Safety tips Use the Form object to generate HTML forms Use the Format object to handle outputting usergenerated content Use safeHeader to send a header Use safeRedirect to redirect a user Use checkPermission to do just what it says on the tin Forum assets See functionsrenderphp for more info userUrl userAnchor take a user and create a URL or full anchor tag around their username userPhoto userPhotoUrl create a users avatar or avatar location respectively categoryUrl generates a categorys URL Developer tools decho outputs nicelyformatted debug information nicer than printr deprecated indicates information about when a method or function was deprecated"},{"title":"Internationalization & Localization","tags":["Developers","Framework"],"url":"/developer/framework/i18n","content":" Adding translatable phrases to Vanilla Considerations for adding phrases to Vanilla or your addon Default to English Use the t for all userviewed text Never use t for HTML classes or other frontend code Always use a succinct definition string Avoid jargon or regional dialect"},{"title":"Framework","tags":["Developers","Framework"],"url":"/developer/framework/","content":" Gardens place in Vanilla Vanilla is built on an MVC framework named Garden Its purpose is to provide an extensible pluggable platform on which to build all the addons that make Vanilla awesome The design of its database handling was influenced by CodeIgniter but its plugin architecture is pretty unique Technically Vanilla is a forum application addon built on top of the Garden framework However we typically refer to the entire stack as Vanilla for branding consistency and simplicity including in these docs If we had it all to do over we would just call the whole thing Vanilla and name the forum application Forum But now were stuck with GDN prefixes all over the place cest la vie The framework is a secondary concern to the forum In practice this means if you request an enhancement or find a bug in a framework piece that isnt used anywhere in the forum wed love a pull request but its unlikely well devote developer time to it Time is precious and were building awesome forums not CodeIgniter 2 or whatever the hip kids are using these days Addons are everything Addons are the most important feature of the framework Our crown jewel the Vanilla forum itself is technically an addon There are many ways for addons to hook into each other and were constantly refining their integration There are 4 types of addons Themes Plugins Applications Locales In the future we plan to combine applications and plugins to simplify things In the meantime the primary difference between them is that applications can use native controllers more easily making more complex software a little less messy to navigate However as of 23 plugins will be able to use native controllers Themes have the full power of plugins via their hooks file but we suggest only using it for aesthetic changes File structure The core framework files are located in librarycore The database layer is contained in librarydatabase and thirdparty libraries are in libraryvendors All our junk is in trunk Our frameworks frontend is built on Javascript and jQuery jQuery files and plugins are in jslibrary while files in the root js folder are custom to our framework Common subfolders in addons will include design CSS and images js modules views and settings structure and config Nonview PHP files are named in the format typenamephp Type is one of class functions or interface We do not rename thirdparty files included in Vanilla Classes in addons nearly always inherit from one or more framework classes Default applications Three applications come preinstalled enabled by default Dashboard Vanilla and Conversations On a technical level Vanilla is simply a Garden addon that works in concert with others to create your forum experience The Vanilla application is only responsible for discussions comments and categories The Dashboard application powers your Dashboard UI users roles activity and much of the core functionality used by a memberdriven website The Conversations application powers private messaging To disable private messaging simply disable the Conversations application If you just want to use the Garden framework you could theoretically disable all the core Applications and roll your own from scratch In reality we recommend always at least using Dashboard Even if youre not building a forum with Garden its definitely built with a usercentric website in mind Let the code guide you Because so much is possible with the framework it can be intimidating to get started Our best advice is look at an existing plugin that does something close to what youre attempting to see how they do it Code examples can guide you to new solutions you didnt know were possible The Skeleton application in applicationsskeleton is heavily documented inline to help you get started Make a copy and get coding but remember forgetting to delete the extraneous docs is like leaving the price tag on your clothes Well judge you Where to start Not sure what doc to read next We recommend reading the plugin quickstartdeveloperpluginsquickstart then try Controllerdeveloperframeworkcontrollers and Modelsdeveloperframeworkmodels Its a selfguided tour from there Dont forget to stop by the community forumhttpsopenvanillaforumscom for guidance When in doubt dance"},{"title":"Inform Messages","tags":["Developers","Framework"],"url":"/developer/framework/inform","content":" Toaster Notifications Inform Messages allow you to let users know of some action that your plugin or application has taken Inform messages allow you to quickly and easily relay information to users and handle actions based on interaction with those messages Use them freely to notify users of saved forms punishments rewards etc You can send Inform Messages from within a controller or a plugin or from a custom javascript function By default these messages are stackable dismissable and autodismissable They can contain any plaintext string or any unfiltered custom html string They can be passed with JavaScript callbacks to fire on dismissal so some kind of further action can be taken There are even CSS definitions that allow you access to over 100 readymade icon sprites you can use to denote meaning in your messaging Using in core An example native inform message in Vanilla saving drafts When a comment draft is saved you can see an inform message appear on the bottomleft of the screen This message shows a close button on the topright when you hover your mouse overtop and it automatically disappears after a few seconds The code used to make this message appear is located on line 448 of applicationsvanillaclasspostcontrollerphp thisgtInformMessagesprintfTDraft saved at s GdnFormatDate If we didnt want to include the time that the draft was saved we could simplify it further to thisgtInformMessageTDraft saved successfully The t function is Vanillas native Translate function so that the string can be converted to other languages Using in a plugin Adding a message to the screen with a plugin The code to achieve this is pretty easy public function BaseRenderBeforeSender SendergtInformMessageThis is a test With this code the message will appear on every page load for every user signed in or not and it will disappear after a few moments Not exactly a useful message but lets see what else we can do with it public function BaseRenderBeforeSender Only show the message if the user is signed in if GdnSessiongtIsValid SendergtInformMessageThis is a test Dismissable Now the message only shows if the user has a valid session and it doesnt autodismiss The second parameter in the InformMessage method is either a string of CSS classes to be applied to the message container or an array of options If you dont provide the second parameter at all it defaults to Dismissable AutoDismiss which obviously makes it so the message automatically disappears after a few moments or can be immediately dismissed by clicking the close button If you decide to use the second parameter here are the options available to you CssClass An optional set of css classes to pass along to the messages container DismissCallback An optional javascript callback that gets called when the close button is clicked on a message DismissCallbackUrl An optional javascript callback url that gets requested when the close button is clicked on a message If a dismissCallback is specified this option will be ignored Static messages Lets say you want to deliver a message to a particular user and have that message stay on the screen on every page load until that user dismisses the message You can achieve it like this public function BaseRenderBeforeSender Session GdnSession if SessiongtIsValid ampamp SessiongtUsergtUserID 1 ampamp SessiongtGetPreferenceUserDismissedCustomMessage false false SendergtInformMessage This message will stay here until you dismiss it array CssClass gt Dismissable DismissCallbackUrl gt plugindismissmessage Handle the callbackpublic function PluginControllerDismissMessageCreateSender Session GdnSession SessiongtSetPreferenceUserDismissedCustomMessage TRUE This message appears for me because my UserID is 1 and it keeps showing up on every page until I dismiss it At that point the callback url is requested via ajax and the dismissal preference is saved so the message will no longer appear for me Styling a message Lets look at how we can change the appearance of these messages There are over 100 icons available for you to use You can check them out by looking at the icon sprite file located in applicationsdashboarddesignimagesinformspritespng and you can see how to reference them by searching for the css definitions in applicationsdashboarddesignstylecss hint search for spanInformSprite Heres the code to achieve this message SendergtInformMessageltspan classInformSprite Skullgtltspangt This is a test Dismissable HasSprite Note the span at the front of the message This will contain the Skull image you see above Its also necessary for the CSS definition in the second argument to contain HasSprite so that the spacing amp alignment of the icon all works properly Message origin You can also style the inform messages to appear From a specific user Youll need to load a user record for the icon you wish to display and then write the message to the screen like this User GdnUserModelgtGet1 Load the user whos icon you want to showString UserPhotoUser Icon IMPORTANT Give the icon a css class of Icon String This is a test Append some messageSendergtInformMessageString Dismissable HasIcon Send to the screen Inform via JavaScript At some point you may need to write a message to the screen from JavaScript instead of from the server side This can be achieved with a similar JavaScriptbased method gdninformMessageThis is a test And all of the same properties exist so you can be as elaborate as you like gdninformMessageThis is a test CssClass Dismissable DismissCallback somefunction DismissCallbackUrl relativepathtocallbackurl Duplication and stacking You can add as many messages to as many pages as you like If a message is already present on the screen it will not be added a second time and new messages will simply stack oneontopofthenext "},{"title":"Models, Forms, & Validation","tags":["Developers","Framework"],"url":"/developer/framework/models","content":" Models Datasetsframeworkdatasets Controllersframeworkcontrollers Viewsframeworkviews The theory of a Model in MVC is that it is an object representation of the data being manipulated In Garden however the actual object representation of the data comes from the DataSet class in the form of a php stdClass So as you may have guessed already in Garden the model isnt a representation of the data In Garden a model relates directly to a table and with the help of the database object allows you to retrieve information from the table enforce the schema of that table on the data being manipulated and put data into the table The real power of the Model class in Garden comes from its ability to examine the table from which it was created and understand the data types and requirements for putting data into that table When combined with Gardens Validation and Form classes it allows you to create forms with validation already built in The Model class itself is quite simple and can be used on any table in the database Lets take a look at a very basic example of how a model could be used to get some data from a database validate data and update data php Create a validation object to handle validation issues that the model will encounter Validation new GdnValidation Create a new model based on a table in the database called Blog BlogModel new GdnModelBlog Validation Retrieve a DataSet from the Blog table BlogData BlogModelGetWherearrayBlogID 12 Grab the first row of the dataset as an associative array Blog BlogDataFirstRow DATASETTYPEARRAY Blog now contains every column of the Blog table where BlogID 12 Lets change something BlogTitle Some blog title And save it BlogModelSaveBlog Validates And lets try to insert something that we know shouldnt go into the database BlogBlogID Not an Integer And save it BlogModelSaveBlog Doesnt validate When the models GetWhere method is called it does a very simple select from Blog where BlogID 12query that returns all of the columns from that table into a dataset At this point the model still doesnt know anything about the structure of the table When the models Save method is called the first thing it does is uses the Database object to get information about the table so that it can define the tables schema It looks at each columns data types isnullable default values keys etc Then it uses the validation object to build up a set of rules for each column Finally it examines the Blog that was passed as its first argument matching up associative array keys with column names and then checks each field against the rules automatically defined for that table As it encounters problems it builds up a set of validation results that can then be used however you wish typically they are consumed by Gardens form object and displayed on the screen So with just a few lines of code Ive grabbed data from the database altered it and saved it making sure that no invalid data is inserted into the database all exceptions are caught and results can be delivered to the user php printrBlogModelValidationResults Prints Array BlogID Array 0 ValidateInteger This means that the BlogID field has encountered a problem when attempting to validate that the BlogID value was an integer If there had been other errors for that column they would have also appeared for example php Empty value is also incorrect BlogBlogID BlogModelSaveBlog printrBlogModelValidationResults Prints Array BlogID Array 0 ValidateRequired 1 ValidateInteger The validation object will always collect as much information about what is wrong with the data as possible It is then up to the developer what to do with that information Luckily 99 of the time the developer will just let the Form handle the validation results Forms Validation In order for the database models validation datasets to shine we need to get the information out and editable by the users This is where the Form class comes into play Lets take a look at an actual example of how the controller model validator and form work together Lets say we get the following request bloggingtoolpostnew Which is the same as calling the following controller in an imaginary bloggingtool application PostNewMy New method on the post controller would contain php public function New Validation new GdnValidation BlogModel new GdnModelBlog Validation Set the BlogModel on the form thisFormSetModelBlogModel If the form has already been posted back if thisFormAuthenticatedPostBack Attempt to save the form values BlogID thisFormSave If it saved redirect to the new entry if BlogID FALSE RedirectbloggingtoolentriesBlogID Render the form thisRender The forms Save method calls the models Save and then takes any validation results that came out of it If the save was successful the model would have returned the id of the record inserted or updated If not it could take all of the validation results and write them to the screen for the user to see Thats really all there is to saving a bunch of data to the database You might be wondering What fields were actually savedThat all depends on what you put on the form The Form class is a user interface class which means that a large number of its methods actually return xhtml The view for my New method above would look something like this php echo thisFormOpen echo thisFormErrors echo thisFormTextInputTitle echo thisFormTextBoxBody echo thisFormCloseSave In this example you can see Ive referenced two fields on the Model that is being manipulated Title and Body When the forms Save method is called above and the Models Save method is called therein the model validates and attempts to save the data If one of these two fields were required it would return a validation result that would then be written to the screen by thisFormErrors Furthermore if there were a field on the Blog table that were required and not present on this form it would have a validation result for that as well What if we were editing a blog post instead of creating a new one php public function EditBlogID Validation new GdnValidation BlogModel new GdnModelBlog Validation Load the blog being edited Blog BlogModel GetWherearrayBlogID BlogID FirstRow Set the BlogModel on the form thisFormSetModelBlogModel Make sure the form knows which item we are editing thisFormAddHiddenBlogID BlogID If the form has NOT been posted back if thisFormAuthenticatedPostBack FALSE Set the blog on the form thisFormSetDataBlog else Attempt to save the form values BlogID thisFormSave If it saved redirect to the new entry if BlogID FALSE RedirectbloggingtoolentriesBlogID Render the form thisRender I load the blog and set its data onto the form using thisFormSetData At that point the form takes over and knows to either a render the existing data if the form has not been posted back or b render the postback data otherwise And since I added the BlogID to the forms hidden field collection the model will know that it should update a blog row instead of insert a new one"},{"title":"Modules","tags":["Developers","Framework"],"url":"/developer/framework/modules","content":"If controller methods represent the main contentpurpose of a page modules represent secondary information or functions Modules are small groupings of functionality or information on a page Some modules that are bundled with Garden include HeadModule Allows addition of javascript css amp meta information to be rendered in the page MenuModule Handles management and rendering of items in the main menu PagerModule Takes information about a dataset and renders a pagelist GuestModule Displays information for unauthenticated users in the sidebar on how to sign in or register Modules are applicationspecific and are located in the applications modules folder To see all of the modules packaged with Garden browse to applicationsgardenmodules If a module has an associated view it can be found in the applications viewsmodules folder with the same name as the module file minus class and module For example the view associated with the applicationsgardenmodulesclassguestmodulephp is applicationsgardenviewsmodulesguestphp Modules are extended from the Module class which is like a very simple version of the controller class They are typically used to display information in the Panel asset but they can actually be used anywhere in the page A modules default asset is defined with the AssetTarget method which simply returns the name of the asset to add the module to by default Examples The simplest modules will have just two methods AssetTarget and ToString Lets make a Hello World module Create a file called classhelloworldmodulephp and place it in your test applications modules folder if you dont have a test application put it in Vanillas modules folder Open the file and enter the following class HelloWorldModule extends GdnModule public function AssetTarget return Panel public function ToString return Hello World Now lets go add it to a controller Open up a controller in your test application and add the following if you dont have a test application use vanillas controllersdiscussionsphp file and add it to the bottom of the index method right above the call to thisgtRender thisgtAddModuleHelloWorldModule If you browse to this page the text Hello World will not appear in the panel You can change where the Hello World text appears either by changing the value returned by the AssetTarget method or on the fly when the module is added by the controller Lets change the AddModule call to send the module to the Content asset instead of the Panel thisgtAddModuleHelloWorldModule Content Go back and refresh the page to see that the text has moved over to the Content asset The AddModule method will take a string as the first parameter or an instantiated module object So we could have also added the module in the following manner HelloWorldModule new HelloWorldModule thisgtAddModuleHelloWorldModule Organizing Module Sort Order You can organize the order that modules appear in assets by manipulating the Modules collection of the Configuration array Take a look at confconfigdefaultsphp to see the default sort order of corepackaged modules Modules ConfigurationModulesVanillaPanel arrayNewDiscussionModule GuestModule Ads ConfigurationModulesVanillaContent arrayGdnMessageModule Notices Content Ads ConfigurationModulesGardenContent arrayGdnMessageModule Notices Content Ads ConfigurationModulesConversationsContent arrayGdnMessageModule Notices Content Ads The collection names the application followed by the asset to organize The value is an array in order that modules should be organized If a module is not added it will simply be ignored If a module is added that does not appear in the array it will be added after the defined modules and in the order that it was added to the code Doing More While its nice to be able to add messages to pages it doesnt illustrate the true power of modules Modules can be used to retrieve and display data contain forms for submitting data and much more To see all that can be done with modules take a look at the modules in Garden amp Vanilla Listed below are a couple examples of modules that do more than just spit out text applicationsgardenmodulesrecentactivitymodulephpGrabs recent activities for display in the panelapplicationsconversationsmodulesclassaddpeoplemodulephpAdds a form to the panel that allows users to add people to a conversation"},{"title":"OAuth","tags":["Developers","Framework"],"url":"/developer/framework/oauth","content":" SSO with OAuth Overview Vanilla currently provides OAuth2 integrations with these thirdparty services as readytogo addons Facebook Twitter LinkedIn Google Because OAuth 20 is an SSO framework and not a narrowly defined protocol see OAuth 20 Spechttpstoolsietforghtmlrfc6749 custom services work is typically required to set up an OAuth solution for your forum In an attempt to minimize the amount of custom services required to create SSO integrations Vanilla has created a base class that can easily be extended by custom plugins This base class might look like many of our plugins containing event handlers etc it is not intended to be executed directly To take advantage of this class either use our OAuth2 Plugin or Create Your Own OAuth2 Plugin OAuth2 Plugin Overview Vanilla has created an OAuth2 plugin that for most usecases can provide a plugandplay SSO solution OAuth2 accounts are mapped to existing forum accounts by email address or a new account is created if no match is found Workflow This plugin has a workflow of three distinct steps An authorization request request for a code A token request the code is exchanged for an authorization token A profile request by passing the authoriztion token Assumptions Besides requiring that you follow the workflow above this plugin has several assumptions about the setup of the Authorization Server If your Authorization Server does not meet these assumptions it does not mean that you cannot integrate with a Vanilla forum it means that you will not be able to use this plugin out of the box and that you will requires some level of customization All requests from Vanilla are sent with the header ContentType applicationxwwwformurlencoded The Authorization Server will expect an authorization request sent by GET with the following parameters responsetype code clientid redirecturi httpsThe url of the forumentryoauth2 scope state The Authorization Server will respond to a successful log in by sending a code through GET to the redirecturi The Authorization Server will expect a token request sent by POST with the following parameters code the code returned from the authorization request clientid clientsecret redirecturi httpsThe url of the forumentryoauth2 granttype authorizationcode scope The Authorization Server will send a JSON response with the variable accesstoken The Authorization Server will accept a request for the users profile sent by GET with accesstoken The Authorization Server will send a JSON response with at least the following A uniqueID for the user the users email the users name display name nickname NOTE Not supported in this work flow are nonce support a hash sent in the state and verified to be unchanged and refresh tokens Features The OAuth2 Plugin attempts to parameterize as many aspects of the functionality as possible A settings form in the dashboard allows you to set The client id The client secret The full path to the authorization URI registration uri sign out uri token endpoint and profile endpoint The scope The exepected keys in the json response in the profile request Possible Pitfalls A number of things can go wrong when trying to implement SSO with this plugin Double check that all the parameters outlined in the Assumptions section above are met Your forum must be accessed over https and must contact your Authorization Server in the same way Your Authorization Server will usually need to whitelist the redirect URI ie httpsThe url of the forumentryoauth2 Create Your Own OAuth2 Plugin For more on how to create your own plugin see our docs on Pluginsdeveloperplugins Feel free to use the OAuth2 plugin as a template Make sure your plugin extends GdnOAuth2 You may want to change your ProviderKey the key used to store your configuration data in the db to something unique thissetProviderKeymyOauthConnection This key will appear as part of a URL on the public facing site when users connect so you will want to make it relevant readable and url safe Now you can override any of the methods or constants in GdnOAuth2 or create new hooks for added functionality"},{"title":"Permissions","tags":["Developers","Framework"],"url":"/developer/framework/permissions","content":" Permissions Overview Vanilla uses permissions to restrict access to particular content options or workflows There are a number of functions built into the framework to do this efficiently We eschew roledetection as a means of access control For example we would never check to make sure someone was in a role named Moderator before granting access to an option we would check a permission like GardenModerationManage Naming Permissions We use the same dot notation syntax for permissions as we do for config settings A typical scheme would be NamespaceKeywordAction For instance look at VanillaDiscussionsAdd This permissions is registered by the Vanilla application is related to discussions and is specifically for adding For the Namespace first dot tier use the slug name of your addon The Plugins namespace is deprecated The Keyword second dot tier should be the most concise description possible of the part of the addon it governs Whenever possible use one of the following as your Action third dot tier Add Edit View Manage Delete Other action names are avoided and may be renamed or refactored out of the framework in the future However they are not forbidden and never will be Using Permissions There are two basic ways to check a permission One is to use a truefalse conditional typically to CheckPermission in an if statement if CheckPermissionPermissionName Do something special The other is to wholesale block execution by a call to GdnSessionPermission This method automatically triggers a permission exception public function Index GdnSessionPermissionPermissionName Do priviliged things safely now Typically we dont use the first convention to trigger a permission exception manually because the second will cover it Multiple Permissions You can use either method above to check multiple permissions by passing an array of permission names as the first parameter By default it will require ALL permissions named to pass If you pass a second parameter of false then only ONE of the permissions is needed to pass You may find additional permission checks in Vanilla for permission names that do not appear in the Dashboard using this style a normal permission name is passed in an array along with an invisible one This is to allow plugins to define the additional permissions for more granular checks if needed The Owner Flag The forum owners account the one you create when installing Vanilla gets a special flag set on it This is accomplished by setting the Admin column equal to 1 in the User table Accounts with this flag set bypass all permission checks CheckPermission will always return true and no permission exception will ever be thrown for it It will do this regardless of any role assignment For this reason it is extremely important to test your addons with a nonowner account to see your permission checks in action The System Flag The System account is generated for general use by addons and cases where content must be generated by the forum This account is designated by setting the Admin column equal to 2 in the User table This grants the same privileges as the Owner flag and protects the account from deletion or banning Reversed Permission A special case in the framework is the VanillaApprovalRequire permission It is checked with the CheckRequirement function A true result means their content must go to the Moderation queue for approval Therefore a true result actually grants you less permission We dont generally recommend using this construct"},{"title":"Requests","tags":["Developers","Framework"],"url":"/developer/framework/requests","content":" Requests Vanillas base Controller class the class from which all controllersdeveloperframeworkcontrollers are extended accepts a DeliveryType parameter on every request Depending on the type of delivery being requested a controller in Garden will deliver all of a page part of a page or part of a page plus extra information as JSON DeliveryType There are four delivery types available 1 DELIVERYTYPEALL Entire page default 2 DELIVERYTYPEASSET Content for the requested assetdeveloperframeworkassets 3 DELIVERYTYPEVIEW Only the requested viewdeveloperframeworkviews 4 DELIVERYTYPEBOOL Only report request success truefalse If no delivery type is provided in the request DELIVERYTYPEALL is assumed In order to made the controller deliver content other than DELIVERYTYPEALL you would have to append the request URL or post data with the DeliveryType parameter set to the above value you want A DELIVERYTYPEVIEW request can be easily used for progressive data loading That or a DELIVERYTYPEASSET request could be used to update part of a page A DELIVERYTYPEBOOL request is used for actions like closing a discussion DeliveryMethod The DeliveryMethod defines what format you want the response in 1 DELIVERYMETHODXHTML Delivered as HTML default 2 DELIVERYMETHODJSON As JSON 3 DELIVERYMETHODXML As XML 4 DELIVERYMETHODTEXT As textplain since 21 5 DELIVERYMETHODPLAIN No ContentType is set since 21 6 DELIVERYMETHODRSS An RSS feed since 21 Vanilla builds datasets for its pages in generic collections that can be output in any of the above formats assuming an appropriate view is available You can define a DeliveryMethod by appending it to your request like DeliveryType or by appending an extension to your request after the method For example try viewing profile on your forum vs profilejson Note that arguments are added normally after another slash Supposing you wanted to view userid 2s profile with the name Lincoln you would use profilejson2Lincoln Parsing Requests Vanilla parses incoming URLs and parameters for you There is rarely any reason to directly access PHP globals like GET The GdnRequest class in librarycoreclassrequestphp handles this for you Gdnrequestdomain will return the current domain These methods also work as youd expect Host IpAddress Path and Port You can also call Get and Post with a parameter name to see its current value See GdnRequest for more request data A few more useful methods Use GdnrequestisAuthenticatedPostback to check that the current user sent a POST request along with their TransientKey to protect against CSRF attacks All forms built with Vanilla include a TransientKey Use Gdnrequesturl to build safe URLs to other parts of Vanilla The url function is a shortcut to this method Use GdnrequestrequestMethod to find out which Vanilla method was called by the current request"},{"title":"Views","tags":["Developers","Framework"],"url":"/developer/framework/views","content":" Views Once a controller method is called to handle the request how is the xhtml of the page put together Views There are two types of views in Garden Views and Master Views A view relates directly to the controller method that called it and handles rendering content related to that request You can typically think of a view as the content for that page For example if a VanillaDiscussionAll method is called the view for that method would handle rendering all of the discussions Everything that is rendered around the discussions is handled by the Master View The Master View allows you to create a consistent layout for the pages in the application A single master view defines the look and feel and standard behavior for all of the pages or a group of pages in the application Lets go back to the filesystem so you can get a better picture In the following example the request in the url would have been httpmyservercomgardenprofileindexmark So this means that Gardens Profile controller was requested the index method was requested from the profile controller and the first argument into the index method is mark In other words the request was ProfileControllerIndexmark Lets take a look at the profile controllers index method php public function IndexUserReference UserModel new UserModel thisUser UserModelGetByReferenceUserReference thisRender Simply put the index method grabs some data that can be later used in the profile controllers index view and then calls the Render method The Render method is defined on the base Controller class the class from which all controllers are extended The Render method performs the following tasks 1 Finds and fetches the view 2 Finds and fetches the css for the view 3 Finds and renders the master view In the most simple example the view will be as it appears in the image above in a profile folder within the views folder and named after the method that was called viewsprofileindexphp By default the controller will fetch that view from the context of the FetchView method of the base controller class In plainEnglish the view file is included within a method on the Controller class called FetchView That is why I placed the user data within a thisUser property in my ProfileControllerIndex method above so it could be accessible from within my view file The view file likely will contain something as simple as this Basic Information Data Property Joined UserDateFirstVisit Visits UserCountVisits Last Active Once the view is fetched it is added to an asset collection By default it is added to the Content asset collection The rest of the page the Frame of the page is handled by the master view By default the defaultmaster master view is used unless another master view is specified In the image above you can see that there are a few different master views available in the Garden application default email error and setup The css files for each of those master views are named accordingly as well So the defaultmaster view has a defaultscreencss file the errormaster view has an errorscreencss file etc Again in the most simple of examples the master view is located in the view folder of the application and the related css files are located in the design folder of that application Here is what the defaultmaster view looks like php RenderAssetHead BodyIdentifier arrayclass thisCssClass As you can see the master view handles the basic structure of a page As I mentioned above by default the view that is fetched by the controller is added to an asset collection called Content and that asset collection is rendered in this master view when the thisRenderAssetContent method is called right there in the middle of the master view As you can see in the master view above there are a number of different asset collections available for application and plugin authors Head Menu Content and Foot An application author has the ability to add as many of these as heshe desires and add to them as necessary The idea behind these asset collections is that while the basic request can be handled and placed into the Content asset ie the profile information being displayed from the example above there are still a lot of other elements a person may want on a page Plugin authors may want to add assets to the head menu or foot They may even want to add assets to the content collection Garden itself has other UI components that get rendered in the head and menu asset collections which will be discussed in a later preview So in the most basic example the index view is requested from its controllers view folder the defaultscreencss file is requested from the applications design folder and the master view is requested from the root of the applications view folder What other ways could the views and css have been retrieved The controller uses Gardens FileSystem object to search the application for the appropriate file to handle the request Whatever the filesystem object finds first it will use Views are retrieved with the following precedence 1 An explicitly defined path to a view ie a plugins custom view location 2 Applicationspecific theme view ie pathtogardenthemesthemenameappnameviewscontrollernameviewphp 3 Gardenwide theme view ie pathtogardenthemesthemenameviewscontrollernameviewphp 4 Application default ie pathtogardenapplicationsappnameviewscontrollernameviewphp Master views are retrieved with the following precedence 1 Applicationspecific theme view ie pathtogardenthemesthemenameappnameviewsdefaultmaster 2 Gardenwide theme view ie pathtogardenthemesthemenameviewsdefaultmaster 3 Application default ie pathtogardenapplicationsappnameviewsdefaultmaster 4 Garden default ie pathtogardenapplicationsgardenviewsdefaultmaster CSS files are retrieved with the following precedence 1 Applicationspecific css ie pathtogardenthemesthemenameappnamedesigndefaultscreencss 2 Gardenwide theme view ie pathtogardenthemesthemenamedesigndefaultscreencss 3 Application default ie pathtogardenapplicationsappnamedesigndefaultscreencss 4 Garden default ie pathtogardenapplicationsgardendesigndefaultscreencss You might be wondering things like can I change the view or master view that handles my request on the fly Of course you can Everything in Garden was written so that you have total control over what comes out on the other end In my example above I could change my views on the fly with something like this php public function IndexUserReference UserModel new UserModel thisUser UserModelGetByReferenceUserReference thisView somethingelse Use viewsprofilesomethingelsephp to handle the content or thisView someotherviewphp Use some custom view to handle the content thisMasterView setup Use the setup master view to render my contents thisRender Views are a lot to take in and they certainly might be daunting upon first read But I can guarantee that I have found them to be utterly simple and flexible to use Think of the possibilities you can accomplish with views You could create a master view that handles rendering of RSS feeds You could port your request method to use your RSS master and render all of your contents with a custom RSS view You could grab the email master view and send out your content to some email addresses before rendering You could bypass the rendering altogether and deliver json data The possibilities are endless and that is the real power of views"},{"title":"Building new porters","tags":["Developers","Importing"],"url":"/developer/importing/build","content":" Building a new porter file We dont support your forum Here are some tips for getting started rolling your own Copy an existing class like classsmfphp and rename it Start simple Get a working porter for users categories discussions and comments before expanding its scope"},{"title":"Importing","tags":["Developers","Importing"],"url":"/developer/importing/","content":" Importing to Vanilla Already have a community on another platform Great We have a tool called Vanilla Porter that can help you migrate from many other popular platforms Download Vanilla Porterhttpsopenvanillaforumscomaddonportercore Vanilla Porter is a tool that you can upload to your current web server to run in your web browser It exports any platform to a generic format that the Import option in your new Vanilla Forum can read All imports will completely overwrite all data in your forum including your users so only import to a fresh forum installation that doesnt have any data you want to save We recommend backing up your Vanilla database first as an extra precaution Supported platforms compatibility notesdeveloperimportingsupport Using Vanilla Porterdeveloperimportingporter"},{"title":"Vanilla Porter","tags":["Developers","Importing"],"url":"/developer/importing/porter","content":" Migrating a forum to Vanilla Vanilla Porter is the export toolhttpsopenvanillaforumscomaddonportercore for converting your legacy forum to Vanilla The process is four steps 1 Export your old forum data to a special Porter file 2 Create a new Vanilla forum 3 Import the Porter file in Vanillas Dashboard 4 Verify finalize your new forum Vanilla Porter requires a MySQL database and PHP 53 with zlib support enabled Before migrating We recommend these best practices 1 Inform your community well in advance about the coming transition Introduce them to Vanilla and communicate why you are migrating and when 1 If possible allow moderators time to use Vanilla and ask questions before migrating 1 Do one or more test runs to work out any issues and familiarize yourself with the process 1 Prepare test redirectsredirects from your old forums content to its new location This is important for search engine traffic preserving links between discussions and browser bookmarks More information about this is below under Special Steps Notesspecialstepsnotes Doing these things will help your members moderators and yourself have a better migration experience and set good expectations for everyone All set OK lets jump in 1 Export old forum data Vanlla Porter exports from a database to a special Porter file format that Vanilla can import We currently support these platformsdeveloperimportingsupport If you have a very large forum millions of posts see the Special Steps Notes below before beginning To use it 1 Grab the export toolhttpsopenvanillaforumscomaddonportercore and unzip it It will be a single file named vanilla2exportphp 1 Upload the file to writable web directory on the server with your legacy database Most forums have a files or uploads directory which is an easy place to put it 1 Browse to vanilla2exportphp in your web browser You should see a Vanilla Porter web page 1 If this is the final export now is the time to put your legacy forum into readonly mode to prevent posts from being lost during the migration 1 Enter information about your forum database into the form and click Begin Export If you cant remember try looking at your forums configuration file 1 Download the Porter file it generates Got problems See the Troubleshooting section below 2 Create a new Vanilla forum In order to import your data you will need a fresh installation of Vanillahttpsopenvanillaforumscomaddonvanillacore When you do the import all data in your fresh installation will be overwritten so make sure you dont have any discussions you want to keep there See the README file for help 3 Import your data 1 Place your Porter file that the export created in Vanillas uploads folder 1 In Vanilla click Import in the Dashboard 1 Select the file you uploaded Enter the email of the user from your legacy forum you want to be the superadmin of the new forum Check Use my current password Leave the password box empty 1 Click Start Import 1 The import runs a while depending on how much data you have If its more than a million posts you can make a cup of tea and check Twitter 1 Click Finish to cleanup and finalize the import Welcome to Vanilla Notice you are now logged in as the username you entered The password is the one you created your Vanilla forum with Below are some more things you should do to get your new forum ready 4 Verifying finalizing the import These are things to do after your Vanilla import This includes manually visiting a few hidden Dashboard pages just for this process 1 Database Update Visit the URL utilityupdate to make any database changes needed An import can overwrite changes your addons made so they will be reapplied by this 1 Counters Update Visit the URL dbacounts to run counter updates of things like the number of discussions per category 1 Users View your Users page in the Dashboard to verify users were imported correctly and are all assigned to a role 1 Roles Permissions Many imports reset permissions It is very import you edit each role in turn to review and correct them 1 Default Roles Visit the URL roledefaultroles to make sure your visitor default and applicant roles are assigned correctly 1 Better BBCode If youre coming from a forum that uses BBCode we recommend grabbing the NBBC plugin from the Addons repositoryhttpsgithubcomvanillaaddons for improved support 1 Verify Content Go thru your discussions and categories to make sure your content is complete ungarbled and organized correctly 1 Enable Verify Redirects Turn on your 301 redirects to Vanilla Test old discussion category and user profile URLs to make sure you have set up your redirects correctly See the Redirects section below for more info Special Steps Notes This part contains nauseating levels of detail about aspects of migrating that hopefully you dont need to deal with Youll get referred here from elsewhere in the docs if you need it Large forums Forums with over 1 million posts may take a long time to migrate on lowbudget hosting plans and cause intense resource usage or downtime while it runs Forums with over 10 million posts make take a very long time cause strain on any hosting plan For advanced users in these circumstances copy your database to a localhost installation and run the Porter via the command line See the Vanilla Porter repository and READMEhttpsgithubcomvanillaporter for more information We likewise recommend importing to a localhost copy of Vanilla and running your verification finalization steps locally and repeating the Default Roles step after copying the database to production Attachments File attachments and avatars may be stored in the file system or as binary blobs in the database depending on your platform and configuration If they are stored in the file system most common copy the entire folder directly into Vanillas uploads folder The Porter can export binary blobs for vBulletin When navigating to the vanilla2exportphp file add avatars1files1 to the URL This will create folders for attachments and customavatars that should each be directly copied to Vanillas uploads folder To rename vBulletins attachments to have correct extensions use filepathpathtoattachments in the URL to process them Renaming phpBBs attachments requires the special utilitiesphpbbextensionsphp file in the repository These are currently advanced user tools and may require consulting the inline documentation in the appropriate package file If you get stuck ask on the community forumhttpsopenvanillaforumscom NonMySQL data Data in nonMySQL formats MSSQL PostgreSQL XML CSV JSON should first be converted to a MySQL database before using Vanilla Porter or attempting to create a Porter package For flat file data we recommend a table per file Preserving existing column names is preferred whenever possible Passwords Vanilla natively supports many legacy password schemes for other forums This means users do not need to reset their password if youre coming from a platform we support see the vanilla2exportphp file for availability If you run into problems your platform isnt supported or want to reset them anyway you can run this SQL query via a tool like phpMyAdmin to reset all passwords update GDNUser set HashMethod Reset where Admin 1 the where clause there prevents resetting your superadmin password This does not trigger any notification emails users will be alerted they must reset their password on their next login attempt Redirects For everything to work properly you will probably need to do two redirects one for the pathredirectthepath and one for the domainredirectthedomain When setup properly users visiting your old forum should be globally redirected to your new Vanilla Forums domain Once the user arrives at the new forum a second redirect will translate the request and forward users to the proper Vanilla URL Redirect the path The path is everything that comes after the domain In httpdomaincomforumthreadphpid10pageNumber2 that would be forumthreadphpid10pageNumber2 Many legacy platform path redirects can be handled by the Redirector plugin in the Addons repositoryhttpsgithubcomvanillaaddons Simply enable the plugin Check the description for what it supports currently You may also create custom redirects as needed using the Routesdeveloperroutes feature in the Dashboard Regular expressions can be used to perform pattern matching against incoming paths which will allow you to 301 redirects to the new paths An example of a path redirect would be forumdiscussionphpid10pageNumber2 being redirected to discussion10page2 which is the correct path for the discussion number 10 on page 2 What paths should be redirected It depends greatly on your old forum but here is a list of what should be redirected Categories Forums Discussions Threads Comments Replies User profiles To summarize all public pages with relevant content that were ported to Vanilla should be redirected Testing the redirects Once you setup the paths redirects you should test them thoroughly to make sure that everything works fine To test you can simple copy an URL from your old forum to the new one Example If your new forum resides on a different domain you will need to change the domain name like so httpolddomaincomforumdiscussionphpid10page2 to httpnewdomaincomforumdiscussionphpid10page2 This should result in httpnewdomaincomforumdiscussionphpid10page2 being redirected to httpnewdomaincomdiscussion10page2 Note For the pages to work properly you need to configure Vanilla to have the same number of comments per page as your old forum had Redirect the domain If the domain where your new forum resides is different than where your old forum was you will need to redirect the domain Lets say that your old domain is olddomaincom and your new domain is newdomaincom original right httpolddomaincom should redirect to httpnewdomaincom It would be the same principle if you were to move your forum on a subdomain httpdomaincom would need to be redirected to httpforumsubdomaindomaincom To help set this up you you can use the forumredirector folder in the Addons repositoryhttpsgithubcomvanillaaddons Do not confound the Redirector plugin with the forumredirector folder Troubleshooting Common problems using Porter 1 Not placing the file vanilla2exportphp in a webenabled folder accessible from the Internet 1 Not placing the file vanilla2exportphp in a folder that the web server has permission to write to 1 Attempting to export from an MSSQL database You must first convert to MySQL Try the dbdump toolhttpsgithubcomtburrydbdump 1 Attempting to export from a nonPHP server Try setting up a tool like MAMP or WAMP on your computer and copying your database there instead Still having trouble Ask on the community forumhttpsopenvanillaforumscom Common problems while importing 1 Entering a user email address that does not exist in the legacy forum 1 Unzipping the generated porter file Leave it zipped and do not rename it 1 Not having zlib installed AND enabled in your PHP install Confirm this with your host if the file cannot be read 1 Not placing the generated porter file directly in the uploads folder 1 Attempting to Browse for the file rather than selecting it with the multiple choice selector above that Still having trouble Ask on the community forumhttpsopenvanillaforumscom Data missing Review the support table included in the vanilla2exportphp file by browsing to it in a web browser and clicking the link and verify that data is included in that platform Is it supported If so ask on the community forumhttpsopenvanillaforumscom If you can find the technical reason it didnt work please file an issue on the GitHub repositoryhttpsgithubcomvanillaporterissues Not supported You can request support be added on the GitHub repository If you do this please be prepared to supply a copy of your forum database as a sample For password support first create a new user with a password you can share for testing purposes We do accept pull requests for new package support if you create it Please see the Contributing section of the Vanilla Porter READMEhttpsgithubcomvanillaporter Users cannot login See the Passwords section under Special Steps Notes above Use the query there to reset all passwords if necessary Porter file seems too small A great deal of data in legacy forums is unneeded and porter files are compressed significantly Be sure to do a test import and verify its content before assuming its not there The Vanilla Porter export log will give details on what data has been exported and how much of each type of data My legacy forum isnt supported Weirdo Just kidding You can request support see Data Missing Not Supported above or roll your own porter package see the repositoryhttpsgithubcomvanillaporter"},{"title":"Supported platforms","tags":["Developers","Importing"],"url":"/developer/importing/support","content":" Supported platforms Migration tools are available for the following platforms All migration tools minimally support users categories discussions and comments For a current perplatform perfeature support list see the Vanilla Porterhttpsopenvanillaforumscomaddonportercore PHP forums Vanilla 1 phpBB 23 vBulletin 35 bbPress 1 SimplePress 1 Simple Machines 12 PunBB 1 IPBoard 3 XenForo Joomla Kunena Drupal Advanced Forum MyBB esoTalk Expression Engine ASP NET forums Requires conversion to MySQL first Try the dbdump toolhttpsgithubcomtburrydbdump Yet Another Forum Toast UserVoice ASP Playground Webwiz mboxformatted mailing lists Mailbox imports are very complicated but allow importing of email libraries like a listserv See its comments at the top of its package file"},{"title":"Developers","tags":["Developers"],"url":"/developer/","content":" Welcome The Developers section is primarily targeted at folks using the open source product who have at least a basic understanding of PHP HTML CSS and Javascript Clients of VanillaForumscom cloud should contact supporthttpvanillaforumscomhelp to address technical issues Our hosted product does not allow direct file access to ensure security and performance which precludes many instructions in this section Security Issues and Responsible Disclosure Found a security issue Please contact us at supportvanillaforumscom This allows us to release a patch as quickly as possible and hopefully before knowledge of it becomes widespread For all other issues please use the GitHub issue trackerhttpgithubcomvanillaforumsvanilla We do not currently offer a bug bounty program We count on the support of the tens of thousands of folks running our software freely around the world to help us improve the product for the benefit of everyone"},{"title":"Installation","tags":["Developers","Installation"],"url":"/developer/installation/","content":" Installing Vanilla Our current installation and upgrade instructions are in the README filehttpsgithubcomvanillaforumsvanillablobmasterREADMEmd that comes with Vanilla If you run into issues see the Developers Troubleshooting section of these docs Cloud Solution For a 1click installation hosted plan with professional support and services see Vanilla Forums Cloud Hosting planshttpsvanillaforumscomplans"},{"title":"Locales","tags":["Developers","Locales"],"url":"/developer/locales/","content":" Translating Vanilla Want to help us improve our translations We have a Transifex projecthttpswwwtransifexcomprojectspvanilla for contributing to this Create an account there and submit your improvements Need to customize the phrasing just on your site in particular See Overriding locales below Translation tips Want to help translate Awesome Here are some tips for creating great translations 1 Please make sure that your changes use generic terminology and good grammar that can apply to all forums and avoids interest or regionspecific terms 2 Avoid HTML encoding of UTF8 characters For example just use not ouml Vanillas entire stack is UTF8 so the former always works but our default emails are not HTML so the latter will fail Installing locales 1 Download the locale you want from the Addon Directoryhttpsopenvanillaforumscomaddonbrowseallpopularrecent 2 Upload the folder to your locales folder 3 In the Dashboard go to Addons Locales 4 Enable the locale 5 Change the Default Locale at the top of the page and Save Using multiple locales The Multilingual pluginhttpsopenvanillaforumscomaddonmultilingualplugin allows each user select their preference from all enabled locales Overriding locales php php if definedAPPLICATION exit Note about what youre translating DefinitionTranslationString1 Override String 1 DefinitionTranslationString2 Override String 2 More stuff DefinitionTranslationString3 Override String 3 DefinitionTranslationString4 Override String 4 Overriding All Locales You can override your default locale by adding a conflocalephp file to your installation with additional definitions Any definitions in this file will override all locales To find out what the translation strings for core components are please check our open source Locales Repohttpsgithubcomvanillalocales The core strings can be found in the txsourcesitecorephphttpsgithubcomvanillalocalesblobmastertxsourcesitecorephp file If you are using the Multilingual Plugin to enable multiple locales please note his override will effect all locales Overriding Locales with the Multilingual plugin If you have the Multilingual pluginhttpsopenvanillaforumscomaddonmultilingualplugin enabled you may not want to use the same translation for every locale In this case you will have multiple locale override files One per locale Places these in the locale folder and name them localeidphp For example the French language file would located at localefrphp localefrphp php php if definedAPPLICATION exit Note about what youre translating DefinitionTranslationString1 Quelque chose en franais DefinitionTranslationString2 Une autre chose en franais localeesphp php php if definedAPPLICATION exit Note about what youre translating DefinitionTranslationString1 Algo en espaol DefinitionTranslationString2 Otra cosa en espaol Defining new translations strings If you are creating a custom theme or plugin for a multilingual community you may want to offer translations strings for text defined in your themeplugin Vanilla offers ways to define these strings in Smarty Templateshttpdocsvanillaforumscomdeveloperthemingsmartyfunctionsi18n and in PHPhttpdocsvanillaforumscomdeveloperframeworki18n"},{"title":"Plugins","tags":["Developers","Plugins"],"url":"/developer/plugins/","content":" Extending Vanilla with plugins Vanilla is a very customizable flexible platform because there are many ways to hook into it without ever modifying its code Events Handlers Any class that extends the class Pluggable has the ability to call thisfireEventEventName and then plugins can attach to that event to perform an action There is a PluginManager that detects any enabled plugins When the FireEvent method is called it pings the PluginManager class to see if there are any plugins that want to attach to the event name being fired Plugins attach to an event by creating a method named with the object name event name and the word handler separated by underscores Say the DiscussionsController fired an event named Kaboom Here is how you would use it class MyPlugin extends GDNPlugin public function discussionsControllerkaboomhandlersender args Do stuff at the Kaboom event here senderindex You can invoke DiscussionsController methods here Notice that 2 parameters are passed The first is the object invoking the event usually this The second is optional and is an array of event arguments being passed as additional info or options to be modified EventArguments Usually these arguments are the data being set up by the object a toggle the handler can switch on or off or other contextual info For example thisEventArgumentsDuckDodgers 245 thisfireEventKaboom Now in our Handler method above args would be an array of DuckDodgers 245 If we set argsDuckDodgers 0 in our handler method it would also be changed back in the DiscussionsController because it was passed by reference To invoke a handler on ALL methods use the prefix base instead of an object name Example basekaboomhandler It is best to avoid unnecessary calls by using this very conservatively Custom events are added on a casebycase basis as the need arises If you feel you need a new event request it on the community forum Magic Events Magic events were an elaborate system of hook possibilities that involved the method prefix x and PHPs call method Currently there is only one undeprecated magic event in Vanilla renderbefore It invokes just before the page is rendered Example use baserenderbeforeSender It is best to avoid when another event is usable For a better alternative hook that reliably fires early on every request try gdndispatcherappStartuphandler instead To universally include a CSS file use assetModelstyleCsshandler Function Overrides All functions in the framework are declared like so if functionexistsfunctionName function functionName Do something Plugin authors may therefore override any core function simply by defining it in a plugin or theme hook file which are included before the core functions Magic Methods Magic methods allow you to create new methods and add them to existing objects They are created in much the same way that you plug into events Imagine you wanted to add a method named Kaboom to the DiscussionsController class MyPlugin extends GdnPlugin public function discussionsControllerkaboomcreateSender echo Kaboom With this plugin enabled going to the URL discussionskaboom would now output the text Kaboom You can references other methods and properties on the extended object using the Sender variable If you use a magic method to duplicate an existing method name it will be overridden completely And call to it will be directed to your plugin instead The only exception is the Index method Magic methods only work in classes that extend GdnPluggable For example notice the GdnForm class does but the GdnFormat class does not All models and controllers do Controllers Is your addon a bit more complex Add a controllers folder and add your own controller classes They will automatically be detected and be dispatched to like normal controllers This functionality is new in Vanilla 22 As a reminder controllers should extend GdnController Read more about controllersdeveloperframeworkcontrollers Virtual Controller deprecated A virtual controller let you simulate a single controller within a plugin First create a magic method using the namespace you want for your controller Example pluginControllernewNamespacecreate This creates content under the URL pluginnewnamespace To put NewNamespace as the first level instead of under plugins use the RootController End the magic method with a redispatch thisdispatchSender SenderRequestArgs Next create methods named ControllerX where X is the method namespace Example controllerindexSender Lets put it all together with a quick example Lets say you wanted to create content at fancyping This would accomplish that dispatchSender SenderRequestArgs Include param and return in your docs too public function controllerpingSender This is what happens when you call fancyping This is obviously more resourceintense than a normal controller so avoid this technique if normal controllers are available to you andor you need more than one controller This technique was obsoleted by adding native controllers to plugins in 22"},{"title":"Plugin Quickstart","tags":["Developers","Addons"],"url":"/developer/plugins/quickstart","content":" Quickstart Links Read about our hooks system Extending Vanilla with pluginsdeveloperplugins Download the official Example pluginhttpsopenvanillaforumscomaddonexampleplugin Download other plugins from the Addon Directoryhttpsopenvanillaforumscomaddons and borrow their code Get help in the developer communityhttpsopenvanillaforumscomcategoriesdevelopers Quickstart Guide Vanilla is built on an objectoriented MVC framework If youre coming at this from a mostly functionbased world like WordPress or Drupal this might read like moonspeak Thats OK Soak it up and ask questions on the forum after you follow this guide and play with the examples Ready to code Grab the Example pluginhttpsopenvanillaforumscomaddonexampleplugin and use it below for an even quicker start Hang onto your butts here we go 1 Name your plugin 1 Define your plugin 1 Find your hooks 1 Write your code 1 Add helper files 1 Name your plugin Conventionally Vanilla uses well pretty vanilla plugin names We often favor descriptive names over clever ones or minibrands Your plugin needs a userfacing name and a slug name without spaces or special characters If your plugin is named Lincolns Fancy Plugin a good slug name would be LincolnsFancyPlugin or even just FancyPlugin 2 Define your plugin First create a folder in the plugin directory using the slug name you selected eg FancyPlugin Inside the folder create a file that includes the slug name eg classfancypluginphp Next open the file and add the plugin definition at the top like this Lincolnrsquos Fancy Plugin Description This is a sample plugin Version 10 Author Your Name AuthorEmail youyourdomaincom AuthorUrl httpyourdomaincom MobileFriendly TRUE The array key FancyPlugin above must exactly match the folder name including capitalization Define basic info The Name parameter is optional it will default to the slug if omitted To include special characters here or in the description use their HTML code Provide a great Description that briefly explains what your plugin does from the users perspective For Version familiarize yourself with semantic versioninghttpsemverorg The Author parameters are at your discretion We recommend using a support address for both the email and URL The MobileFriendly parameter allows the plugin to be automatically disabled when accessing the site via a mobile device We recommend defining it as TRUE If omitted it defaults to FALSE All further optional parameters described below default to FALSE if not defined Define a settings page To create a Settings button that will appear on the plugin after it is enabled add these to your definition SettingsUrl settingssomepagehere SettingsPermission GardenSettingsManage Define requirements You can require a certain version of Vanilla or that other plugins be enabled before yours can be enabled Require a certain version of Vanilla by adding this RequiredApplications arrayVanilla 2018 Require some other plugins to be enabled first in much the same way RequiredPlugins arrayAkismet 101 StopForumSpam 10 Note that this only requires them at the time of enabling A user could later disable the plugins Therefore it is very important to use defensive programming techniques to guard against missing prerequisites rather than simply assuming they will always be there just because you put it in the requirements Define new permissions Adding new permissions via plugin is easy Any defined here will be added as soon as the plugin is enabled Its important to know more about using permissions in Vanillahttpdocsvanillaforumscomdevelopersframeworkpermissions before doing this You can provide an array of permission names using dot syntax You can optionally use keyvalue pairs to set a default 1 will give all roles the permission 0 is the default and leaves it off for all roles to start RegisterPermissions arrayFancyPluginDoStuffAdd 1 Or set the default to whether or not the role currently has an existing permission RegisterPermissions arrayFancyPluginDoStuffAdd GardenSettingsManage This allows you to set good defaults while allowing them to be changed independently in the future Whew That whole definitions section probably didnt seem very quick but you just did a huge amount of work in just a few lines of code 3 Find your hooks Try the Eventi pluginhttpsopenvanillaforumscomaddoneventiplugin to visualize where events are fired in Vanilla Use the hooks in the Example pluginhttpsopenvanillaforumscomaddonexampleplugin to see what they do Read the plugin hooks tutorialdeveloperplugins for more on how to override extend Vanilla Use an IDE and use the project search functionality to locate instances of FireEvent in the core repohttpgithubcomvanillavanilla Many doc blocks show what events are fired within their methods Or search for Handler in the addons repohttpgithubcomvanillaaddons to see examples and common uses Lastly find a pluginhttpsopenvanillaforumscomaddons that does something similar to what youre trying to do and check out its code Maybe between 3 or 4 plugins you can find a good portion of what youre trying to accomplish 4 Write your code After your PluginInfo array youll need a class Always extend GdnPlugin and name the class using the slug name of your plugin followed by the word Plugin to avoid namespace conflicts class FancyPlugin extends GdnPlugin Inside the class give methods special names to invoke hooks Most hooks in a plugin are written like this public function SomeControllerSomeEventHandlerSender Args Do something Use the Sender variable to call methods from the controller or model that triggered your code Use the Args variable to change parameters or detect certain situations This is where youll want to start digging into the finer points of extending Vanilla with pluginsdeveloperplugins You can also use normal methods to reuse code For instance maybe you need 2 different hooks to do the same thing public function DiscussionsControllerSomeEventHandlerSender Args thisCommonMethodSender Args public function CategoriesControllerSomeOtherEventHandlerSender Args thisCommonMethodSender Args public function CommonMethodSender Args Do something for both the events above so we keep things DRY Need a simple settings page See the ConfigurationModule and how it is used in other plugins for a quick easy way of making one After your class you can define any functions from core that you wish to override Do this very conservatively and carefully 5 Add helper files By convention place CSS files in a folder named design Javascript files in a folder named js views templates in a folder named views To include a CSS file in all nonDashboard pages public function AssetModelStyleCssHandlerSender SenderAddCssFilefancycss pluginsFancyPlugin Note the second parameter is the folder To include a CSS file in a specific page eg the Discussions list public function DiscussionsControllerRenderBeforeSender SenderAddCssFilefancycss pluginsFancyPlugin To include a JS file SenderAddJsFilefancyjs pluginsFancyPlugin To output the view fancyphp in your views folder SenderRenderfancy pluginsFancyPlugin Again for a simple settings page dont create your own views Use the ConfigurationModule Quickstart Epilogue That should put you well on your way to your first Vanilla plugin Dream big but pick something small for your first attempt Youll learn a ton and be better positioned to go big after that Final tips Use the troubleshooting guidedevelopertroubleshooting Use decho to output variables Trace to leave breadcrumbs Wrap all URLs with Url to account for subfolderd forums Never hardcode paths Use constants like PATHUPLOADS Use models to access the database rather than writing your own queries Eg Need discussions Look at DiscussionModel Adding your own data to the database Read about the database query builderdeveloperframeworkdatabase And as always ask the talented helpful folks on our community forumhttpsopenvanillaforumscom when you get stuck"},{"title":"Routes","tags":["Developers"],"url":"/developer/routes/","content":" Routes Route management allows you to create custom urls to specific pages within your Vanilla 2 installation It also comes with some predefined default values Predefined Routes There are four predefined routes that have special meaning They are DefaultController This is the main page to load when the root url of your Vanilla installation is viewed Default404 The page to view when the requested url could not be found DefaultPermission The page to view when the user attempted to perform an action they didnt have permission for UpdateMode The page to view when Vanilla has been taken offline for maintenance DefaultController is the one you will most likely be working with the most and by default it is set to discussions with an internal route type which means that it will essentially be the same as sending the user to wwwyourdomaincompathtovanillarootdiscussions Custom Routes Custom routes allow you to create more userfriendly urls for commonly requested pages in your installation For example if you had a popular discussion at the following url httpyourdomaincomcommunitydiscussion1250hampstersgonnahampst You could create a route to this discussion by adding a new custom route with the following values Route Expression hamsters Target discussion12500hampstersgonnahamst Type internal With this route in place users will be able to get at your hamster discussion by going to httpyourdomaincomcommunityhamsters Your old URL will continue to work as well and this will not affect search engine ranking as we tell the search engines what the canonical url is for every page Google will treat duplicate routes to the same content as one page Route Types There are several different route types They are Internal Sends no additional headers with the request Temporary Sends a 302 header with the request telling search engines that the move is temporary and they should not update their indexes Permanent Sends a 301 header with the request telling search engines that the new page is now permanently at the new location and that they should update their indexes Not Found Sends a 404 header with the request telling search engines that the file was not found and to update their indexes accordingly Most of the time Internal will be the route type of choice Noninternal routes can take a full url including http as the target while internal routes can ONLY forward the user to a location within the application"},{"title":"Schemas","tags":["Developers"],"url":"/developer/schemas/","content":" Schemas GardenSchema In Vanilla the GardenSchema class is used to whitelist parameters for a data structure and validate array of data It is primarily used for filtering input to API endpoints The constructor of GardenSchema accepts an associative array describing the expected parameters The keys of the array define the name of a parameter and its flags eg data type is required The values of the array provide a description for each parameter A parameter can be defined as having one of the following types Array a This must be a numericallyindexed array with a zero index Object o This must be an associative array Base64 Integer i String s Float f Boolean b Timestamp ts Datetime dt This value must be in a valid formathttpphpnetmanualendatetimeformatsphp If a parameters name is followed by a question mark it is flagged as optional Validating To validate an array you must pass it to an instances GardenSchemavalidate function This will validate the incoming arrays structure and data against the schemas configuration If a required parameter is not detected or a configured parameter does not match its specified type an exception of GardenExceptionValidationException is thrown describing all errors encountered while validating the array Unexpected parameters are handled based on the schemas configured validation behavior Validation Behavior When GardenSchema encounters a parameter that has not been explicitly defined it can handle things a few different ways depending on how it is configured Configuring the behavior is done by passing one of the GardenSchemaVALIDATE constants to an instances GardenSchemasetValidationBehavior function The available validation constants are GardenSchemaVALIDATEEXCEPTION Throw a GardenExceptionValidationException when an unexpected parameter is encountered GardenSchemaVALIDATENOTICE This is the default behavior Trigger a PHP notice when an unexpected parameter is encountered then remove it and continue GardenSchemaVALIDATEREMOVE Silently remove any unexpected parameters Basic Example This is a basic schema with only toplevel parameters php schema new GardenSchema schema sname The title of the discussion sbody The body of the discussion sformat The discussion format icategoryID The category to place the discussion setDescriptionAdd a new discussion validatebody In this example there are four parameters 1 name string required The title of the discussion 2 body string required The body of the discussion 3 format string optional The discussion format 4 categoryID integer required The category to place the discussion Nested Example Schemas can also be written to allow the inclusion of objects as parameters php schema new GardenSchema schema ouser sname The username of the user semail The email address of the user This example shows how to define an object as a parameter as well defining requirements for its properties user must be an associative array and it must include name and email keys each with string values"},{"title":"about.php","tags":["Theming"],"url":"/developer/theming/about-php","content":" The aboutphp file Each theme has an aboutphp file that contains some important information for Vanilla Put this file in your theme root Heres a sample file php Example Theme Description Custom theme example Version 100 Author Stphane LaFlche AuthorEmail stephanelvanillaforumscom AuthorUrl wwwvanillaforumscom License Proprietary Layout Discussions table Categories modern Theme key ThemeInfoExampleTheme Its important to put a unique key here for your theme A common mistake is to copy another theme and then forget to edit the aboutphp file This key is how Vanilla identifies your theme internally Name The name will appear in the theme selection page Description Short description of your theme Will also appear in theme selection page Version Version of the theme The cache is tied to this version If you ever run into an issue with the cache you can try to bump up this version number Author Author of the theme AuthorEmail Email of the author License License of the theme Layout This is an optional property that tells Vanilla which views the theme was meant to use Sometimes custom themes only work with a specific view Keep in mind that this will not block an admin from changing the views but it will give them a warning in the dashboard Layouts for Discussions modern table Layouts for categories modern table mixed Visibility If youve got Vanilla Cloudhttpvanillaforumscom make sure to also set your themes visibility Theme Options The aboutphp file also supports Theme Options"},{"title":"CSS","tags":["Theming"],"url":"/developer/theming/css","content":" Theming with CSS Theming Hosted Vanilla You can overide any theming you want in the customize theme section in your Vanilla dashboard Apply any CSS you feel is appropriate to override the current theme If you are looking to learn more about customizing CSS in our hosted product check out theme tips on our bloghttpsblogvanillaforumscomtagfridaytips Adding additional CSS To add additional CSS to the existing base Vanilla CSS file 1 Create a new file called customcss 2 Place it in the design folder in your theme folder ie themesyourthemenamedesigncustomcss This CSS file is added after the base CSS file and all other plugin and applicationspecific CSS files Tips and troubleshooting Here are a few gotchas that can occur when styling Vanilla Layouts Vanilla offers either a HTML table layout or list layout for its Categories and Discussions listings Each layout has its own set of CSS classes so its best to decide which layout youd like to use before you start styling your theme This layout can be selected from the dashboards Homepage section You can also specify your themes layout in the ThemeInfo array in your themes aboutphp file When your theme is enabled the settings in the Homepage section will be set to match what is specified in the ThemeInfo array To add theme layout info the ThemeInfo array just add a Layout key with content looking like this php Layout Discussions table Categories modern The layout options for discussions are currently table or modern For categories you can choose table modern or mixed The mixed layout includes discussions on the categories page Plugins Plugins have the ability to add CSS files to your forum or HTML elements to views As such enabling a plugin can sometimes mess with your forums CSS and layout To mitigate this its best to enable all the plugins you anticipate using while you work on your theme If you do enable a plugin and encounter some undesirable CSS side effects its good to know that your themes customcss file is added after the plugins CSS files so overriding the CSS rules defined in the plugins CSS should be a breeze Hiding content Using display none to hide elements on a page is often a good choice for removing content that is not valuable to you or your community However when doing so make sure to make the CSS rule as specific as possible For instance lets say you want to hide the discussions link in the side panel navigation on the Discussions page A very bad way to accomplish this would be by using the CSS rule css Discussions display none This rule will succeed in hiding the link but also the body of the Discussions page as the body element includes the Discussions CSS class A better safer rule would be css SectionDiscussionList FilterMenu Discussions display none SectionDiscussionList targets the discussion page FilterMenu targets a filtering menu and Discussions targets a specific list item in the menu This is much less likely to have undesired side effects"},{"title":"Event Hooks","tags":["Theming"],"url":"/developer/theming/hooks","content":" Theming Hooks Themes can be imbued with the power of plugins via a special hooks php file Using the hooks file you can override existing functions in Vanilla plug in to existing Vanilla events and set data for your views To use hooks create a file named classthemehooksphp in your themes root directory themesyourthemenameclassthemehooksphp and edit it there Hooks files extends GdnPlugin which allows the specification of a setup method which is run whenever the theme is enabled The setup method is a good place to set any config variables your theme may rely on but is not required To get a better understanding of what the theme hooks are capable of familiarize yourself with custom events handlershttpdocsvanillaforumscomdeveloperspluginscustomeventshandlers magic eventshttpdocsvanillaforumscomdeveloperspluginsmagicevents function overrideshttpdocsvanillaforumscomdeveloperspluginsfunctionoverrides and magic methodshttpdocsvanillaforumscomdeveloperspluginsmagicmethods Heres an example of a themehooks file that sets some config variables adds locale data for the view adds a respond button to the discussion page and overrides a method to add an extra css class to a menu count span php php author My Name copyright 2015 c My Organizations license httpopensourceorglicensesMIT MIT Adds locale data to the view and adds a respond button to the discussion page class MyThemeNameThemeHooks extends GdnPlugin Fetches the current locale and sets the data for the theme view Render the locale in a smarty template using locale param Controller sender The sending controller object public function baserenderbeforesender Bail out if were in the dashboard if inSectionDashboard return Fetch the currently enabled locale en by default locale Gdnlocalecurrent sendersetDatalocale locale Adds a respond button on a discussion page below the discussion title that links to the comment form param DiscussionController sender The sending object public function discussionControllerafterDiscussionTitlehandlersender Ensure the user is signed in if Gdnsession echo Respond Adds a new css class to counts in the side panel filter menu in a discussion list Overrides the method in the DiscussionFilterModule applicationsvanillaviewsmodulesdiscussionfilterphp param intnull count The number to include in the count param string url The url to the popin rel for the count if functionexistsfilterCountString function filterCountStringcount url count countStringcount url return count count "},{"title":"Theming","tags":["Theming"],"url":"/developer/theming/","content":" Theming Overview Vanilla themes are built by selectively overriding the views and CSS in the product They are also imbued with the power of plugins via a special hooks file It is extremely important to never modify Vanilla by directly editing the files distributed in the release Nearly anything can by accomplished with views CSS and hooks in a properly formatted theme Quickstart To override CSSthemingcss create a customcss file in your theme it will be included in the page after our CSS so you can override without higher specificity or importants in your rules To use hookstheminghooks create a file named classthemehooksphp and format it like a new plugin To customize a viewthemingviews copy it to your theme in the appropriate location The best way to get started with theming is to run through our Quickstartthemingquickstart to build your own simple theme Once you see how its done youll be off to the races Cloud upgrade considerations If youre considering moving to one of our cloud plans in the future we recommend limiting your modifications to the defaultmastertpl view and CSS overrides That will allow a smooth transition without any customization services being required"},{"title":"Quickstart","tags":["Theming"],"url":"/developer/theming/quickstart","content":"Vanilla Forums Cloud Customers check out our Ultimate Vanilla Forums Theme Guidehttpblogvanillaforumscomhelpvanillaforumsthemes With Vanilla you have full control over both the CSS and the actual HTML of every page in every application The easiest thing for most designers is to just alter the CSS so well start there Part 1 CSS amp Design 1 Copy the themesdefault folder and rename it to your theme name so it sits in the root theme folder like this themesyourthemename 2 Create an aboutphp file and edit the information to reflect your themes information 3 If youve got Vanilla Cloudhttpvanillaforumscom make sure to also set your themes visibility If not skip this step 4 Create a customcss file in the design folder of your custom theme 5 Go to your Dashboard gt Themes and apply your new theme If you dont see it delete the themeindexphp in the cache folder 6 Edit the customcss file to your hearts content Learn more by reading our docs on Theming with CSSthemingcss Other things you should know If you want to edit the look amp feel of the administrative screens you can accomplish it by creating an admincustomcss file in your design folder Part 2 Themehooks optional Themes have the ability to tap into Vanillas event firing system and override functions using a special themehooks file To use hooks create a file named classthemehooksphp in your themes root directory themesyourthemenameclassthemehooksphp and edit it there This is a very powerful feature Learn more about it by reading the Theming Hookstheminghooks docs Part 3 HTML amp Views optional If you dont like the way weve structured our HTML you can edit that too Our pages are made up of two parts 1 Master Views These represent everything that wraps the main content of every page If all you want to do is add a menu or banner above Vanilla this is the only file you will need to alter To do so copy the default master view from applicationsdashboardviewsdefaultmastertpl to themesyourthemenameviewsdefaultmastertpl and edit it there This master view is built on the Smarty template engine Familiarize yourself with this special master view by reading on docs on Theming Viewsthemingviews Also check out our docs on Theming with Smartythemingsmarty 2 Views These represent all of the content in each page Every application has a views folder that contains all of the html for every page So for example if you wanted to edit the html for the discussion list you could copy the views from applicationsvanillaviewsdiscussions to themesyourthemenameviewsdiscussions and edit them there There are some overriding and editing views Be sure to check out our docs on Theming Viewsthemingviews to learn more Other things you should know The administrative screens have their own master view If you want to change their master view copy the applicationsdashboardviewsadminmasterphp file to themesyourthemenameviewsadminmasterphp You can add a custom thumbnail by adding a png called screenshotpng in your theme root 220px wide and 165px high is a good size"},{"title":"Smarty Conditionals","tags":["Theming","Smarty"],"url":"/developer/theming/smarty/conditionals","content":" Smarty Conditionals Smarty includes a base amount of logic that you can insert into your template One of these is a conditional statement A couple of basic examples should give you an idea of the syntax and format of Smarty conditionals This example uses the user data from the controllers data array to print out a welcome message if the user is signed in and a generic message if the user is not signed in Learn more about accessing the controllers data array using Smartyaccessingcontrollerdatawithsmarty if UserSignedIn Welcome Back else Hello Stranger if This example checks to see if the locale matches fr and if so inserts the contents a pocket named French Pocket Learn more about the Smarty pocket functionfunctionspockethtmlmd if CurrentLocaleLang fr pocket nameFrench Pocket if The following PHP internal functions are available for use in Smarty if statements array list isset empty count sizeof inarray isarray true false and null Weve also whitelisted some PHP functions in Vanilla that can be used in Smarty if statements The most useful of these functions are outlined below Conditional Category Returns an array representing the current category Example This example prints out a message if the user is browsing a page in the General category Also uses the GetValue function outlined below if GetValueName Category General Youre checking out content in the General category if Conditional CheckPermission Tests whether the current user has the passed permission or array of permissions and returns true if the current user has one of the given permissions Example This example checks whether the user has either the GardenSettingsManage or GardenSettingsView permission and if so adds a link to the dashboard if CheckPermissionGardenSettingsManage GardenSettingsView dashboardlink if Conditional Homepage The variable Homepage is set to true if and only if the user is on your homepage Example This example checks whether the user is on the homepage to display one message or another if Homepage Welcome home if Intermediary text that is always displayed if Homepage Far away from home if Conditional InSection Returns true if the user is in a section or one of an array or sections You can see what section a Vanilla page belongs to by inspecting the body tag using your browser tools and checking its CSS class There will be an Section class where is the current section Example This example checks whether the user is in either the Profile Conversation or ActivityList section and if so adds the panel asset if InSectionarrayProfile Conversation ActivityList asset namePanel if Conditional InCategory Given a categorys url code returns true if the user is on a page in that category You can manage the url codes of your forums categories from the Manage Categories page in the dashboard Example This example prints out a message if the user is browsing a page in a category with the url code generalcategory if InCategorygeneralcategory Youre checking out content in the General category if Conditional GetValue Given an array key or property name returns its value from an associative array or an object Example See the Category examplecategoryexample above Other conditional functions There are a few other less useful functions that can be used in conditional statements in Vanillas Smarty implementation These are MultiCheckPermission SetValue and Url These function declarations are in librarycorefunctionsgeneralphp To understand how to use these functions refer to the source code there"},{"title":"{asset}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/asset","content":" Function asset Usage asset namestring idstring tagstring classstring Renders an asset from the controller Assets in Vanilla are containers for different sets of content The content of each of these asset containers is variable depending on the page The content of each asset is not currently configurable via the template Vanillas asset names are Head Foot Content and Panel Your template will need to contain the Head Foot and Content assets The Panel asset is optional but youll likely want to at least include it in the Profile EditProfile and Conversation sections as it has important functionality in those sections that are not included in the Content asset Parameters "},{"title":"{breadcrumbs}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/breadcrumbs","content":" Function breadcrumbs Usage breadcrumbs homelinkstring hidelastboolean Render a breadcrumb trail for the user based on the page they are on Parameters "},{"title":"{custom_menu}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/custom-menu","content":" Function custommenu Usage custommenu formatstring wrapstring A bucket for addon menu items Adds links depending on which addons are enabled Parameters "},{"title":"{event}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/event","content":" Function event Usage event namestring Fire an event with the specified name Learn more about events in Vanilladeveloperspluginsevents26handlers Parameters "},{"title":"{homepage_title}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/homepage-title","content":" Function homepagetitle Usage homepagetitle Writes the site title to the page You can change the site title from the Banner settings page in the dashboard Parameters This tag does not take any parameters"},{"title":"{t}","tags":["Theming","Smarty","Smarty Functions","i18n"],"url":"/developer/theming/smarty/functions/i18n","content":" Function t Usage t cstring dstring Output a translatable string with an optional default Parameters "},{"title":"{include_file}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/include-file","content":" Function includefile Usage includefile namestring Inserts the contents the specified file into the template The file must be in the same directory as the Smarty template file Especially useful for inserting html headers or footers into a Smarty template Parameters "},{"title":"Smarty Functions","tags":["Theming","Smarty","Functions"],"url":"/developer/theming/smarty/functions/","content":" Smarty Functions This section outlines all the Vanillaspecific Smarty functions made available for use in your Smarty templates You are also able to use the builtin Smarty functionshttpwwwsmartynetdocsv2enlanguagecustomfunctionstpl in your template"},{"title":"{link}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/link","content":" Function link Usage link pathstring textstring notagboolean formatstring withdomainboolean Takes a route and prepends the web root expects controlleractionparams as path Parameters "},{"title":"{logo}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/logo","content":" Function logo Usage logo Writes the site logo to the page You can change the site logo from the Banner settings page in the dashboard Parameters This tag does not take any parameters"},{"title":"{mobile_logo}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/mobile-logo","content":" Function mobilelogo Usage mobilelogo Writes the mobile logo to the page You can change the mobile logo from the Banner settings page in the dashboard Parameters This tag does not take any parameters"},{"title":"{module}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/module","content":" Function module Usage module namestring This is a super handy little function that renders any module in Vanilla It instantiates the specified module class sets the properties specified in the functions parameters and calls the toString function of the module The available parameters differ depending on module itself and the available modules depend on which addons are enabled If a module is contained in an addon the addon must be enabled in order for the module to render a common gotcha There are many modules available in Vanilla and in its addons They can be found in the modules directory of an application or addon Learn more about modulesdevelopersframeworkmoduleshtmlmd Parameters You can set any property of a module by specifying it as a parameter as long as that property has a setter method or has a visibility of public Example Heres an example of a tag that renders the Promoted Content Module a module that can filter discussions based on role rank score category or the promoted reaction module namePromotedContentModule Selectorrole SelectionDeveloperAdministrator Limit12 Group3 "},{"title":"Page Links","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/page-links","content":" Page Links Weve created dedicated Smarty functions for a number of links to Vanilla pages that make it easier to build your forums navigation Heres the basic syntax where is the link type link wrapstring textstring formatstring Parameters Functions Function bookmarkslink Link to the My Bookmarks page Function categorieslink Link to the categories page Function categorylink Link to the current category page Function dashboardlink Link to the dashboard Function discussionslink Link to the discussions page Function draftslink Link to the drafts page Function activitylink Link to the recent activity page Function forumrootlink Link to the forum root page Function homelink Link to the home page Function inboxlink Link to the inbox Function mydiscussionslink Link to the My Discussions page Function nomobilelink Link for showing the desktop version of the site Function photolink Link to the sessions user profile that displays as the users avatar Function profilelink Link to sessions user profile The link text is the username Includes a notification count Function signinlink If there is a valid session this outputs a signout link otherwise a signin link Function signinoutlink If there is a valid session this outputs a signout link otherwise a signin link Function userlink Link to sessions user profile The link text is this username Does not include a notification count"},{"title":"{permission}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/permission","content":" Block permission Usage permission requirestring Foo permission Only output content if the current user has the specified permission Parameters "},{"title":"{pocket}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/pocket","content":" Function pocket Usage pocket namestring Writes a pocket to the page Pockets placed in the template in this way should have their location set to custom You can edit this setting from the Pockets settings page in the dashboard Parameters "},{"title":"{searchbox}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/searchbox","content":" Function searchbox Usage searchbox placeholderstring Writes the search box to the page Parameters "},{"title":"{text}","tags":["Theming","Smarty","Smarty Functions"],"url":"/developer/theming/smarty/functions/text","content":" Function text Usage text codestring defaultstring Returns the custom text from a themes options page Learn more about how to configure your theme optionsdeveloperthemingthemeoptions Parameters "},{"title":"Smarty","tags":["Theming"],"url":"/developer/theming/smarty/","content":" Smarty Overview Vanilla currently supports both PHP and Smarty views Smartyhttpwwwsmartynet is a template engine that allows dynamic content to be inserted into a HTML template using tags These tags are wrapped in curly braces tag and can represent variables or the output of a function call They are replaced when the page is rendered The default master view in Vanilla is a smarty template See it in action by navigating to applicationsdashboardviewsdefaultmastertpl You can override this viewthemingviews in a theme or plugin or by using the Custom Theme plugin which allows you to modify your current themes master view from the dashboard This section will give you some ideas how you can customize your master view to suit your communitys needs Accessing Controller Data with Smarty You can output the content of the current pages controllers data array using Smarty by using ArrayKeyNestedArrayKey syntax For instance BodyClass in Vanillas master view outputs the css class names for the current page UserName would render the sessions username To see what data you have available to you on any given page you can insert a debug tag into your Smarty template and a popup listing the data in the data array will appear Smarty Functions In the default master view in Vanilla youll find tags like searchbox which calls a function to render a search box in the page and breadcrumbs which calls a function to render the breadcrumbs These are tags are mapped to php functions Some smarty functions in Vanilla can include parameters For example here breadcrumbs homelinkMy Forums Home the homelink parameter modifies the rendering of the breadcrumbs so that the Home breadcrumb renders as My Forums Home Vanillas set of smarty functions that can be used in your template can be found by navigating to librarySmartyPlugins The Smarty Functions sectionthemingsmartyfunctions documents these functions and their available parameters Smarty Conditional Functions Vanillas Smarty implementation has whitelisted a number of functions that can be used in Smarty conditional statements For example you can insert a Smarty tag or a snippet of HTML into your template only if the user is in a specific section or has a specific permission These functions and how they can be used in your template as well as a basic overview on using Smarty conditionals are outlined in Smarty Conditionalsthemingsmartyconditionals Smarty Modifiers Smarty modifiers can be applied to variables custom functions or strings Vanillaimplemented modifiers and a general overview of modifiers can be found on the Smarty Modifiersthemingsmartymodifiers page"},{"title":"Smarty Modifiers","tags":["Theming","Smarty"],"url":"/developer/theming/smarty/modifiers","content":" Smarty Modifiers Smarty modifiers can be applied to variables custom functions or strings You can use a modifier by adding a pipe after the element you wish to modify and adding the modifier name Modifiers can also accept parameters which are separated by a colon These parameters must follow the order of their appearance in the signature Vanilla supports the builtin Smarty modifiers as documented on the Smarty site and has created a few more for you to use in your templates Learn more about Smarty modifiers from the Smarty sitehttpwwwsmartynetdocsv2enlanguagemodifierstpl Modifier asseturl Converts a string to an asset url Solves the problem of trying to using a relative path when Vanilla exists in a subfolder Parameter Type Default Description withDomain boolean false Whether or not to prepend the base httpyourforumscom URL to the outputted link addVersion boolean false Whether or not to append a version to the resulting asset to help bust the cache Example In the following example if the asseturl modifier was not specified the image would not work if Vanilla existed in a subfolder It also adds the domain name to the url and appends the theme version number Modifier date Formats a timestamp consistently with Vanillas date formatting which by default varies depending on how much time has passed Parameter Type Default Description format string varies The strftimehttpphpnetmanualenfunctionstrftimephp format of the date Example The following example prints out the current year and uses the smarty reserved variablehttpwwwsmartynetdocsv2enlanguagevariablessmartytpl to get the current timestamp smartynowdateY Modifier translate Translates a string into the selected locales definition Parameter Type Default Description default string none Default translation Good idea to set when using shortnames Example This example outputs the breadcrumbs where the home link text is the translated Forum definition Learn more about the breadcrumbs tagfunctionsbreadcrumbshtmlmd breadcrumbs homelinkForumtranslate "},{"title":"Theme Options","tags":["Theming"],"url":"/developer/theming/themeoptions","content":" Theme Options This is a rather advanced theme configuration and is often unnecessary but can be very useful in certain circumstances You can configure a custom dashboard settings page for your theme that allows an admin to choose between different CSS files in your themes design folder You can also allow an admin to add custom text to your theme This functionality can be added simply by editing your themes aboutphp file by adding an Options key to your theme info array with an array as its value The content of the Options array is discussed below Choosing Between Stylesheets In the design folder of your theme you can add any number of CSS files The naming convention is customcss where is the theme variant You will still need to have the customcss file as a default for when the theme is first enabled In order to allow the admin to switch back to the default youll need to add an option where the value is simply s So lets say you have three CSS files you want to let the user chose from custombluecss customgreencss and customcss the default This is how your Options array should look php Options Styles Default s Blue sblue Green sgreen The theme options settings page will also look for screenshots in the design folder of your theme that follow the naming convention of screenshotext where is the theme variant and the extension is one of png jpg or gif If it finds the screenshots they will be displayed on the theme options settings page Use screenshotext for the default theme Adding Custom Text to a Theme To add custom text to a theme add a Text key to the Options array The value of of the Text key will be an array that can have multiple values Each one of these will be text field on the settings page You can specify a Type of textbox which is a regular text input or textarea the default which is a multiline textarea element The text saved in this field can then be inserted into your theme template If using Smarty you can use the text functiondeveloperthemingsmartyfunctionstext to insert the text in the theme using the Text arrays key as the code parameter For example if you had this options array php Options Text CustomnbspText Description Custom text to be inserted in the theme Type textbox Then you could insert the text into your theme using the Smarty tag text codeCustomnbspText defaultSome default custom text The text is saved in your config so you could also access it in PHP using cThemeOptionCustomnbspText Some default custom text Learn more about the config heredevelopersconfigurationusinghtmlmd Example Heres an example ThemeInfo array that uses both the above theme options so you can see how it all comes together php ThemeInfomytheme Name My Theme Description My Theme is the greatest Version 100 Author Your Name AuthorEmail youremailcom AuthorUrl httpyourwebsitecom Options Description This theme has an alternative colour scheme and custom text Styles Default sdefault Dark sdark Blue sblue Text CustomnbspText Description Custom text to be inserted in the theme Type textbox "},{"title":"Theme Visibility","tags":["Theming"],"url":"/developer/theming/themevisibility","content":" cloudfeature If youve got Vanilla Cloudhttpvanillaforumscom custom themes will be hidden by default This is to ensure custom themes are only visible to their respective owners In order of importance here are the rules for a theme to be visible Method 1 If the theme is set to be visible with this site option GardenThemesVisible You can add multiple sites by separating sites with a comma This method is discouraged Themes are generally visible to all clients or only to one client Method 2 In the aboutphp file you can set the themes visibility with Hidden Example ThemeInfoExampleTheme Name Example Theme Description Custom theme example Version 100 Author Stphane LaFlche AuthorEmail stephanelvanillaforumscom AuthorUrl wwwvanillaforumscom License Proprietary Hidden true All core themes have their Hidden variable set to false to be visible to clients Method 3 If there is no config set and a theme doesnt explicitly have Hidden set the Sites variable is used ThemeInfoExampleTheme Name Example Theme Description Custom theme example Version 100 Author Stphane LaFlche AuthorEmail stephanelvanillaforumscom AuthorUrl wwwvanillaforumscom License Proprietary Sites examplestagingcom exampleproductioncom This is a list of sites that can view the theme This is the best method for custom client themes Notes You can use an asterisk in the site name for wildcard matches ex siteexamplecom Wildcards are great for clusters that are on the Vanilla Hub The variable Site works like Sites but only takes one site as a string This variable is deprecated use Sites instead"},{"title":"Views / HTML","tags":["Theming"],"url":"/developer/theming/views","content":" Theming Views The master view The master view for your forum is the wrapper for each page in your forum Often this is the only view youll have to manipulate in your theme The master view file is called the defaultmastertpl Smarty template or the defaultmasterphp We recommend using Smarty templates for your master view however you can decide to use a regular ol php view if you like To override the default master view 1 Create a new file called defaultmastertpl or defaultmasterphp 2 Place it in the views folder in your theme folder ie themesyourthemenameviews If youre new to this its probably a good idea to copy the content of applicationsdashboardviewsdefaultmastertpl into your themes master view and manipulate it from there Smarty tags in the master view You can accomplish a great deal of things using Smarty in your default master view We highly recommend checking out our complete Smarty docsthemingsmarty to get a bearing on this but heres what you need to know to get started Required tags There are a few assets that need to appear and an event that needs to be fired from your master view in order for everything to run smoothly To learn more about assets and events check out our framework docsdeveloperframework The contents of these tags are programmatically generated depending on your forums data and configuration Omitting any one of these tags may result in some strange behaviour on your forum 1 The head asset asset nameHead This should appear within the head block of your html It contains the css and javascript needed for your applications and plugins 2 The content asset asset nameContent This should appear within the body block of your html It contains the main content of any page 3 The panel asset asset namePanel This should appear within the body block of your html It generally adds tertiary functionality to the forum however it does include necessary functionality for the Profile and Conversation sections of forum If you decide to go with a panelless design we recommend using css to hide the panel on pages where its unnecessary or to manually adding the panel into the forum sections where it is necessary using the inSection function see the More Smarty tips and tricks section below for an example of this 4 The foot asset asset nameFoot This should appear after the Content asset within the body block of your html Plugins and applications add content or scripts to this asset 5 The AfterBody event event nameAfterBody This should appear just before the closing body tag of your html Plugins and applications hook into this event to generate content Useful tags and practices 1 Searchbox searchbox Adds a handy little searchbox 2 Breadcrumbs breadcrumbs Adds breadcrumbs a crucial detail when navigating a forum 3 The Me module module nameMeModule Adds the Me module This module contains dropdowns for notifications bookmarks conversations and settings It helps a loggedin user access whats important to them 4 Opening body tag This is how we recommend opening your body element It adds programmatically generated CSS classes and ids to the body block which are very useful for targeting sections when styling your forum The most uptodate set of Smarty functions and modifiers can be tracked down in librarySmartyPlugins More Smarty tips and tricks 1 Signed in users You can add content to your forum depending on whether a user is signed in or not For example if UserSignedInWelcome backif This snippet adds a welcome message for any signed in user 2 Forum sections You can add content to your forum depending on what section youre in For example if inSectionProfile Conversationasset namePanelif This snippet adds the panel asset to the Profile and Conversation sections of the forum You can find the section name of any page in the forum by using your browsers web tools to inspect the body element One of the CSS classes on the body element will be Section where is the section name Assuming you have adhered to the opening body tag tip above Smarty variables and setting page data Advanced If youve read this far you may have noticed weve used some variables above to determine the loggedin state of the user User and to add body classes to and ids to the body tag BodyID and BodyClass Youll probably not be surprised to learn that there are even more variables you can access and use For use in testing environments only to view all the variables you have access to you can include a special tag anywhere in your default master view debug After adding this tag refresh your forum page in a browser A popup will show all the data variables available for use on the given page you gotta make sure your browsers allowing popups here To go even further you can use themehookstheminghooks to assign data to variables that you can then use in your view Smarty default master view example To see how it all fits together heres a default master view using Smarty html asset nameHead logo searchbox dashboardlink discussionslink activitylink inboxlink custommenu profilelink signinoutlink breadcrumbs module nameMeModule asset namePanel asset nameContent Forum Software Powered by Vanilla asset nameFoot event nameAfterBody Overriding other views Now that you know how to override and configure the master view you may want to configure the content of the assets and modules Before we get there though a warning overriding a view can be a rather severe addition to a theme Once a view is overridden it diverges from core Vanilla As such your new view may not always be supported in future versions of Vanilla which may cause problems down the road If its possible to accomplish what youre trying to do using good ol CSS or themehookstheminghooks or by being clever with the configuration of your master view those are probably better ways to go With that warning out of the way heres how you can override a view in Vanilla Some plugins and every application contains a views folder To override any file in this folder 1 Copy the view file from the source view folder 2 Place it in the view folder in your theme folder following the same file path ie copy the view from applicationsvanillaviewsdiscussionsindexphp to themesyourthemenameviewsdiscussionsindexphp Overriding helper functions Many views use helper functions to generate their markup This helper file can be overridden as well However most of the time youll only need to override one or two functions from this file Rather than overriding the entire file its better to override just the functions that you need to override To do this 1 Create a new file in your themes view folder following the same path as the source helper functions file 2 Copy the functions you want to override into this new file 3 Add a include statement to the source helper functions file for example php includeonce PATHAPPLICATIONSvanillaviewsdiscussionshelperfunctionsphp or php includeonce PATHPLUGINSReactionsviewsreactionfunctionsphp Heres an example of a file that changes the heading of the discussion column in a discussion table from Discussion to the name of the parent category It overrides the applicationsvanillaviewsdiscussionshelperfunctionsphp view php dataCategoryName TDiscussion endif includeonce PATHAPPLICATIONSvanillaviewsdiscussionshelperfunctionsphp "},{"title":"Environment Setup","tags":["Developers"],"url":"/developer/tools/environment","content":"After youve got your toolsdeveloperstools ready heres how to set some of them up to work together nicely We assume youre using MacOS This is all pretty useless if youre not Automate dependency building To automatically recompile Composer dependencies when you make commits pull or checkout a different release branch add this binsh composer install To these files in your git repository creating them if they do not exist gittoolspostcommit gittoolspostmerge gittoolspostcheckout Then make the files executable On MacOS you can use chmod x filename to do this Note the binsh line should only appear once per file as the very first line Using bootstrapearly on localhost You can create a file named confbootstrapearlyphp to apply special settings to your localhost environment The settings are annotated inline so you can use the parts that are relevant to you php php if definedAPPLICATION exit Make sure your localhost has updated to the correct db type saveToConfigDatabaseForceStorageEngine innodb false if cGardenInstalled Always keep debug mode on enable logging saveToConfigDebugAssets true saveToConfigDebug true saveToConfigGardenErrorsLogEnabled true saveToConfigGardenErrorsLogFile UsersYOUR USERvanillalog Allow email to work via your own SMTP account saveToConfigGardenEmailSupportAddress YOUR EMAIL ADDRESS saveToConfigGardenEmailUseSmtp 1 saveToConfigGardenEmailSmtpHost smtpgmailcom saveToConfigGardenEmailSmtpUser YOUR EMAIL ADDRESS saveToConfigGardenEmailSmtpPassword PASSWORD TOKEN Get this in Gmail etc saveToConfigGardenEmailSmtpPort 465 saveToConfigGardenEmailSmtpSecurity ssl Autoset your Captcha keys saveToConfigGardenRegistrationCaptchaPrivateKey YOUR KEY saveToConfigGardenRegistrationCaptchaPublicKey YOUR KEY Caching is important for thorough feature testing saveToConfigCacheEnabled false Just toggle this to true for testing with cache usually its a pain to leave on saveToConfigCacheMethod memcached saveToConfigCacheMemcachedStore arraylocalhost11211 if classexistsMemcached saveToConfigCacheMemcachedOptionMemcachedOPTCOMPRESSION true false saveToConfigCacheMemcachedOptionMemcachedOPTDISTRIBUTION MemcachedDISTRIBUTIONCONSISTENT FALSE saveToConfigCacheMemcachedOptionMemcachedOPTLIBKETAMACOMPATIBLE true false saveToConfigCacheMemcachedOptionMemcachedOPTNOBLOCK true false saveToConfigCacheMemcachedOptionMemcachedOPTTCPNODELAY true false saveToConfigCacheMemcachedOptionMemcachedOPTCONNECTTIMEOUT 1000 false saveToConfigCacheMemcachedOptionMemcachedOPTSERVERFAILURELIMIT 2 false else Youll be happy this is here when you upgrade PHP and forget dieYou compiled PHP without Memcached idiot Accessing error logs In the above bootstrapearly example we enable logging and set a location for those logs Heres a cheeky shortcut to quickly access them from the command line Create a file named binwtf with this content binsh tail 1 UsersYOUR USERvanillalog Make sure to make it executable chmod x binwtf If you set a different log location substitute it above At the command line you can now type wtf to see the most recent log entries Or wtf 50 to specify seeing the 50 most recent lines on the log Its a little cathartic and less irritating than trying to remember your log location Dont forget to also consult your server Apachenginx and PHP logs You can create similar shortcuts for them if you like Reloading localhost services Reload a locahost service installed with brew Usage reload php This is mainly useful so you dont need to remember all these file locations and command variations Again this would be in a file named binreload Reload php sql or nginx if 1 php then launchctl unload w UserslincLibraryLaunchAgentsorgphpphpfpmplist launchctl load w UserslincLibraryLaunchAgentsorgphpphpfpmplist echo PHP restarted fi if 1 sql then launchctl unload w UserslincLibraryLaunchAgentshomebrewmxclperconaserverplist launchctl load w UserslincLibraryLaunchAgentshomebrewmxclperconaserverplist echo Percona restarted fi if 1 nginx then sudo nginx s stop sudo nginx echo Nginx restarted fi Proper debugging setup First grab xdebug brew install xdebug If youre using the normal nginx setup we pass around the office your upstream backend is probably listening on port 9000 which is the default for xdebug so theres a conflict So lets set xdebug to 9009 In usrlocaletcphpversionconfdextxdebugini add this xdebugremoteenable 1 xdebugremoteport 9009 htmlerrors off Reload PHP PHPStorm integration In PHPStorm go to Preferences and search XDebug and set the debug port to 9009 httpsusvcdnnet5022541uploadseditorbodqpgwnvkn6txpng In your PHPStorm debug bar choose Edit Configurations from the dropdown httpsusvcdnnet5022541uploadseditoro4e8r3pktz5vp9png Add a new PHP Web Application and give it the name host of your localhost setup httpsusvcdnnet5022541uploadseditorcv1nur7d6q57ebpng Clicking Play should now open Vanilla in your browser To prove XDebug is working add a breakpoint to indexphp at Dispatcher GdnDispatcher and click the Bug button A page should open in your browser with an XDebug session attached to the URL Back in PHPStorm your debug console should be open with variable information Not using PHPStorm Add your IDEs steps here"},{"title":"Developer Tools","tags":["Developers"],"url":"/developer/tools/","content":"Vanilla uses a wide range to tools and technologies to build its product This list is simply to guide new developers getting acclimated to our ecosystem All our developers use MacOS Stacks Supported PHP 56 71 as of Vanilla 25 Unix Windows or OSX nginx Apache or IIShttpdocsvanillaforumscomdeveloperbackend MySQL Percona or MariaDB Cloud Stack PHP 71 nginx Percona Varnish memcachedhttpdocsvanillaforumscomdeveloperbackend Zend OPcache Sphinx OpenStack Developer Tools homebrew git xdebug PHPUnit Composerhttpsgithubcomvanillavanillablobmastercomposerjson Hub CodeSnifferhttpsgithubcomvanillastandards Phinghttpsgithubcomvanillavanillabuildingwithphing Travis CI Scrutinizer Frontend Buildhttpsgithubcomvanillavanillatreemasterapplicationsdashboard Sass SCSSLint Yarn Nodejs Libraries Gardenhttpsgithubcomvanillaqgarden our custom libraries on GitHub PHPMailer HtmLawed jQuery NBBC YAML Smarty PHP Markdown Management GitHubhttpsgithubcomvanilla Transifex translations ZenHub sprints HipChat Jarvis chatbot CLA Assistant Applications PhpStorm or NetBeans IDEs Sequel Pro SQL manager Keka or YemuZip MacDown or Mou Markdown editor Kaleidoscope diff tool Postman Chrome App Balsamiq mockups 1Password DeckSet presentations using Markdown"},{"title":"Troubleshooting","tags":["Features","Troubleshooting"],"url":"/developer/troubleshooting/","content":" Troubleshooting Vanilla These are some generic tips for addressing problems during an upgrade Set ConfigurationDebug TRUE in your confconfigphp to reveal full error messages Remember to remove it when you are done Clear your browser cache and cookies then restart your browser Clear ini files from the cache folder Revert to the default theme You can do this manually in confconfigphp by setting the ConfigurationGardenTheme value to default Disable plugins If you cannot get to your Dashboard you can manually delete lines containing EnabledPlugins in confconfigphp but do not remove HTMLaweds line Try running utilityupdate again see upgrade instructions Verify your permissions and default role settings are correct for every role Start a new discussion on this site with your version number likely 22 if youre reading this the exact error message you got and what you were doing when you got it"},{"title":"Advanced Search","tags":["Features","Addons"],"url":"/help/addons/advanced-search/","content":" Overview Advanced Search adds robust options to Vanillas native search to help users hunt down specific content within your community It is available on Corporate level plans and above Better indexing of content The ability to apply filters to searches Autocomplete of results as the user types the search terms Enabling Advanced Search To enable Advanced Search you will need to enable the addon and then make a change to your base theme On the addons page of the Dashboard enable Advanced Search Under the Appearance section of the Dashboard go to the Customer Theme page In the HTML tab look for the following code searchbox Change that code to searchboxadvanced Using Advanced Search Navigating to search will bring you to a page with an expandable search bar Clicking the arrow on the right side of the bar will show you all the extra parameters you have available for search You can search threads by title author and tags You can narrow results down to a specific category and choose what discussion types to searchhttpsimagesvcdnnetdocssearchexpandedjpg You can also link to searchadv1 to have these options already expanded By default users will only see these options on the search page To switch out the search bar on your homepage simply change out searchbox for searchboxadvanced in your custom theme Advanced search also enables an autocomplete function that pulls results as you type Autocompleted results based on a keywordhttpsimagesvcdnnetdocssearchautocompletejpg If you are looking for something very specific there are some additional parameters you can use to help narrow down results keyword phrase A phrase wrapped in quotes must occur in that order keyword The keyword must occur in the search result keyword The keyword must not occur in the result Excluding Content From Search Normal viewing permissions apply to search results Searching as a guest or member will not return results with content from moderation or administration sections Archiving a category will prevent its content from coming up in the sitebased search Threads in archived categories are still indexed by search engines You can use this setting to exclude old announcements or other irrelevant threads from search results without causing broken links Additional Resources Blog Advanced Searchhttpsblogvanillaforumscomhelpvanillaforumsfridaythemetipadvancedsearch Video Advanced Search httpswwwyoutubecomwatchvgLLtlTsC4h8"},{"title":"Forum Merge","tags":["Addons"],"url":"/help/addons/forum-merge/","content":" When to Use Forum Merge The ForumMerge plugin should be used when you want to take one existing Vanilla forum instance and merge it into another existing Vanilla forum Core Vanilla data in addition to some plugin and addon data will be carried over from the source into the destination forum and reconciled with existing records to avoid conflicts What Data is Merged The following Vanilla data will be considered during the merge process Attachments Bookmarks Categories Comments Conversations Discussions Roles Users In addition the following plugins have their data merged if present Polls Tagging The Process of Merging Forums 1 Ensure your source forum database is on the same server and accessible by the same database user configured for your destination forum 2 Install and enable the ForumMerge plugin on the destination forum Enabling the plugin may take several seconds to complete if the destination forum is large This is due to the addition of an OldID column across several tables It is also possible the plugin cannot be enabled due to the size of some tables If this step fails you should be presented with SQL commands you will need to run manually against the database before the plugin can be successfully enabled 3 Visit the Merge page listed under Import in the dashboard sidebar 4 Enter your source forums database name and table prefix If you will be merging multiple forums you can specify a Legacy Slug that will identify the records coming from the source separately from any subsequent merges with a different legacy slug 5 Click begin Cross your fingers 6 If the merge is successful the page should appear to refresh but there is currently no status message to confirm 7 If youll be merging in another forum you can visit utilitymergereset to reset all existing OldID fields Notes 1 Do not enable the Forum Merge plugin on the source forum If it has been enabled in the past youll need to remove all OldID and OldCategoryID columns from the relevant tables prior to running the merge Failure to do so will cause a fatal SQL error during the merge because the mergespecific columns OldID OldCategoryID are being selected twice 2 If dumping the destination forum data into an existing forum install with ForumMerge enabled youll need to disable then reenable the ForumMerge plugin or visit utilityupdate to apply the necessary database table updates Failure to do so will cause a fatal SQL error because the required columns OldID OldCategoryID arent present"},{"title":"Gigya Sign In","tags":["Features","Addons","Integrations"],"url":"/help/addons/gigya/","content":" Gigya Sign In The Gigya Sign In adds the ability to sign to your community with Gigya Social Login You will need to configure your site in your Gigya dashboardhttpsplatformgigyacomSitepartnersdashboardaspx and then set up your login plugin on the Gigya plugins pagehttpsplatformgigyacomSitepartnersPluginsaspxcmd3DPluginsLoginPlugin before you can use the Gigya addon in Vanilla Setting up your site in Gigya 1 Instructions on setting up a a site in Gigya can be found in their site setup documentationhttpdevelopersgigyacom010DeveloperGuide82SocializeSetup 2 Once youve set up your site youll need to copy and paste your Client ID and Client secret into your Vanilla dashboard Setting up the login plugin in Gigya 1 Youll need to configure the look and feel of your login widget on the Gigya plugins pagehttpsplatformgigyacomSitepartnersPluginsaspxcmd3DPluginsLoginPlugin 2 Once youve set up your login plugin youll need to copy and paste the head template and body template into your Vanilla dashboard Setting up the Gigya Addon in Vanilla 1 Go to your dashboardaddons and find the Gigya Sign In plugin 2 Click Settings 3 You should see spots for all of the settings from the above steps 4 Click save Notes The default Vanilla theme gives 170px to alternate sign in methods There is a place to set the login width on the Gigya plugins pagehttpsplatformgigyacomSitepartnersPluginsaspxcmd3DPluginsLoginPlugin Make sure the url that you specify for your site matches your forum If you set up a custom domain after setting up Gigya then youll have to change this later"},{"title":"Groups","tags":["Features","Addons"],"url":"/help/addons/groups/","content":" What are Groups Groups is an addon for very large communities to allow their users to form their own discussion groups These groups allows for having discussions outside the normal forum category structure in selfcontained areas Very large communities can be difficult to approach for new users Groups can be a useful way for users to find other folks with common interests or backgrounds Groups have an events list their own announcements and leaders who run the show Users can join a group freely by application or by invitation Your normal moderators with the permission ModerationManage will have the ability to moderate inside groups as well Why only very large communities Groups can cause discussion segregation and draw attention away from your main forum categories Cliques can form within your community which hurt its cohesion and growth We strongly recommend against using Groups on sites with less than several thousand currently active users users that participate once a month or more Getting started with Groups Try creating three to eight groups as a pilot program to introduce groups to your community Carefully managing the list of groups available can encourage the creation of fewer groups with higher quality and participation Ten groups with 30 members each will create a far better experience than 100 groups with three members each"},{"title":"Managing Groups","tags":["Features","Addons","Groups"],"url":"/help/addons/groups/managing-groups","content":" Adding your first groups After enabling the Groups addon Groups will appear in your toplevel navigation In a customized theme this may not be the case and youll need to go directly to the URL groups from your forum domain eg yoursitevanillaforumscomgroups As the administrator click the New Group button near the top of the page The Icon image shows on the groups lists The Banner is the large image at the top of your groups page Editing and deleting groups From the groups list use the options gear dropdown menu next to each group to edit or delete them Any edits are applied immediately Deleting a group is irreversible and deletes its discussions as well Editing the members list and assigning Leaders Click Members at the bottom of the groups page to see a list of everyone who is currently in the group From this list you can promote group members to Leaders Leaders have the ability to manage the groups members and edit the groups settings events and discussions The groups creator cannot have their leader status removed If you need the owner of a group reassigned contact support"},{"title":"Addons","tags":["Features"],"url":"/help/addons/","content":" What Are Addons Addons are like apps for your forum They can be enabled or disabled from your Dashboard Each one can add one or more features or modify how an existing feature works You can tailor your users experience to the needs of your community by carefully selecting addons Vanilla is structured such that its baseline installation only contains features that we feel are essential to every community Addons let you flavor Vanilla to the specific needs of the community you are building Youll be surprised at the rich levels of functionality you can add via addons Enabling Addons Enabling an addon immediately makes it active and available To do this visit the addons list and click Enable next to the addon There may be a delay while enabling a new addon for the first time while it makes whatever changes are needed to your database Configuring Addons After enabling some addons will have a Settings button that appear next to them in the Addons list Always visit the Settings page for an addon after enabling it if it has one to see if additional setup is required You can return to the addons settings at any time to adjust it in the future Disabling Addons Disabling an addon will remove whatever features it added but it never destroys the data associated with it For instance turning off the Polls addon does not delete any Polls that were created it just hides them until the addon is enabled again Discovering Addon Features Addons can do many things Some common changes include adding new options to the Dashboards menu adding information to discussions or comments changing how parts of the forum work or appear adding information to user accounts or profiles or adding new pages of content to your forum Every addon comes with a short description of what it does As a general rule enabling an addon is fully reversible so its safe to turn on any addon and try it out to get a better understanding of how it effects your community"},{"title":"MailChimp Push","tags":["Features","Addons"],"url":"/help/addons/mailchimp-push/","content":" Overview MailChimp is one of the worlds leading email marketing platforms allowing its users to send newsletters automated messages and set up targeted campaigns to help their business Our plugin synchronizes the email addresses of your communitys users with a designated mailing list As your community grows or users change their email address Vanilla will send notifications to MailChimp to update the specified list Enabling MailChimp Push MailChimp Push is a feature provided at every plan level it can be activated for your forum through a support request Once activated MailChimp can be found in the Settings tab in your dashboard It will be listed in the side menu under Site Settings You can also navigate to it directly by going to pluginmailchimp Configuration You will need to provide an API key to allow Vanilla to communicate with MailChimp You can read how to generate your MailChimp API key herehttpkbmailchimpcomintegrationsapiintegrationsaboutapikeys This shows the plugin before a valid API key is added Your other options will not appear until a valid key has been insertedhttpsimagesvcdnnetdocsmailchimpapikeyjpg Once youve provided a valid API key the plugin will display a menu with all the mailing lists tied to your MailChimp account Select the mailing list that you wish to sync with your Vanilla community A dropdown for Groups will appear if you have created any in MailChimp for particular list youve selected You can read about groups in their knowledge base herehttpkbmailchimpcomlistsgroupscreateanewlistgroup The options after youve inserted your API keyhttpsimagesvcdnnetdocsmailchimpapikeygroupjpg After your settings have been saved every time a new user registers with your community or an existing user changes their email address Vanilla will notify MailChimp and update that mailing list Mass Synchronization By default MailChimp Push will only update the mailing list when it detects changes If you decide to start a mailing list after your community has been around for a while it is still possible to sync up your users emails with MailChimp using Mass Synchronization The Mass Synchronization tabhttpsimagesvcdnnetdocsmailchimpmasssyncjpg Mass Synchronization is a onetime action that sends an entire communitys worth of email addresses to a selected mailing list You can also choose to sync banned and deleted users Syncing banned users will add them to your mailing list despite their banned status in Vanilla If you have deleted some users on the Vanilla side syncing deleted users will change their emails in MailChimp to a nonfunctional email When you hit Synchronize a progress bar will appear to indicate that the process has started Note that having a large userbase will cause synchronization to take a while Choosing to send a confirmation email will also add time to the sync and those users will not appear in your list on MailChimp until they have confirmed on their end Vanillas integration with MailChimp is oneway only Only email addresses edited within your community will be changed in your MailChimp mailing list It will not work the other way around Its also important to note that MailChimp Push can only grab and send email addresses no other profile data can be passed between vanilla through this addon Additional resources Creating a forum newsletter with MailChimphttpsblogvanillaforumscomhelpcreatingforumnewslettermailchimp Helping Your Community Members come out of the shadowshttpsblogvanillaforumscomcommunityhelpyourcommunitymemberscomeoutoftheshadows"},{"title":"Pockets","tags":["Features","Addons"],"url":"/help/addons/pockets/","content":" Overview Pockets add areas to your forum where you can inject custom HTML or Javascript into your theme It is a powerful tool that makes Vanilla flexible for ad placement google analytics and other small customizations Pockets are designed to be used by advanced users and developers who can write and review their own code Setup Pockets are available on all plan levels To activate it simply locate it in your addon list dashboardsettingsaddons and toggle it on It will then be available in the settings tab of your dashboard listed under Appearance in the left side menu You can navigate to the page directly by going to settingspockets Working With Pockets Once you navigate to the new Pockets menu in your Dashboard youll have two options immediately available Add Pocket and Enable Pocket Locations Enable Pocket Locations Before you work with pockets you need to know where the specific locations will appear on the front end of your community Toggling this option on will allow you to see all the places where a pocket is available Only users with the permission to addedit pockets will be able to see the Pocket Locations while this setting is on A Community with Pocket locations enabledhttpsimagesvcdnnetdocsPocketsViewPocketspng Add Pocket Once you know where the locations are you can add a pocket and choose where to set it The Add Pocket button as displayed in the DashboardhttpsimagesvcdnnetdocsPocketsAddPocketpng Creating a pocket will present you with its settings page First there is a toggle for enabling the pocket An individual pocket can be left disabled which is useful for temporary ads and testing Below that you can name the pocket and place your code into the body field Additional Settings Page By default a new pocket will be set to occupy the selected placeholder on every page of your community If youd rather it only work in certain areas you can narrow the location down by using the dropdown menu and selecting a specific area of your forum such as user profile pages or the inbox Location Each placeholder has a specific location in your community as shown when Enable Pocket Locations is active In this dropdown menu you are able to select exactly where you want the pocket to appear Repeat Some Pocket locations such as Panel and Between Discussions have multiple placeholders to choose from You can specify if you want the pocket to appear before or after as indicated by their location label Numbered placholders can be selected using Given Indexes Selecting Repeat Every will open two new settings allowing you to select the starting point and frequencey of the pockets appearance This is geared towards placing content such as advertisements between comments or discussions Test Mode Before you save your Pocket and have it go live to everyone in your community you can toggle this switch so the Pocket will only be seen by administrators with permission to edit Pockets Once youre satisfied that the Pocket is working as expected you can toggle Test Mode off and save again pushing the Pocket out to the public Debugging Its important to note that Pockets should be reserved for advanced users JavaScript errors and incorrect HTML can cause conflicts with Vanillas functionality Debugging code in Pockets is out side the scope of support so you must be able to resolve your own errors Use test mode when trying out new things and disable pockets if you suspect they are causing issues Rotating ads are a common issue so be diligent Additional Resources Pockets Adding Custom HTML and Javascript to Your Vanilla Forumhttpsblogvanillaforumscomhelppowerpocketsaddingcustomhtmljsvanillaforummore6244 Adding Analytics To Your Communityhttpsblogvanillaforumscomhelpaddinganalyticstoyourcommunity Using Pockets For Banner Adshttpsblogvanillaforumscomhelppocketsbannerads Going AdFree with Pocketshttpsblogvanillaforumscomhelpgoingadfreepocketsmore7727"},{"title":"Questions and Answers","tags":["Features","Addons"],"url":"/help/addons/qna/","content":" Overview Vanilla supports question and answer type discussions QA discussions differ in the following ways When a question is answered the member who asked the question will receive a notification and will be prompted to indicate if the answer answered the question or not Valid answers are highlighted and displayed at the top of the discussion list Members who answer questions will receive badges if badges are turned on A shortcut can be displayed in the side menu to show all unanswered questions Enabling QA The QA addon can be enabled from the Dashboard on any plan level You can find it in the list of addons by searching for QA Configuration There is only one setting for the QA addon You can decide if reputation points should be awarded to members for answering questions Using Questions and Answers QA adds an option to the New Discussion button on your forum The arrow to the right of the New Discussion button expands the menu revealing the Ask a Question optionhttpsimagesvcdnnetdocsQNAdiscussiondropdownjpg Creating a question will create status labels in the discussion view Status labels appear next to thread titleshttpsimagesvcdnnetdocsQNAstatuslabelsjpg Users will receive pop up notifications when their questions have new comments prompting them to mark a post as the solution By default the selected answer will be pulled out of the post order and pinned directly under the original post for easy access This behavior can be modified with a support request allowing the post to be duplicated instead of being completely reordered In your side navigation youll notice a new option The unanswered count appears in the side panelhttpsimagesvcdnnetdocsQNAsidepanelunansweredjpg Navigating to discussionsunanswered will allow you to see all the questions that still need attention in your community Restricting QA You can set the ability to create questions with category permissions When creating or editing a category check the option This category has custom permissions This will reveal the Discussion Type options The unanswered count appears in the side panelhttpsimagesvcdnnetdocsQNAdiscussiontypesjpg You can choose to disable discussions in a category which will change the New Discussion button into Ask a Question in that particular section If youd like for Ask a Question to be default forum wide you can request for us to toggle the option through Support Discussions that have already been created can be changed into questions by Moderators and Admins Simply use the cogwheel menu on a post and select QA Choosing the QA option in the cogwheel menu will open a popup that allows you to change the discussions typehttpsimagesvcdnnetdocsQNAconvertingdiscussionsjpg Customizing QA QA can be easily customized to match the look and feel of your community We have some theme tips on our blog to help you get started httpsblogvanillaforumscomhelpvanillaforumsfridaythemecsstipmodifyingqa Additional Resources Video Creating a QA CommunityhttpswwwyoutubecomwatchvzBwG0Fm4Xoc Blog Modifying Questions and Answershttpsblogvanillaforumscomhelpvanillaforumsfridaythemecsstipmodifyingqa"},{"title":"Redirector","tags":["Addons"],"url":"/help/addons/redirector/","content":" When to Use Redirector Redirector is a plugin that translates URLs from many popular forum platforms into Vanillafriendly URLs If youre moving from one of the supported platforms installing and enabling this plugin will magically handle maintaining the previous platforms links which can be of tremendous SEO value Supported Platforms 1 IPB 2 Jive 3 phpBB 4 punBB 5 smf 6 vBulletin 7 xenforo Usage 1 Install and enable the plugin 2 Visit a URL from your previous platform against your Vanilla installation For instance if you were coming from vBulletin 4 you might visit httpsitevanillaforumscomshowthreadphpt10001 If all goes well you should be directed to httpsitevanillaforumscomdiscussion10001discussiontitlep1 Legacy Redirects The Redirector plugin supports the ability to target specific forum resources that were imported with the Forum Merge plugin If you used the Forum Merge plugin to import data from a new forum and provided a Legacy Slug during the merge you can reference the original forum resource with its original ID When two forums are merged together with Forum Merge the record IDs from the source forum are updated to resolve conflicts with the destination forums records However if you provided a Legacy Slug the old IDs are combined with this slug and retained This allows you to reference a record from the source forum by its original ID so long as you provide the same legacy slug as a parameter to Redirector As an example say you provided vb as the Legacy Slug during your merge One of the discussions from your source forum had the ID of 1337 However during the merge that ID was reset to 10001 You can still access that discussion with the original ID by using the following URL httpsitevanillaforumscomshowthreadphpt1337legacyvb If all goes well you should be redirected to httpsitevanillaforumscomdiscussion10001discussiontitlep1 Without the legacy parameter set to your source forums Legacy Slug youd be taken to the forums current discussion with an ID of 1337 which would be an entirely different discussion Notes If youre coming from vBulletin or phpBB and experiencing issues you may need to remove showpostphp showthreadphp and viewtopicphp from the root of your Vanilla installation directory"},{"title":"Facebook","tags":["Features","Addons","Integrations"],"url":"/help/addons/social/facebook/","content":" Facebook Facebook Connect allows users to sign in using their Facebook account You must register your application with Facebook for this plugin to work How to set up Facebook Connect In order to set up Facebook Connect you must create an application in Facebook at httpsdevelopersfacebookcomappshttpsdevelopersfacebookcomapps Once your application has been set up you must copy the Application ID and Application Secret into your Facebook plugin settings page from your Vanilla dashboard Need help For a complete walkthrough of the steps involved read How to Create a Facebook Application for Vanillaforums Single SignOn SSOhttpblogvanillaforumscomfacebookapplicationforvanillaforumssso"},{"title":"Google Plus","tags":["Features","Addons","Integrations"],"url":"/help/addons/social/googleplus/","content":" Google Plus The Google Plus SignIn adds the ability to sign to your community with Google Plus You will need to configure your site in Google API Consolehttpscodegooglecomapisconsole This Google Video TutorialhttpyoutubeOHEb22VrZy4 also shows you how to set this up Setting up social login in Google Plus 1 Once you have enabled the Google Plugin in your Vanilla Dashboard go to your API Console at Google 2 You will need to create a project 2 Once you have a project click on the project name You will be presented with a side menu Select Credentials 3 Create New ClientID and fill in the form 4 Select Web Application as Type 5 For authorized Javascript Origins URL will be your Vanilla Forums URL 6 For authorized redirect URL append entrygoogleplus to the end of your forums URL If your forum is at examplecomforum your redirect URL would be httpexamplecomforumentrygoogleplus 7 Copy over Client ID and Secret into appropriate fields in Vanilla Dashboard 8 If you have never used Google APIs before you will also need to fill in Consent Screen Settings in Google Plusimghelpaddonssocialgoogleplussettingspng"},{"title":"Social Connect Plugins","tags":["Features","Addons","Integrations"],"url":"/help/addons/social/","content":" Social Connect Plugins Vanilla Forums integrates with a number of social applications that you can use as SSO solutions Learn more about configuring these applications to work with your forum in this section"},{"title":"LinkedIn","tags":["Features","Addons","Integrations"],"url":"/help/addons/social/linkedin/","content":" LinkedIn Linked In social sign in allows users to sign in using their LinkedIn account You must register your application with LinkedIn for this addon to work How to Set up LinkedIn Social Sign in 1 Go to the LinkedIn Developer Network at httpswwwlinkedincomsecuredeveloperhttpswwwlinkedincomsecuredeveloper 2 Click Add New Application When you create the application you can choose what to enter in most fields but you have to make sure you enter specific information for some fields 3 Under Website URL enter your forums root url 4 Under Default Scope make sure youve selected at least rbasicprofile and remailaddress 5 Set the OAuth 20 Redirect URLs by appending both entryconnectlinkedin and profilelinkedinconnect to the end of your forums URL If your forum is at examplecomforum your Redirect URLs would be httpexamplecomforumentryconnectlinkedin and httpexamplecomforumprofilelinkedinconnect 6 Once your application has been set up you must copy the Client ID and Client Secret into your LinkedIn plugin settings page from your Vanilla dashboard Settings in LinkedInimghelpaddonssociallinkedinsettingsjpg"},{"title":"Twitter","tags":["Features","Addons","Integrations"],"url":"/help/addons/social/twitter/","content":" Twitter Twitter Connect allows users to sign in using their Twitter account You must register your application with Twitter for this plugin to work Setting up social login in Twitter Connect 1 Register Vanilla with Twitter at httpsappstwittercomappnewhttpsappstwittercomappnew 2 Set the Callback URL by appending entrytwauthorize to the end of your forums URL If your forum is at examplecomforum your Callback URL would be httpexamplecomforumentrytwauthorize 3 After registering copy the Consumer Key and Consumer Secret into your Twitter plugin settings page from your Vanilla dashboard Settings in Twitterimghelpaddonssocialtwittersettingspng"},{"title":"Tagging","tags":["Features","Addons"],"url":"/help/addons/tagging/","content":" Overview Tagging is a feature that allows users to add keywords to discussions For public communities tags help label specific content for improved findability When used with advanced searchhttpdocsvanillaforumscomhelpaddonsadvancedsearch they help isolate content by a relevant topic and improve results Tagging also has a theme module which can serve as site navigation Enabling Tagging Tagging is not enabled by default for new communities it will need to be toggled on by and administrator Tagging can be found in the Dashboard under the Settings tab in the lefthand menu under the discussions heading You can navigate to it directly by going to settingstagging Configuration Once Tagging is enabled you will be presented with this page in your dashboard Tagging MenuhttpsimagesvcdnnetdocsTaggingMainPNG Here you can a view of all the tags that have been created and the number of times in which each tag has been used By clicking the downward arrow on the right side of each tag you can Remove individual tags from your community Edit the text of a tag Edit a tags URL slug Keeping tags and their URLs simple can be a great way to organize content and label it for search engines Permissions You may not want your entire userbase to have the ability to create unique tags Administrators can adjust this permission for individual roles Permissions for TagginghttpsimagesvcdnnetdocsTaggingPermissionPNG Unchecking the Add permission will prevent those users from creating new tags but they will still be able to tag their posts with existing ones This allows administrators to restrict users to a curated pool of tags Using Tags Once tagging has been enabled it adds a new field when a user is making a post Tagging Section In New PostshttpsimagesvcdnnetdocsTaggingNewPostPNG When you begin to type a keyword into the field a drop down display relevant tags to autocomplete with Tags can be multiple words and are separated from one another by hitting the enter Clicking on the Show Popular Tags link allows users to see tags that people have used recently and choose from that list Additional Resources If you need to place the Tag module in you theme check out our Module Listhttpsblogvanillaforumscomhelplistofmodulesforyourthemes Read more about Advanced Search herehttpdocsvanillaforumscomhelpaddonsadvancedsearch"},{"title":"Vanilla Pop","tags":["Features","Vanilla Pop"],"url":"/help/addons/vanilla-pop/","content":" cloudfeature Email Interaction Vanilla Pop is a feature of Vanillas Enterprise forums that allows you to interact with your forum through email With Vanilla Pop you can Reply to an emailed discussion on the forum or through email Have conversations through email but keep a record on Vanilla Your Forums Email Address The top of the page tells you your forums email address This is the address that the application will send emails to in order to interact with your forum This email may not be the email address you want to show your users so you should forward all emails from the address that you want to share Important Make sure your outgoing email address is the same as the one that forwards to your forums email address or else email replies will not work Email Directly into a category You can also set up additional email addresses to forward to individual categories To do this forward email to the appropriate categorycode using the following syntax categorycodeforumnamevanillacommunityemail The categorycode is the numerical value assigned for the category hover over the catgeory url in your dashboard to get the number Vanilla Pop Settings When you have Vanilla Pop enabled you will see an Incoming Email item in your dashboard under Site Settings The page looks like this Vanilla Pop Settingshttpsimagesvcdnnetdocsvanillapopsettingspng Lets run down the settings one by one Default Category Emails that are sent to your forum will start a new discussion These discussions will be put into the category you specify here We recommend using roles permissions to limit the visibility of this category to just moderators and administrators Usually people that email you dont expect their email to be publicly viewable to the world The choice is up to you though Allow Users to be Registered through Email When a user emails your forum we check their email address to see what user to post as If there is no user associated with that email address then a new user is created This is fine in cases where you are handling support requests through email but it may not be fine in more tightlyknit communities Use this setting to control whether or not new users can be registered by sending their first email Add Information to the From Field in Email Addresses to Help with Replies If you enable this setting information is added to the from field of email sent from the forum This is done by adding a plus sign and code before the symbol in the email address We recommend this option because some devices such as Blackberry dont send correct header information with their emails Disable this option if your email server doesnt allow the plus signs Outgoing Email Address This is the email address that shows up in the from field of email sent from the forum This is also the email address that people will reply to Email Content You can modify the content included in your Vanilla Pop emails some of the items CategoryName Includes the Category Name Title Includes Discussion Title Body Includes Content of the item"},{"title":"Vanilla Pop with Site Hub","tags":["Features","Vanilla Pop","Hub"],"url":"/help/addons/vanilla-pop/site-hub","content":" cloudfeature Differences Vanilla Pop works in much the same way on the hub as it does on regular sites The node email addresses are slightly different and there are a few more features which are detailed below Node Email Addresses Each nodes email address is comprised of two parts The node slug and the hub slug seperated by a dot followed by a vanillaforumsemail domain You can see this by going to the Incoming Email page in your nodes dashboards Example Lets say you are on the acme hub and you create a node with the slug anvil You will see that the nodes email address will be shown as anvilacmevanillaforumsemal Emailing Directly Into a Category You can email directly into a category by prepending the categorys URL code to the nodes email address followed by a dot Example Lets say in the above example you want to email the general category You would send an email to generalanvilacmevanillaforumsemail Using One Email Address for an Entire Hub The hub provides a flexible way to email any node and even any category within a node However lets say you want to set up a single email address for your entire hub and have emails route into the nodes Each hub can use an abbreviated email address and then make use of the email subject to route the email to the correct node If you want to do this then the email address for your entire hub is the hub slug followed by the vanillaforumsemail domain Then the first word of the subject will be matched against a node and optional category You can optionally enclose the first word in square brackets Example From the above examples you have the acme hub and the anvil node and the general category The hubs email address is acmevanillaforumsemail An email with the subject anvil I need some help will be routed to the anvil node An email with the subject generalanvil I need some help will be routed to the general category of the anvil node Removing the Node Slug to Email Categories You can have your hub configured to remove the need for node slugs in the subject of emails To do so you must do the following 1 Ensure that you use unique URL codes across all of your nodes This is your responsibility 2 Make a support request to configure your hub to look at the category of a node first Setting Up a Custom Email Address for Your Hub The reason why the hub supports a single email address is to allow you to set up a single custom email address for your communities and then use the subject to route emails accordingly In order to do so you must have control over the email address and then you must do the following 1 Set up your email address to forward all emails to the hubs email address 2 Make a support request notifying Vanilla staff of your forward Tell them what the email address is and they will configure your hub to send emails from that address In order to make the email forwarding work you must ensure the following 1 The emails must not be altered when being forwarded ex dont add a Fw prefix to the subjects 2 In order to ensure the best email routing the email should readdd any arguments in the email address to the forums email address This is common behaviour amongst most email servers Email Replies and Hub Email Addresses Most emails sent to your communities will be in reply to a notification such as a comment or a private message In this case Vanilla adds special routing information to help make sure the reply is routed to the correct community In this case this information will take precidence over the specific email address In most cases users will not know this but if you specifically try and alter an email address when replying to try and make the email send to a specific community you might still find that the email still goes to its originally indended destination Emailing to a NonExistant Node If your email address or subject is malformed in such a way that Vanilla cannot find the node you are trying to email then it will send back a response telling you that the site you are trying to email could not be found"},{"title":"Advanced Analytics","tags":["analytics"],"url":"/help/analytics/advanced-analytics","content":" Advanced Analytics Overview Available on certain plans as an addon Advanced Analytics give you further insights into your community Advanced Analyticsimghelpanalyticsanalyticsadvancedpng Metrics Metrics a single number that quantify something for the selected time range Leaderboards Leaderboards are tables showing the ranking of specific items for the selected time range The previous rankings are calculated using the rankings of the previous time range Graphs Graphs can come in multiple forms Line Area Pie chart and Bar graphs use the selected time range to group the fetched information Pie charts represent multiple values for the whole selected time range Analytics Sections Engagement Metrics Posts Positivity Rate Number of posts having a positive reaction divided by the number of posts having a negative reaction Average Time to First Comment Average amount of time it took for discussions to have their first comment Leaderboards Members by Accumulated Reputation Members ordered by the highest sum of reputation point accumulated Discussions with Most Comments Discussions ordered by highest number of comments made in it Discussions with Most Positive Reactions Discussions ordered by highest sum of positive reactions given to them Discussions with Most Negative Reactions Discussions ordered by highest sum of negative reactions given to them This leaderboard will only be displayed if negative reactions are in use Graphs Participation Rate Number of distinct members that viewed a page on the forum vs the number of visits by distinct users Sentiment Ratio Number of posts having a positive reaction vs the number of posts having a bad reaction Visits per Active User Number of visits divided by the number of active usersactiveuser Average Posts per Active User Average number of created posts grouped by active usersactiveuser Average Comments per Discussion Average number of created comments grouped by discussions Average Posts per Active Users Number of posts divided by the number of active usersactiveuser Traffic Metrics Page views Number of pages viewed Active Users Number of active usersactiveuser Visits Number of visits Including guests Leaderboards Discussions with Most Views Discussions ordered by the highest number of accumulated views Graphs Active Users Number of users that logged in to the community Visits Number of visits Including guests Unique Visits by Role Type Number of visits from registered users grouped by role typesroletype Page Views Number of total page views New Users Number of all new registrants to the community Posting Metrics Discussions Number of discussions created Comments Number of comments created Contributors Number of distinct members who created a post Leaderboards Users with Most Posts Members ordered by the highest number of post created Users with Most Discussions Members ordered by the highest number of discussions created Graphs Discussions Number of discussions created Comments Number of comments created Posts Number of posts created Posts by Type Number of created posts grouped by posts typeposttype Posts by Category Number of created posts grouped by categories Posts by Role Type Number of created posts grouped by role typesroletype Contributors Number of distinct members having created a post Contributors by Category Number of distinct members having created a post grouped by categories Contributors by Role Type Number of distinct members having created a post grouped by role typesroletype QA When multiple lines are displayed the series are stacked ie the values on the Y axis are a cumulative total for each point Metrics Questions Asked Number of questions asked Questions Answered Number of questions answered Questions created outside of the time range are counted Answers Accepted Number of answers accepted An answer can be accepted by either the creator of the question or a moderatoradministrator Average Time to Answer Average amount of time it took for questions to have their first answer Questions that have no answers are not counted Average Time to Accept Average amount of time it took for questions to have an accepted answer Questions without an accepted answer are not counted Leaderboards Questions with Most Views Questions ordered by the highest number of accumulated views Users with Most Answers Members ordered by the highest number of answers created Users with Most Accepted Answers Members ordered by the highest number of answers created and then accepted as the best answer Graphs Questions Asked Number of questions created Questions Answered Number of questions having at least one answer Accepted Answers Number of answers accepted Analytics Lexicon Active User User that are logged in Post Type The post types are discussion and comments Role Type There are 4 existing role typesroletype and they match the highest permission level that a user has admin Administrator GardenSettingsManage cm Community Manager GardenCommunityManage mod Moderator GardenModerationManage member Everything else"},{"title":"Analytics","tags":["Addons","Features"],"url":"/help/analytics/","content":" What Are Vanilla Analytics Vanilla comes with analytics allows forum administrators to review vital activity on their forums over a specific time periods Example of dashboard pageimghelpanalyticsanalyticsoverviewpng How to use Vanilla Statistics The Vanilla Statistics plugin is a display layer for the data that is sent to our analytics server We generate and present you with the statistics in a graphical format for the following How to use Vanilla Analytics You can get an overview of your communitys analytics by clicking on the Dashboard Site Overview tab For more indepth data click on the Analytics tab The advanced analytics seen in this tab are available on certain subscription plans only The site overview will present you with the following Number of page views generated for the time period Number of new users that have joined the community for the time period Number of new discussions that have been created for the time period Number of new comments that have been created for the time period Using the tabs at the top you can view daily or monthly stats The arrows will let you move the time period you are viewing Vanilla Statistics will also create a rolling table of data on the following Using the tabs at the top you can view daily or monthly analytics The arrows will let you move the time period you are viewing Vanilla will also create a rolling table of data on the following Most Active Users Most popular discussions discussions This too can be modified by changing the time period you select to view"},{"title":"API","tags":["API"],"url":"/help/api/","content":" API Vanillas API is documented hereapi"},{"title":"Accessibility","url":"/help/appearance/accessibility","content":" Overview We strive for maximum accessibility in our product design and take defects in it seriously 508 Compliance refers to a US law that requires that US government websites to be accessible to persons with disabilities eg visual or physical impairment Accessibility means among many other things that a person must be able to use the website with software that reads the website aloud andor using only a keyboard Many private companies use the 508 guidelines to ensure websites are accessible We believe Vanilla Forums to be both Section 508 and WCAG AAA compliant Key points Our default UI is primarily textbased and highcontrast Our interface is keyboardfriendly We limit the use of colors images and symbols as navigation aids or primary content We use modern HTML5 markup and accessible forms We cannot control the accessibility of user generated content within a forum If you find an area where Vanilla could improve its accessibility please contact supportmailtosupportvanillaforumscom or file an issuehttpgithubcomvanillavanillaissues Theming consideration Most Vanilla Forums customize their theme which can have a huge impact on accessibility Choices of color and font size are obvious considerations but because our powerful theming engine also allows for the override of HTML markup its important to consider that individual sites may vary wildly in their degree of accessibility Conversely themes can also augment the interface to improve Vanillas core accessibility Further reading Best Practices for 508 Compliancehttpwww508checkercombestpractices A List Apart reading list on Accessibilityhttpalistapartcomtopicaccessibility WCAG 20 Recommendationhttpswwww3orgTRWCAG20"},{"title":"Custom Theme","url":"/help/appearance/custom-theme/","content":" Customize Theme Vanillas base theme HTML can be modified and CSS can be overriden In order to modify a Vanilla theme you must posses good knowledge of HTML and CSS Please consult the Vanilla Forums Theme GuidehttpsstaticvcdnnetvfcomdocsVanillaForumsThemeGuidepdf for detailed theming instructions Customize Themeimghelpappearancecustomthemepng Additional Resources Vanilla Forums Theme GuidehttpsstaticvcdnnetvfcomdocsVanillaForumsThemeGuidepdf Vanilla Blog Theme Tipshttpsblogvanillaforumscomhelpfridaythemetipsonelist Video Theming Vanilla ForumshttpswwwyoutubecomplaylistlistPLEdMTbLR4h8wGFwPz75W265zbQdeZllAW"},{"title":"Using Web Fonts","url":"/help/appearance/custom-theme/webfont","content":" Using Web Fonts The easiest way to change the font in the base theme is to use a web font You will have to add a link to the font in the theme HTML and target the For example to change the font to the Google Font Lato Get the link snippet from fontsgooglecom Get the CSS rule fontfamily Lato sansserif Go to HTML tab on the Customize Theme page of the Vanilla Dashboard Add the font link snippet above in between the tags Add the following to the CSS tab body fontfamily Lato sansserif Notes Knowledge of CSS is required to use the CSS customization features of Vanilla If you would like to install a font that is not available as a webfont please contact Vanilla support Additional Resources Vanilla Blog Adding a Custom Fonthttpsblogvanillaforumscomhelpfridaythemetipsonelist"},{"title":"Emails","tags":["Features","Emails"],"url":"/help/appearance/emails","content":" Email Appearance You can choose between sending plaintext or HTML emails The difference is that HTML emails can include colors images and other styling while plaintext emails are well plain text HTML emails can be enabled or disabled from the dashboard by navigating to the Email link in the panel From there you can also send test emails and configure HTML emails HTML Emails You can customize the way your forums HTML emails look by navigating the Email link in the dashboards panel If HTML emails are enabled you can add or remove an email logo and customize an emails colors Configurable HTML Email Settings Here are the configurable settings for HTML emails From the settings page you can preview the colors of your email before saving Logo This image will appear at the top of most emails that get sent from your forum The max size of your email logo is 400px by 300px Uploaded images larger than this will be scaled down to fit in these proportions Text Color The default text color of headings and body Background Color The background color of the email Page Color The color of the foreground container of the email Button Text Color The text color of the button Note that depending on its content an email may not contain a button Button Background Color The background color of the button Note that depending on its content an email may not contain a button Additional Resouces Blog HTML Emailshttpsblogvanillaforumscomhelpintroducinghtmlemailsforsystemmessages"},{"title":"Appearance","url":"/help/appearance/","content":" Customizing Your Forums Appearance Your community should have a unique look and feel to match your website app or product The appearance section of your Dashboard lets you control how your community forum will look Site Title and Logo In your Dashboard under Appearance Banner you can set the following Home page title Site description Banner title what is displayed in the browser title bar Banner logo Mobile banner logo Favicon the small logo that appears on the browser tab Share image an image that is sometimes displayed when someone posts a link to your community to a social media site Homepage In your Dashboard under Appearance Homepage you can set the following The default homepage view Typically the Discussions view is the best choice If your community is very large the Categories view might make more sense Modern vs table layout A table layout looks more like traditional forums Base Theme Under Appearance Themes you can select a base theme for both desktop and mobile devices All base themes can be further customized by modifying the HTML and overriding the CSS Avatars The Appearance Avatars page lets you set a default avatar profile picture You can also enable the Vanillicon plugin to create a unique avatar for each member or the Gravatar plugin to use members Gravatars Pockets Pockets are placeholders where you can add snippets of HTML or Javascript They are useful for placing ads or widgets throughout your community Using Pockets for Banner Adshttpsblogvanillaforumscomhelppocketsbannerads Video Pockets Adding Custom HTML and Javascript to Your Vanilla Forumhttpsblogvanillaforumscomhelppowerpocketsaddingcustomhtmljsvanillaforum Customizing Theme HTML and CSS Vanillas base themes can be customized to match your website More information can be found herecustomtheme Professional Services If you dont have the time or resorces Vanillas PS team can customize a theme to your specifications Pls contact your Customer Success Manager for more information"},{"title":"Developer Support","tags":["Cloud","Integration","Developer"],"url":"/help/cloud/developer-support/","content":" cloudfeature Developer Support VIP planshttpsvanillaforumscomplans include developer support offered for a fixed period of time for a fixed number of individuals in your organization During that time those folks can reach out directly to Vanilla developers for advanced assistance in setting up embedding single signon theming and appropriate addons settings We will continue to assist you with our outstanding professional support even after your developer support ends Developer support refers to the elevated frequency volume speed of communication and the direct oneonone developer access needed during the critical time of your migration to Vanilla or the start of your new community"},{"title":"Premium Services","tags":["Cloud"],"url":"/help/cloud/","content":" cloudfeature Cloud Services Overview This section details services and processes that are only offered on certain plan levelshttpsvanillaforumscomplans It includes workflows between Vanilla Forums and our clients suggestions for getting the most out of your services and expectations for how services will be delivered and communicated If you are a cloud client and have any questions please contact supportmailtosupportvanillaforumscom your account representative or your customer success manager if one has been assigned to you"},{"title":"Cancellation","url":"/help/cloud/leaving","content":" cloudfeature The Worst Day Hey it happens On rare occassion we need to go our separate ways We hate to see any customer leave but its important any cloud providers you use have a strong data ownership policy Ours is pretty simple Its your data Getting your data There are four custom components to any forum Database Uploaded files avatars images etc Theme or plugin done as a customerspecific customization Config Of these the only one we do not ever provide is the config This is simply because it would not help you at all useless data incompatible anyway We only provide custom themes or plugins that you created yourself or that we created from scratch on your behalf under contract If you customized one of our proprietary cloud themes via your Dashboard we cannot assist with transitioning that theme We provide complete database backups and uploaded files There is no charge for this with the reasonable caveats explained below However your billing must be up to date without exception Database We require two business days notice to get a database backup with exceptions They are provided as a standard MySQL dump No other format is provided because this format lets you create any other format you want its the master tape if you will Here is the exception if your site exceeds any of the following limits we may need up to a week to shedule your backup We might be able to do it quicker were just playing it safe here because its a lot of data to move around 1 million users 10 million discussions 100 million comments Barring your objection we may truncate your activity or log tables because theyre not very helpful and can make the dump exponentially larger and therefore more difficult for you We only provide one database dump per month If you are leaving we will make a onetime exception so that you can get an advanced copy for preparation We can coordinate a final backup for a specific time of a weekday during the hours 10am4pm Eastern time if requested Doing so outside of those hours may cost a fee to schedule staff to be available Uploaded files We typically need two working days notice to provide your uploaded files For sites with exceptional amounts of files in excess of 10GB we may require a weeks notice Please only request this once We generally cannot coordinate a final backup of these files for a specific time downloading from a CDN is very slow unless its very small Open source If you plan to continue using Vanilla on your own theres both good news and bad The good news is that we dont maintain a private fork of Vanilla Therefore your data will mostly work asis without further data conversions The bad news is its a little more complicated than that First you may need to build the latest versionhttpsgithubcomvanillavanilla of the code from GitHub master branch Try the latest stable releasehttpsopenvanillaforumscomaddonvanillacore of Vanilla first but if that doesnt work youll need to use Composer Second not all cloudbased addons are open source There are open source alternatives for some but you may need to convert the data yourself We do provide any cloudbased addon data in your database One example of this is Badges Thirdly you may need to do some manual work to make existing file uploads appear correctly Youll want to unzip what we send you into your uploads folder if youre moving to open source You may need to find and delete any instance of cf or cf in file paths stored in the database try GDNUserPhoto and GDNMediaPath These prefixes trigger a CDN lookup in our cloud environment The open source default is the uploads folder which you should not need to prepend You may find additional help from the volunteer communityhttpsopenvanillaforumscom and the developer docsdeveloper Support We do not provide support for leaving the cloud beyond this document and delivering your data as promised Its a hard goodbye but if you roll up your sleeves were confident youll have the tools you need to build your own future That said never forget We offer free migrations from Vanilla open source to cloud if you ever want to return"},{"title":"Logging","tags":["Cloud"],"url":"/help/cloud/logging/","content":" cloudfeature Advanced logging Additional logging is available on our highesttier plans for an additional fee to cover the additional load performance hit incurred by more verbose logs The logs are available via a Dashboard page under Event Log They can be filtered by date range event name and severity Sorting is chronological or reversechronological Events We are currently able to log the following additional events for auditing purposes Authentication Permissions signinfailure passwordresetrequest passwordresetfailure passwordreset passwordchange passwordchangefailure sessionstart sessionend securitydenied any permission error csrffailure request may have been spoofed Privileged actions themechanged addonenabled addondisabled roleadd user permissions modified roleremove securityaccess adminmoderatoronly actions Outgoing requests httprequest httpresponse httpresponseerror"},{"title":"Migration","tags":["Cloud","Migration"],"url":"/help/cloud/migration/","content":" cloudfeature Overview Vanilla offers full professional migration services from nearly any platform imaginable If you provide the data well figure out how to make it work in Vanilla The process below assumes you will provide a database dump We also perform APIbased migrations from cloud services when that is necessary and possible Talk to your account representative if you require a different type of migration like this Estimating your migration 1 You provide the platform name version number if applicable and number of users posts for your current community platform 2 Vanilla will provide an SFTP drop 3 You provide a test dump of your data to the SFTP This is typically a database dump but may include additional files like avatars or attachments depending on your platform Please provide a full dump for an accurate estimate Vanilla will generally accept an NDA if one is required 4 You provide the email address for the user that will become the owner account 5 You provide any working username password combination for testing 6 Vanilla will evaluate the data and provide a cost estimate and if requested a downtime estimate how long your forum will need to be offline during the transition 7 Vanilla will provide feedback on concerns limitations or other needs Test migration 1 Vanilla will import your test dump to a Vanilla forum 2 You review the test import and provide feedback on data integrity 3 Vanilla makes any corrections necessary 4 You provide a list of URL patterns that will need to be 301 redirected discussions profiles categories etc We will have a preexisting list for most common platforms but be sure to mention any customizations or special URLs you need us to handle 5 Vanilla implements the 301 redirects and you test them 6 A final migration is scheduled Final migration 1 You place your current forum into readonly mode 2 You create a fresh data dump upload it to Vanillas SFTP and notify your contacts at Vanilla 3 Vanilla confirms it received your final dump and the final import begins 4 Vanilla notifies you when the import is complete 5 You verify the import is correct 6 You switch over DNS SSO andor any other final switchovers Consult with your Vanilla contact if you are unsure 7 If your forum was previously on a domain not being redirected to your new forum be sure to 301 redirect the folder with the entire URL intact to your new forum 8 Youre done Sweet Migration security Migration data should always be sent to Vanilla via SFTP available by request to your Account Manager Data can optionally be encrypted using Vanillas Public Key provided below opskey Personallyidentifiable information If a client does not wish to provide email addresses during a migration we recommend formulating dummy email addresses We can do this automatically during the import if requested Example uniqueidyourdomaincom where uniqueid is your equivalent of our UserID a nonprivate unique identifier for the user Most single signon serviceshttpdocsvanillaforumscomfeaturessso work by matching accounts based on email address To work in this scenario the authentication endpoint must construct or have on record an identical dummy email address This allows the seamless authentication of the user against the correct account without using real personal info More information is available from our Privacy Policyhttpsvanillaforumscominfoprivacy and our developer docs on data privacydeveloperdataprivacy"},{"title":"Code Repository","tags":["Cloud","Repository"],"url":"/help/cloud/repository/","content":" cloudfeature Shared Private Repository Our VIP planshttpsvanillaforumscomplans come with the option to open a private code repository that you share with the Vanilla Forums team on GitHub This allows your developers to view and contribute to your custom features and theme Setup Your customer success manager will provide you with this repository Please allow the Vanilla team to organize its structure appropriately and name files We use master branch for production deploys Anything on that branch should be ready for immediate release The stage branch can be periodically deployed to your staging site for testing Prior to deployments we merge stage into master New features can go on their own featurex branches or on a develop branch for integration testing prior to staging Accounts You will need a GitHub account for each developer that requires access We strongly suggest limiting the number of developers on your team with direct access to the repository for workflow and communication clarity Local testing If youd like to use a local install of Vanilla for testing please use the master branch from our main repositoryhttpsgithubcomvanillavanilla Please follow the installation instruction in the README Unfortunately we are not able to provide cloudexclusive addons for local installation However some additional addons may be found in the addons repositoryhttpsgithubcomvanillaaddons"},{"title":"Setting up SSL (https)","tags":["Features","SSL"],"url":"/help/cloud/ssl/","content":" cloudfeature Setting up SSL https with Vanilla Cloud Vanilla offers SSL support in Corporate plans and above In order for us to to enable SSL for your forum you will need to provide Vanilla with the following Certificates start like this BEGIN CERTIFICATE Private keys start like this BEGIN RSA PRIVATE KEY 1 The SSL Certificate for your forums domain in PEM format 2 The SSL Certificate Private Key for your forums domain in PEM format and with no password 3 The optional Intermediate SSL Certificate for your certificate issuing authority What kind of certificates can we use Vanilla requires certificates from reputable CAs with a minimum expiry of 1 year Vanilla does not currently support free certificate providers such as Lets Encrypt and ZeroSSl with short 3 month certificates How to obtain your SSL certificates Usually youll get an SSL certificate in one of two ways 1 Ask an IT professional at your company They should know exactly what an SSL certificate is and can coordinate sending a certificate to Vanillas cloud support Showing them this documentation will also help 2 Obtain a new SSL certificate through a Certificate Authority Companies like Verisign and TRUSTe act as Certificate Authorities CA and you can purchase an SSL certificate through them Explaining the entire process of purchasing your own SSL certificate is going to be different for each vendor and is beyond the scope of this documentation We recommend contacting the support channel of a CA to get more information on purchasing a new SSL certificate What is this Intermediate SSL Certificate SSL has 2 components trust and encryption Encryption is fairly straightforward the certificate is used to encrypt communication between the client and the server Trust on the other hand is more complex Web browsers are preconfigured to know about a certain set of CAs but if your certificate was issued by a CA that is not in that list your browser does not know whether it can be trusted The intermediate certificate solves that problem by connecting the broken chain between your certificate and a CA that the browser trusts Intermediate certificates are an important part of ensuring that customers see a green Secure symbol in their address bar when they access your site Why cant Vanilla create an SSL certificate for your site The SSL process would be much smoother if Vanilla could just set it up without requiring anything from you This just isnt possible though due to the underlying security of SSL and the Internet The owner of a domain name is the only person that can generate an SSL certificate And if you think about it this is a good thing If we could generate an SSL certificate for you then so could a hacker How to give SSL certificates to Vanilla Once you have your SSL certificates youll need to give them to Vanilla support Dont just email your SSL certificates to us These certificates are sort of like passwords and special care should be taken to provide them to us in a secure way Here are some options 1 Secure FTP sftp If youve been given an SFTP account on Vanillas project server then you should upload your certificates there 2 PGP Encrypted Email If you have the ability to send PGP encrypted email then you can send your SSL certificates that way Please send them to opsvanillaforumscom Our public key is included in this documentation opskey HTTPSonly sites If you have a strict security policy that requires that your site only be served through https we can configure your site to always use ssl We dont recommend forcing SSL during the set up process in order to help us troubleshoot any issues with the configuration process Gotchas When your site is being served through SSL you may encounter problems if you are externally linking to nonSSL resources such as javascript css or images Keep this in mind if you are custom theming your site or have other customizations enabled If you are using jsConnect make sure your authentication url is available over SSL or else jsConnect will fail Dont give us a wildcard certificate Usually you should set up Vanilla as a subdomain of your main site ex forumsyoursitecom Make sure you generate certificates just for the forums and not a wildcard certificate that can be used for your entire domain This is for your own security and serves to reduce your risk and our liability Not all CAs proactively provide intermediate certificates and some CAs only provide them as secondary downloads instead of bundling them with your certificate when you download it"},{"title":"Staging Site","tags":["Cloud","Staging"],"url":"/help/cloud/staging/","content":" cloudfeature Staging Site Overview For higher plan levelshttpsvanillaforumscomplans we provide a separate staging forum You can use this account for testing addons features and theme changes before they reach your production site Your customer success manager will provide this account for you upon request Test data We do not typically use your staging forum as the destination for your test migrationhelpcloudmigration However we can import a truncated dataset to your staging site for testing purposes The infrastructure resources dedicated to staging are understandably limited so we dont support large staging datasets Access precautions Your staging site access cannot be restricted by IP range unless you have a private cluster However we do provide an addon for blocking your staging site from search engine results and spidering If you are doing a test import to the staging site we typically disable all email sending to prevent notifications from being dispatched from it Confirm this with your success manager We can alternatively wipe email addresses from all but select user accounts to allow notification testing review Early access If you have a moderator or executive team youd like to onboard with Vanilla before your launch we recommend giving them access to your staging site Syncing We never sync neither data nor settings from staging to production Your customer success manager can assist you in manually copying your settings and we can assist in auditing your settings before launch We cannot offer incremental content or data migrations merges between sites"},{"title":"Support","tags":["Cloud"],"url":"/help/cloud/support/","content":" cloudfeature Cloud Support We provide professional support exclusively for our cloud clientshttpsvanillaforumscomplans Because of this we require the forum owner to request support or to specifically authorize other users to receive support Support is available by Using the Support form in your Dashboard Visiting the official support forum at httpssupportvanillaforumscomhttpssupportvanillaforumscom Sign in with the same email you used to register for cloud hosting Emailing support at vanillaforums dot com directly Please know they all go to exactly the same queue for attention from our entire staff You should receive a response in less than 24 hours If you do not please verify we received your message You will receive faster support and answers by using the methods above than emailing your account representative After your forum is launched we strongly recommend going directly to support for most needs to ensure the fastest turnaround Please note the open source community forum at openvanillaforumscomhttpsopenvanillaforumscom is not an official support channel While full of great volunteers they are under no obligation to assist and may not be able to anyway"},{"title":"Universal Comments","tags":["Features","Comments"],"url":"/help/comments/","content":" Vanilla Comments Vanilla comments allow any website with a unique content id to add a commenting system that can seamlessly integrate with their Vanilla community Comments made on content on their website will create discussions in their community Also any comment made on the forum discussion will be reflected back under the content What are Universal Comments We made Comment integration easy with WordPress learn more about that herehelpfeatureswordpressusingcomments but we also wanted to make it possible to add comments to any site where you can identify unique content Universal Comments a way to do that How to use Universal Comments To know if you can use Vanilla Universal Comments you need to know if your content has a unique id What does that mean In your URL or code is there a way to identify the difference between two pages For example in Magento you have a productid in Concrete5 there is the PageId in MODX its the Resource ID and so on This identifier is how you can assign a comment box from Vanilla to a specific document on any platform Essentially if you have a way to identify unique content you can use Vanilla Comments Once youve determined you have the necessary identifier to get started with Vanilla Comments head to your Vanilla Forums dashboard and look for Blog Comments under the Forum heading You will see the following Universal Commentsimghelpfeaturescommentssettingspng You want to make sure you have enabled embedding The next step is to select the Universal Code setting tab Universal Comments tabimghelpfeaturescommentsuniversalcodepng On this tab you will find code to paste into your platform you are using wherever you want your comment box to appear Usually this will be after the content your platform calls Universal Comments tabimghelpfeaturescommentsuniversalcodeidentifierpng Please note before you paste the code in your platforms template or theme you will need to modify the elements highlighted in yellow The first element you need to review is that the correct full urlpath to your Vanilla install is in the code The second element you will need to add and that is the code that calls the unique id for the current page Replace yourcontentidentifier with the appropriate code so Vanilla can connect the discussion created to the proper content Finally within the comments code you can You can modify Universal Comments code to allow all comments to appear in one discussion thread You can make the comments to appear in a certain category of your community This can be helpful if you integrate Vanilla Comments into a ecommerce shop where you want all product reviews to be placed in the Product Review category There are some additional settings you may wish to also review Configure Comment Counts code to show the number of comments you have Decide how many comments you wish to appear per page Under advanced settings add your trusted domains If you are using WordPress check out our how to integrate comments with WordPresshelpfeatureswordpressusingcomments"},{"title":"Advanced Settings","tags":["Features","Categories"],"url":"/help/forum-settings/advanced-settings/","content":" Advanced Settings The following settings can be configured in the Dashboard under Forum Settings Advanced Discussions per page the number of discussions displayed on a page Comments per page the number of comments displayed on a page Editing time limit this can be used to prevent edits after a certain time period Some user Roles and permissions will may override this limit Enable checkboxes this"},{"title":"Categories","tags":["Features","Categories"],"url":"/help/forum-settings/categories/","content":" What Are Categories Categories are how Vanilla organizes discussions within a community Categories can be added edited deleted sorted and tiered via the Dashboard Every discussion is placed in one and only one category You can find Categories under the Settings tab Dashboard listed under Forum Settings You can access it directly by going to vanillasettingscategories Categories Navigationimghelpcategoriescategoriesnavpng At the top of the page you will presented with the option to either add a new category or disable them completely Disabling categories will streamline your forum reducing the forum to the Recent Discussion view You can toggle categories off on at any point If you decide to use categories once more any threads that were already designated to a particular section will be restored Threads made while categories were not in use will be placed into whatever category is at the top of your list Choosing Your Category Layout Before modifying your individual categories you can choose how they will appear on your homepage In the Dashboard under the Homepage panel there is a Category Layout section In this area there are options for how to display the Categories page for your users The Modern Layout removes the extra columns for discussion and comment totals making for a clean look The Table Layout shows discussion and comment totals as columns along with user avatar and the thread title of the most recent post in the section The Mixed Layout option shows up to five of the most recently updated discussions under each category providing quick navigation to new content Add Categoriesimghelpcategoriescategoriesaddpng Choosing How Categories Display Categories are easily arranged Just click on the left side of a specific category to drag and drop it into your desired position Changes to organization will be reflected immediately on the main forum index Click and drag the small hamburger menu icon on the left side of each created category to rearrange themhttpsimagesvcdnnetdocsdraganddroppng There are some other options that affect how categories are viewed on the forum Opening the right drop down will reveal the Display As menu These settings critically change the way a category behaves The Display As optionshttpsimagesvcdnnetdocsdisplayasmenupng Discussions The default category where users can post discussions Heading Unclickable Headings that help with forum organization On the homepage they will display differently according to your theme Generally they are bold and will split your categories into sections The main page of your forum may be set to recent discussions best of or categories This is an example of a categories page in the Bootstrap 3 theme with headings differentiating the sections httpsimagesvcdnnetdocscategoriesindexpng Flat This is a paginated directory structure that can handle thousands of categories They are sorted alphabetically by default and cannot be manually arranged Flat categories have a module that can be inserted into your theme This will blend right in with your index and list a small number of the categories that the section contains It has a quick search module allowing for users to shift through hundreds of categories with ease This is great for sites that have a large number of products The flat categories module shown here blending in with the themehttpsimagesvcdnnetdocsdisplayasflatpng To add this to your theme use this module module nameFlatCategoryModule categoryID00 You can find the numerical categoryID in the URL when you are editing a category You can find the ID appended to the URL when editing in the dashboard or in by adding json to a category URL when navigating the community This shows an example URLhttpsimagesvcdnnetdocscategoryIDpng Nested Creates a clickable heading that only contains more categories Unlike Flat categories this is generally for creating small sections within your forum and can be manually organized Other Settings Category URL You can change the slug for a category to simplify the URL It will automatically populate with the title of the category Proper syntax for URLs is required here so spaces are not allowed Descriptions You can add a description to you category This will appear on the homepage or under the title on the categories page depending on your theme Photo You can add a picture or icon to your category which will appear on the main index in some themes CSS class The specified text will be added as a class for the categorys HTML wrapper This makes it so that you can target it specifically when building a theme Hide from the recent discussions This prevents threads in the category from appearing on discussions Archived This removes the category from the main index and prevents threads in the category from coming up in the sitebased search Archived Categories are still indexed by search engines and can prevent broken links Permissions Enabling This category has custom permissions will reveal some new options Custom permission options add another layer of control over a category This image shows the list of options that appear httpsimagesvcdnnetdocsotheroptionspng If you have a plugin like QA enabled you can use these options to choose where your users can create those threads You can also disable polls and file uploads if they dont suit the category Under that will be a list of all of your roles You can restrict who can view post in or perform moderation actions in particular categories Maximum Category Display Depth This setting is located in the Advanced section of the dashboard vanillasettingsadvanced The default setting is No Limit but you can choose to set a level at which nested categories will be placed in a commadelimited list The subcategories will appear as hyperlinks under their root category when viewing the forum index The commadelimited list displayed as child categories under the root httpsimagesvcdnnetdocscategorydepthpng Deleting a Category You can delete a category from the dashboard the option is in the righthand menu of each category The delete option is the very the bottom of the menuhttpsimagesvcdnnetdocsdeletemenupng Upon deleting a category you will be prompted to select a replacement category from a dropdown menu If you elect not to choose a replacement category all threads and posts will be deleted The red warning that appears on this page is all that stands between you and deleting your content Heed the warning and be sure to transfer the threads to a new location before confirming the actionhttpsimagesvcdnnetdocsdeletewarningpng It is not possible to recover a deleted category It is important to make sure that you have selected a new destination if youd like to retain the contained threads Alternatively you can archive categories by removing viewing and posting permissions for users rather than deleting content This is recommended as it avoids the accidental loss of threads Additional Resources Blog How to Structure Categorieshttpsblogvanillaforumscomcommunityhowtostructureforumcategoriesforagrowingcommunity"},{"title":"Embedding","tags":["Features","Embedding"],"url":"/help/forum-settings/embedding/","content":" Embedding Forum Embedding Vanilla Forums works by putting a snippet of code on your website page and may be a choice if you want to insert your forum into a site quickly The snippet points to some javascript and the forum is embedded into the page using an iframe Embedding Checklist 1 Choose the embed friendly theme This theme has minimal padding around it and will look good at any width Make modifications in Customize theme as you like 2 Ensure you have Enabled Embedding in your dashboard 3 Make sure that the page in which you embed is free of javascript errors Some considerations when it comes to Embedding 1 The possibility of slower loading times as your site needs to load the forum via JavaScript along with any other content you may have loading via JavaScript 2 Issues with SEO as Google and other search engines dont always do a great job of indexing framed content Embedding comments This feature will allow those of you who have a blog or news site to use Vanilla as a commenting system and really engage readers who might otherwise just enter a comment and leave 1 A single profile reputation and user experience across the community and the comments 2 Engage commenters with Vanillas existing gamification and curation features 3 Use blog traffic to quickly seed community participation and vice versa How do I implement comments There is a WordPress pluginhttpswordpressorgpluginsvanillaforums available that allows you to enable comments on your WordPress blog from your WordPress dashboard Alternately we have a universal javascript code snippet that can be placed into any page to get comments enabled If you are using different blog software you will need to edit the blog template and replace the existing blog comments with the code that can be found in the Dashboard under ForumBlog Comments Use our Universal Code the code snippet can be modified to create discussion threads in the appropriate forum category based on the blog post category What does Vanilla use as an excerpt from my blog article when creating a blog comment discussion When Vanilla creates a discussion thread based on a blog article it will grab the blog title the first few lines of the blog text and an image You can use Open Graph meta tags to specify what image should be used Otherwise it grabs the first 4 images on the page and finds the best one it can ie the biggest image that is at least 100x100 but smaller than 800px wide and not bannershaped Readers can log in using a Disqus ID Twitter Google FaceBook or via single sign on"},{"title":"Forum Settings","url":"/help/forum-settings/","content":" Forum Settings In the Forum Settings section of the Dashboard youll be able to configure the following Create and organize forum Categories Advanced settings such as setting the number of discussions per page Tagging setup Setting Vanilla to Embed and finding embed code Configuring Ideation"},{"title":"Custom Domain","url":"/help/getting-started/custom-domain","content":" Custom Domain for Your Forum Community Instead of having your community url look like this mysitevanillacommunitycom it can look like this mysitecom or communitymysitecom Its a simple twostep process that we recommend for all new forum owners Please note that you must purchase or create your desired url from a domain registrar before customizing your Vanilla Forums domain Setup Log in to the domain name registrar where your domain is hosted ex GoDaddy Rackspace etc In your Admin control panel create a DNS record for your domain so that it points at our servers You have two choices here If you want to use a subdomain communitymysitecom create a CName record for your domain that points to your Vanilla address mysitevanillacommunitycom If you want to use a top level domain mysitecom create an A Record for your domain using your forums IP address Back in your Vanilla Dashboard youll notice a Custom Domain menu under the Appearance category Enter your custom domain on that page How to find your forums IP address To look up your IP address Visit httpnetworktoolscom Choose Lookup from the list of radio buttons Enter your forum name mysitevanillacommunitycom in the long box select Go Look further down the page it will list your IP address SSL If youd like to use the HTTPS protocol and insert an SSL certificate follow the instructions herecloudssl"},{"title":"Getting Started","url":"/help/getting-started/","content":" Welcome Welcome to Vanilla Were glad to have you as a customer or user and were eager to help make your community a success This section is designed to give you a jumpstart in that direction and is intended for firsttime or novice Vanilla administrators First Steps If youre launching a new community from scratch you already know that it can feel like a daunting experience with numerous choices and decisions to make Having participated in hundreds of community launches weve developed a few tactics that increase the odds of success and remove some of the decision making 1 Choose a Homepage View In your dashboard under Appearance Homepage youll find a choice of 3 different landing pages This is what people will see when they visit the main URL of your community For a brand new community we recommend the Discussions view Choose a homepageimghelpgettingstartedhomepagepng A list of recent discussions across all categories makes it easier for new members and first time visitors to see whats trending in the community and increase the odds that they will engage in discussion Categories are not so important in new forums You can certainly create a few categories when starting out but let them naturally evolve instead of creating too many right away Once there is significant content switching to a category homepage might make sense You can use your analytics to see what leads to more engagement 2 Upload your logo Most of the base themes will display a logo in the top navigation are of the page In the Dashboard go to Appearance Banner and upload your logo Banner Logo The logo will be displayed at 100 size and so a smaller version of your logo will usually work best 3 Add some seed content A common mistake is having little or no content upon launch Just as people shy away from being first on the dance floor at a party having some active discussions going when guests arrive will help them engage Create at least 10 discussions use existing collateral ask questions and solicit opinions Once thing to avoid is to create puppet accounts and stage fake discussions Recruit colleagues and friends to get those early discussions going and keep them genuine 4 Stay public It can be tempting to offer the forum as a private value add to existing customers or registered members restricting access to those people only Unfortunately a private forum wont get indexed by search engines which is critical to driving organic traffic and achieving critical mass That said there are some exceptions You have a really big brand and people will seek you out The same applies to celebrities Making it part of an existing premium membership that is already well established Limiting access and support to paid customers This makes sense if you offer a highend or expensive product You may wish to consider a hybrid setup where you have a public Presales Questions category 5 Get the word out Now that your community is set up to receive new members its time to invite a few people to get the ball rolling Start with your close knit friends and perhaps some colleagues Listen to their suggestions about things you could improve or do differently but dont wait too long to go fully public If you have an existing website here are some ways to make sure your new community is properly promoted Make sure you promote it all over your website including in your main navigation The more launch fanfare and exposure the faster youll grow your membership Place ad tiles or banners on your website to let users know about the community Add community content to existing newsletters or email marketing campaigns Include the community information on transactional emails not just your email newsletter Have your customer service agents and sales team tell customers and potential customers about your community Add it to your hold messages Invite discussions on topics from your blog and also on social media posts where it makes sense 6 Be welcoming Ensure you welcome and engage with new users as soon as you can when they make their first post Most communities have a large percentage of lurkers people who only interact passively by reading content so when someone finally engages you will want to make sure you respond While it would be great to respond to all new posts within an hour make it a goal to make sure someone interacts with all new posts or members within the same day Once your community gets going you can recruit people to keep a lookout for new members and welcome them on your behalf By providing some sort of acknowledgement within the first 24 hours you are making new members feel welcome instead of feeling ignored Another good approach is to create a section of your community dedicated to new members where they can introduce themselves to your regular members and learn more about what your community has to offer This kind of area can feel like a safer place for shy members to experiment with the forum for the first time For more on community building please consult our Resource Libraryhttpslibraryvanillaforumscom"},{"title":"Ideation","url":"/help/ideation/","content":" cloudfeature Ideation Ideation gives forum users the ability to upvote and optionally downvote discussions Ideas Overview An idea is a discussion that can be voted on by forum users It has a status that lets moderators easily communicate decisions made on the idea and determines whether its open or closed for voting You can modify add or delete available statuses from the dashboard Ideas can only be created in ideaspecific categories an ideaspecific categories can only contain ideas Enabling Ideation To enable Ideation youll need to 1 Enable the Ideation addon from the Addons page in the dashboard 2 Make a new category and check the Idea Category box on the category settings page You can choose to enable downvotes here as well Users can add ideas to be voted on in this new category Note that once an idea category is created it can never be converted to a regular category and regular categories can never be converted to idea categories Idea Statuses Idea statuses communicate to users what state the idea is in and whether the idea is open to voting or not The Ideation plugin ships with these default statuses Active Already Offered Declined Completed In Progress and In Review The available statuses are completely configurable and can be changed to suit your communitys needs Adding and Editing Available Idea Statuses To edit the available idea statuses navigate to the Idea Statuses page from the link in the dashboard panel From there you can add remove and edit statuses You can also configure the default status for new ideas that are created and specify whether a status is open or closed for voting Users need to have the GardenSettingsManage permission in order to configure the available statuses Changing An Ideas Status You can change the status of an idea by navigating to the idea in the forum and clicking on its options dropdown menu Youll find an Idea Status option there From there you can select a new status for the idea You can also add notes to explain the status change For example if an idea is marked as a duplicate of another you may want to link to the idea it is a duplicate of Users need to have the VanillaModerationManage permission in order to change the status on an idea Changing an ideas status will send out notifications to the idea author and the ideas voters if they have enabled these notifications for their accounts Additional Resources Video How to Use Ideationhttpswwwyoutubecomwatchvo5YW4pTafoM"},{"title":"Help and Training","tags":["Training"],"url":"/help/","content":" Welcome This section focuses on the perspective of members moderators and administrators in their daily use of Vanilla It includes lots of tutorials and tips for getting the most out of Vanilla Use it to learn more about what is possible with Vanilla and to setup your new forum in a way that best suits your unique community helpblogs "},{"title":"Github","tags":["Features","Addons","Integrations"],"url":"/help/integrations/github/","content":" Github This plugin allows you to submit user discussion and comments as GitHub issues Setup Instructions If you already have a Github account you need to enable API Access for this plugin to work 1 Create a new application in GitHubhttpsgithubcomsettingsapplicationsnew and set the callback URL by appending profilegithubconnect to the end of your forums URL If your forum is at examplecomforum your callback URL would be httpexamplecomforumprofilegithubconnect 2 Once your application has been set up you must copy the ClientID and Secret into your Github plugin settings page from your Vanilla dashboard 3 Enter the repositories you want to be allowed into your Github plugin settings page from your Vanilla dashboard"},{"title":"Integrations","url":"/help/integrations/","content":" Integrations Vanilla integrates with several third party applications including Salesforce Zendesk GitHub Wordpress Akismet WithList MailChimp Social logins Facebook Twitter LinkedIn etc Vanilla also supports integration through an APIapi"},{"title":"WordPress Integration","tags":["Features","WordPress"],"url":"/help/integrations/wordpress/","content":" Wordpress Integration Vanillas integration to Wordpress lets you do a few things SSO from Wordpress to Vanilla Use Vanilla as a commenting system on your Wordpress blog Add a widget to your Wordpress site Vanilla plugin for Wordpress You can find the Wordpress plugin herehttpswordpressorgpluginsvanillaforums Integration Setup Instructions Integration instructions can be found herehttpsblogvanillaforumscomhelphowtousevanillaforumswithwordpress"},{"title":"Using Comments","tags":["Features","Embedding"],"url":"/help/integrations/wordpress/using-comments","content":" Transition to Vanilla Comments Vanilla doesnt have access to your WordPress comments so simply turning off WPs comments and turning on Vanillas would hide all your existing comments Theres 3 ways to go about remedying this The first is to import all your WordPress comments to Vanilla You will need need the XML export from your WordPress Dashboard to do this VanillaForumscom clients may request this as an additional service via support or their sales representative The second is to edit your WordPress template manually to show WordPress comments on posts published before the date of your switchover and Vanilla comments after the date of your switchover This would require some elementary PHP The third option is to disable all new WordPress commenting and manually add Vanilla Comments embed code in the template after WordPress Youd also want to remove WordPresss empty state message for when there are no comments This would have the effect of showing all old WordPress comments followed by any new Vanilla comments and then the Vanilla commenting box Obviously this option is a little more complex so Id only do it if your comfort level with WordPress template editing is fairly high"},{"title":"WishList Integration","tags":["Features","WordPress"],"url":"/help/integrations/wordpress/wishlist","content":""},{"title":"Zendesk","tags":["Features","Integrations"],"url":"/help/integrations/zendesk/","content":" Zendesk This plugin allows you to submit user discussion and comments to your hosted Zendesk Setup Instructions If you already have an account you need to enable API Access for this plugin to work 1 Login to your Zendesk Site 2 Go to the Admin Setting 3 Under Channels Select API 4 Select the OAuth Clients 5 Add a client 6 Complete the form 7 Copy the Unique Identifier and Secret and enter it below 8 Set the Redirect URLs by appending profilezendeskconnect and then pluginzendeskconnect to the end of your forums URL If your forum is at examplecomforum your Redirect URLs would be httpexamplecomprofilezendeskconnect and httpexamplecompluginzendeskconnect If you dont have an account you can create one for free at Zendeskhttpwwwzendeskcom"},{"title":"Moderation","url":"/help/moderation/","content":" Moderation Overview Vanilla tries to make moderation easy by giving you access to many moderation features through the public UI and by inviting members to participate in reporting abuse Managing Users In the Dasboard under the Moderation Tab youll be able to lookup users Clicking on the pencil icon will let you edit a users profile information appoint roles and perform a password reset If the Spoof plugin is turned on you can also spoof this user ie experience Vanilla from that users point of view This is useful when trying to replicate a problem this user might be having Approving Applicants If your registration is set to Approval you can approve or reject applicants Banning Users Banning a user is an extreme but sometimes necessary action A user can be banned by going to their user profile page or via the Dashboard There are different ways to ban a user By email address By username By IP address It it also possible to use wildcards in banning rules by using wildcards for example to ban all users with email addresses on the ru domain you could create an email ban and enter ru as the value We suggest contacting customer service if you would like to create a wildcard ban Caution using wildcards in banning rules might result in banning large groups of potential users"},{"title":"Reporting","tags":["Features","Addons"],"url":"/help/moderation/reporting/","content":" What is Reporting Reporting is a way for members to bring moderators attention to content that they believe is inappropriate Report is an option under Flag in the Reactions available under each post Reporting a post Go to Flag Report in the Reactions menu at the end of the post A popup box will prompt you to add a Reason both to explain the report and discourage useless reports Any member may use this function Reporting content creates a new discussion in a special moderatoronly forum Additional reports of the same content the exact same post add new comments to the special discussion If different posts in the same discussion are reported each will get its own special discussion Moderators can comment in the special discussion normally to coordinate a response Viewing reports Go to the Reported Posts category or click Reported Posts in the sidebar menu Each discussion represents a piece of reported content The discussion starter is whoever reported the content first Only moderators may see reports and receive notifications about them Notification of reports If they have the Advanced Notifications permission moderators may subscribe to receive popups andor emails of all new discussions andor comments in the Reported Posts category"},{"title":"Spam","url":"/help/moderation/spam/","content":" Spam Prevention Vanilla is equipped with several layers of SPAM prevention While automated tools do most of the work we encourage you to be vigilant and to enlist your membership to report any suspected spam Spam Detection Vanilla includes 2 spam detection plugins StopForumSpam and Akismet These can be turned on in your Dashboard from the Addons page Akismet this plugin feeds your posts through the Akismet spam detection algorythm which looks at several factors including live data to determine if a post is spam StopForumSpam this plugin checks users against a list of reported spammers and will report posts as spam or reject them outright The threshold for reporting and rejection can be set in the plugins settings Spam Reaction If you have Reactions enabled you can choose to display the Spam Reaction which lets community members report spam posts By default if 5 members report a post as spam it will be moved to the spam queue Flood Control This feature is to prevent a spambot from doing too much damage if it manages to register Spambots can be kept out using the reCaptcha test on registration or on your own websites registration if you have implemented SSO and can also be caught by the spam filters Flood control lets you limit how many discussions comments private messages and replies to private messages that a user can create within a time period Spam Queue Any detected Spam will show up in the Spam Queue From here you can indicate if a registering user is a spammer or not and indicate if a post is a spam post or not Once in a while the spam filters will report legitimate content as spam this is known as a false positive When you indicate that a post is spam you will have the option to delete the post additionally you will have the option of deleting all posts by the offending user and banning that user User Ranks Another tool available to combat spam and abuse is User Ranks Many community managers want new members to prove themselves before they are given the ability to fully participate Ranks which can be awarded by moderators or by accumulating reputation points can be linked to abilities such as having links in posts or editing posts once they have been submitted Verifying Users Verified users will bypass spam filters A user can be verified by admins and mods on the users profile page by looking up the user via the Dashboard or the verified status can be assigned automatically by earning a Rank which grants verification"},{"title":"Adding and Editing User Notes","tags":["Features","Warnings and Notes"],"url":"/help/moderation/warnings-and-notes/adding-and-editing-user-notes","content":" Adding a Note To add a note for a user go to their profile In their edit profile drop down there should be an item called Add Note Users must have the permission GardenModerationManage or ModerationUserNotesAdd if present to add notes Viewing Notes To view a users notes go to their profile There will be a notes link on the side panel Note that both notes and warnings are displayed in the same list Notes are identified by a note tag Users must have the permission GardenModerationManage or ModerationUserNotesView if present to view notes Editing and Deleting a Note You can edit and delete user notes by hovering over them and clicking the corresponding button Users must have the permission GardenModerationManage or ModerationUserNotesAdd if present to edit or delete notes"},{"title":"Warnings and Notes","tags":["Features","Moderation"],"url":"/help/moderation/warnings-and-notes/","content":" What are Warnings Warnings can be given to users by moderators for behavior that is not appropriate in the community Warnings use a points system that increases a users warning level with successive warnings until the warnings expire Once users reach certain points thresholds they can be jailed or banned What are Notes User notes are notes attached to individual users that only moderators can add and see They allow moderators to keep track of information about users that may be important to other moderators Warning Levels and Expiry When a moderator warns a user the severity of the warning determines how many points it adds to the users warning level and when the warning expires Admins can see a users warning level from the member profile via a banner at the top Moderators can see the details of warning and expiry from the notes tab When a users warnings expire then their warning level will be reset to zero and the user will have a clean slate If you warn a user that has already been warned then the points from the new warning will be added their warning level and their expiry will be extended When a user reaches certain warning levels they will be punished Warning Level 3 Jailed Users that reach warning level 3 are considered jailed Being jailed means the following A jail icon is overlaid over the users avatar The user cant start new discussions The user is flood controlled so they can only post once every 150 seconds The users signature is hidden The idea behind being jailed is to punish the user a little bit to let them know that youre serious but to let them continue to be a part of the community to correct their behavior Warning Level 5 Banned Users that reach warning level 5 are banned from the community completely"},{"title":"Upgrading from Warnings","tags":["Features","Warnings and Notes"],"url":"/help/moderation/warnings-and-notes/upgrading-from-warnings","content":" Warnings Notes is version 2 The first version of this addon was titled simply Warnings It did not include the User Notes feature It had more granular controls for Warning a user with particular point levels and durations We recommend all users disable the Warnings addon if they still have it and immediately enable the Warnings Notes addon instead Why does Warnings Notes have less granular settings We discovered that additional options created ambiguity among moderator teams over what an appropriate warning level was for particular user behaviors By limiting the number of options weve increased clarity for how to use the feature"},{"title":"Warning a User","tags":["Features","Warnings and Notes"],"url":"/help/moderation/warnings-and-notes/warning-a-user","content":" Warning a User You can warn a user from their profile or from a post that theyve made Warnings may be given by users with the permission GardenModerationManage or ModerationWarningsAdd if present Profile Warning To warn a user from their profile click on their edit profile drop down There should be an item called Warn Warn from a Post You can warn a user for a post theyve made To do this click on the posts flag menu and click Warn Warn Dialog Clicking a warn button will bring up the warn dialog where you can enter information about the warning Severity Select from a list of warning severities The idea is that moderators should pick a severity based on the action that the user did and let the system keep track of those warnings to decide on punishments based on the points that accumulate on successive warnings Message To User Enter a message that will be sent to the user explaining why youre warning them This message is sent in the form of a private message and the user can reply to it to plead their case Private Note to Moderators Optional Enter a short note that only moderators can see This is useful if you want to convey sensitive information that should be hidden from the user that has been warned Attach this warning to the post If you warn a user from a post then there will be a checkbox to attach the warning to the post When you select this then the post will be linked to the warning Viewing Warnings To view a users warnings go to their profile There will be a notes link on the side panel Note that both notes and warnings are displayed in the same list Warnings are identified by a warning tag Users that may view warnings are those with the permission GardenModerationManage or ModerationUserNotesView if present Reverse Warning You can reverse warnings by hovering over them and clicking the reverse button Reversing a warning removes its points from the users warning level but doesnt remove the warnings from the users profile Reversed warnings are noted with a reversed tag"},{"title":"Multisite","tags":["Cloud","Multisite"],"url":"/help/multisite/","content":" cloudfeature Multisite management Vanillas cloud solution offers a number of configuration settings for enterprisegrade deployments Deployment Types Single Community This is a classic forum setup It is the equivalent of 1 installation of forum software It can have any number of categories what other products call topic areas or forumssubforums arranged in a hierarchy Each Single Community needs a domain or subdomain assigned The Hub A Hub is a community mothership Setup one community as a template then create Nodes that are copies of this setup Each Node is a Single Community with the added ability of being syncedhelpmultisitesync with changes made on the Hub Each Node is otherwise independent from each other separate user lists private message exchanges and activity streams Each Node is accessible via either a subdomain or a subfolder off a domain shared by the whole Hub This is called the Hub URL Format For example the muffins Node in the bakery Hub might be accessible at the URLs muffinsbakerycompanycom or bakerycompanycommuffins depending on the configuration Only one type of Hub URL Format is supported per Hub Subcommunities This artificially divides a Single Community or a Node into different areas by making each of the top tier of categories into subcommunities While in any particular subcommunity all other content outside the subcommunity is completely hidden A common use case for subcommunities is localization All subcommunities are still part of a single instance the user list and therefore moderators admins private messages and activity stream are shared across all subcommunities Each subcommunity has its own URL path prefix For instance visiting the Recent Discussions page of the English subcommunity for forumcompanycom would take the user to forumcompanycomendiscussions The user would see only discussions that are in the subcategories under the English top tier category A common way of combining this feature with the Hub is to create a Node per product and use subcommunities for each locale within that product Architectural considerations Cluster management Our physical server assets are arranged into clusters Each cluster can hold many Single Communities or a single Hub its Nodes They cannot be mixed Scaling capabilities Because each Node is a separate entity there are significant scaling advantages to choosing a hub setup over a single community subcommunities setup Suggested setups For smalltomedium sites use a single community Add subcommunities for multilocale support or to combine several microforums into a single instance For very large or franchise sites use a dedicated Hub with a Node per locale This provides maximum scaling potential Embedding iframes While we do support robust embedding iframe solutions we strongly recommend avoiding it whenever possible It drastically increases project complexity and negatively impacts user experience with longer page load time SSL certificates We will need SSL certificates that cover all potential custom domain names For Hub setups this generally means a wildcard certificate See our documentation on providing SSL certificateshelpcloudssl Additional Resources Blog Multisite Deployment of Vanillahttpsblogvanillaforumscomfeaturesmultiforumdeploymentofvanilla"},{"title":"Multisite Sync","tags":["Cloud","Multisite"],"url":"/help/multisite/sync","content":" Hub Sync A number of settings can be synced between the hub and its nodes"},{"title":"Notifications","tags":["Features","Notifications"],"url":"/help/notifications/","content":" Overview Notifications for certain forum events can be delivered inapp via Growlstyle popups andor via email New users will be opted in to a list of notifications that can be configured by the administrator Users may edit these preferences in their profile at any time Any notification level may be selectively disabled globally It is also possible to globally disable all email sending by setting GardenEmail false in your config Basic notifications Notifications available by default to all users Notify me when people write on my wall Notify me when people reply to my wall comments Notify me when people mention me in comments Notify me when people comment on my discussions Notify me when people comment on my bookmarked discussions Notify me when people mention me Notify me of private messages Notify me when I am added to private conversations Addon notifications Addons may add more notifications Badges cloudonly Notify me when I earn a badge Notify me when a badge is requested Moderator only Ideation cloudonly Notify me when my ideas statuses change Notify me when the status changes on an idea Ive voted on Advanced notifications Moderators and administrators have permission to be notified for every new comment or discussion and they can set this per category These are available on the same Edit Preferences page under Edit Profile Do not enable this feature for all users Setting defaults You can set default notification levels for new users in your config Setting a value to 1 is on 0 is off and false disables it globally Any user has already chosen their preferences will be unaffected Vanilla starts with these defaults PreferencesEmailConversationMessage 1 PreferencesEmailBookmarkComment 1 PreferencesEmailWallComment 0 PreferencesEmailActivityComment 0 PreferencesEmailDiscussionComment 0 PreferencesEmailParticipateComment 0 PreferencesPopupConversationMessage 1 PreferencesPopupBookmarkComment 1 PreferencesPopupWallComment 1 PreferencesPopupActivityComment 1 PreferencesPopupDiscussionComment 1 PreferencesEmailMention 0 PreferencesPopupMention 1"},{"title":"Emoji","tags":["Features","Emoji"],"url":"/help/posting/emoji","content":" Emoji Emoji is a way to express yourself in graphical form in your community The following are the emoji and the code to use for them to appear Emoji Type Code To Use In Forum Smileys smile smile smiley smiley wink wink blush blush neutral neutral relaxed relaxed grin grin joy joy sweatsmile sweatsmile lol lol innocent innocent naughty naughty yum yum relieved relieved love love sunglasses sunglasses smirk smirk expressionless expressionless unamused unamused sweat sweat pensive pensive confused confused confounded confounded kissing kissing kissingheart kissingheart kissingsmilingeyes kissingsmilingeyes kissingclosedeyes kissingclosedeyes tongue tongue disappointed disappointed worried worried angry angry rage rage cry cry persevere persevere triumph triumph frowning frowning anguished anguished fearful fearful weary weary sleepy sleepy tiredface tiredface grimace grimace bawling bawling openmouth openmouth hushed hushed coldsweat coldsweat scream scream astonished astonished flushed flushed sleeping sleeping dizzy dizzy nomouth nomouth mask mask star star cookie cookie warning warning mrgreen mrgreen Love heart heart heartbreak heartbreak kiss kiss Hand gestures 1 1 1 1 Custom icons trollface trollface "},{"title":"Posting","tags":["Features","Posting","Comments"],"url":"/help/posting/","content":" Overview Posting or commenting on a discussion is the primary way users will interact with your community There is a range of discussion types helping communities adjust the functionality to suit their needs At the bottom of each discussion the user will encounter a text field EditorhttpsimagesvcdnnetdocsPostingEditorpng Users are able to type their comments here and submit them by hitting the Post Comment button That comment will immediately append the bottom of the discussion adding it to the conversation Advanced Editor Advanced Editor is activated by default on new communities It provides an array of tools for your members to use when making a post If you are looking for more information on how to compose and format posts in vanilla you can read more Advanced Editor in our documentation herehttpdocsvanillaforumscomhelpaddonsadvancededitor Discussions To create a new discussion click on the New Discussion button at the top or bottom of any category New Discussion ButtonhttpsimagesvcdnnetdocsPostingNewDiscussionpng This button will lead you to postdiscussion Heres what you will encounter on the new discussions page New Post BreakdownhttpsimagesvcdnnetdocsPostingNewPostBreakdownpng 1 The discussion title is what will show at the top of the post once its been submitted It will also identify the discussion on the category index 2 This is the Advanced Editorhttpdocsvanillaforumscomhelpaddonsadvancededitor which assists the user in formatting the text of their post inserting images and attaching files 3 This is the field where the user will type out the main body of their post 4 Tags mark a discussion with certain keywords so it is easier to search for within the community By default up to five tags can be used on a post 5 Once the user has finished typing their post clicking the Post Discussion button will immediately publish it Clicking Save Draft will store the post under My Drafts in a users profile menu Preview will show the user what the finished post will look like when published Cancel will bring the user back to the category they were viewing previously Types of Discussions Certain addons in vanilla expand the types of discussions users can make in a community When one of those addons is enabled clicking the downarrow on the New Discussion button will reveal several options Posting OptionshttpsimagesvcdnnetdocsPostingPollOptionspng Polls can be enabled from your dashboard on any plan level When creating a poll the user is presented with a few new options New Poll SetuphttpsimagesvcdnnetdocsPostingPollSetuppng With this form the user can input the different answers for their poll They can also choose to make a poll anonymous which prevents others from knowing how specific users voted Once the poll has been submitted other members are allowed to vote once The Ask A Question option is for users looking to get a specific information The screen for posting a question looks identical to the New Discussion screen When a question is asked the bottom of each subsequent comment will have an option to mark it as an answer Selecting Yes marks the post as an answer within that discussion and pins it to the top right under the initial question You can read more about our Questions and Answers plugin herehttpdocsvanillaforumscomhelpaddonsqna The New Idea option is for communities with Ideation enabled Ideas are discussions that can have various statuses and be voted on They are limited to specific categories within a community You can read more about Ideation herehttpdocsvanillaforumscomhelpideation Additional Resources User Onbording VideoshttpswwwyoutubecomplaylistlistPLEdMTbLR4h8xC7XwUrfZ4s5IoQ9Of6Ihn Advanced Editorhttpdocsvanillaforumscomhelpaddonsadvancededitor Emojihttpdocsvanillaforumscomhelppostingemoji Smart Embedhttpdocsvanillaforumscomhelppostingsmartembed"},{"title":"Smart Embed","tags":["Features","Embed","Youtube","Vimeo","Twitter","Wistia"],"url":"/help/posting/smart-embed","content":" Smart Embed Vanilla automatically embeds content from many social media sites When creating a post simply paste the URL into the editor like so A Youtube video Linkhttpsimagesvcdnnetdocssmartembedyoutubeeditorjpg If the URL is from a supported site and has the proper identifier the content will automatically embed into the post body when published While some sites offer different types of embed codes unrecognized parameters may stop Vanilla from correctly parsing the URL Using the methods below will ensure your content is correctly embedded Youtube Use the full URL of any video and paste it into the editor httpswwwyoutubecomwatchvucO5iSVpaw You can also copy a video at a certain time httpsyoutubeucO5iSVpawt52s A Youtube video embeddedhttpsimagesvcdnnetdocssmartembedyoutubepostjpg Twitter Use a full URL of a tweet to embed it Expanding a tweet in your timeline should provide the correct URL in your address bar To embed a tweet from a thread click the specific tweets timestamp httpstwittercomvanillastatus814160323867447296 A Tweet embeddedhttpsimagesvcdnnetdocssmartembedtwitterpostjpg Vine Use the specific URL of a vine to embed it Clicking the timestamp for a vine will give you its URL such as httpsvinecov596bJWLgZ35 A Vine embeddedhttpsimagesvcdnnetdocssmartembedvinepostjpg Vimeo Use the numerical ID for a Vimeo video it will be in the address bar httpsvimeocom31976384 A Vimeo Video embeddedhttpsimagesvcdnnetdocssmartembedvimeopostjpg Currently the share link or links with timestamps will not automatically embed Pinterest Use the Pin URL which has a numerical ID on the end httpswwwpinterestcompin153755774758385655 A Pin embeddedhttpsimagesvcdnnetdocssmartembedpinterestpostjpg Instagram You can use either of these URL formats to embed a post from Instagram httpswwwinstagramcompBIDNLfhA8Oy httpswwwinstagramcompBIDNLfhA8Oytakenbyvanillaforums An Instagram photo embeddedhttpsimagesvcdnnetdocssmartembedinstagrampostjpg SoundCloud Both playlists and individual tracks will embed from SoundCloud when you insert a URL into a post httpssoundcloudcomlauramakesartvanillasilence This URL will start with the first song and then continue to play the contents of the set httpssoundcloudcomlauramakesartvanillasilenceinlauramakesartsetsvanillaexample This will play a specific track from the playlist You can grab a specific track URL by clicking its name in the player at the bottom of your screen Some fly beats from SoundCloud embeddedhttpsimagesvcdnnetdocssmartembedsoundcloudpostjpg Wistia Wistia is a videohosting website that focuses on the professional needs of businesses Because Wistia videos privacy is more controlled the process of embedding them in the forum is a bit more involved First you want to find the project that youd like to share from The project list in the Wistia dashboardhttpsimagesvcdnnetdocssmartembedwistaprojectlist1png In that project find the specific video that youd like to embed in a post Selecting a videohttpsimagesvcdnnetdocssmartembedwistavideolist2png Click on the video and copy the URL from the address bar You can also click on Video Actions and select the Social Sharing option from the list That will give you this screen which also provides the full URL The Video Actions menuhttpsimagesvcdnnetdocssmartembedwistavideoactions3png The Video Actions menuhttpsimagesvcdnnetdocssmartembedwisitaembedsocial4png When you have the URL copied go back to the post that you are writing and paste the link right into the body of the text exactly where you want the video to appear The Video Actions menuhttpsimagesvcdnnetdocssmartembedwistapostpng Once you post the comment or discussion it will autoembed just like the other examples in this article Please note Wistias embed does not respect starting at a specific time This is a limitation within the embed code from Wistia"},{"title":"2016 Cloud Releases","tags":["Cloud","Releases","2016"],"url":"/help/releases/2016","content":" Release Notes In 2016 VIP releases were every other month Other customers received updates on an adhoc basis December Add full IPv6 support Add and improve addon icons Add meta tags for discussion links to generate Twitter cards when added to tweets Add settings to Dashboard for category max display depth Add some padding to HTML tables in posts improve legibility Add support for our new CDN Add accessibility attributes to Customize Theme Add pager to log views Improve category headings detection and table view support Improve markup of category settings page Ensure password editing fields toggle appropriately Allow removal of button from HTML email Restore Theme Preview functionality except for Mobile 2014 Default to secure cookies if ForceSSL is set and using HTTPS Skip validating discussion title when a draft is saved Improve markup and make further enhancements to Dashboard v3 Restrict upload filename to be per post instead of by entire discussion Allow uploading a Photo when creating a new category Avoid autoscrolling to top when in comment embed Confirm that user wants to delete images before deleting in Dashboard Update documentation links for Social Connect addons Replace Hide Category with Mute Category option Allow new messages to accept a subject parameter if enabled via URL Fix delete message button in Dashboard Fix delete ban button in Dashboard Fix category depth calculation in subcommunities Fix IP filtering on user management page Fix heading categories sometimes being wrapped in an anchor Fix dashboard pager next button when there are 0 results Fix the user photo in search Fix extra ltbr tags in plain text emails Fix issue where nav is cut off on category addedit Fix wrong heading for activity on profile page Fix activity notifications falsely flagging as sent when it was skipped Fix ICO transparency issue after upload in Dashboard Fix permission check for Change Log page to allow moderators ModerationManage Fix avatar cropping in profile jsConnect Add warning to jsConnect dashboard when provider is in test mode jsConnect Security Add contenttype to callback endpoint to prevent potential XSS Badges Add badge name as alt text to badge images Badges Add the ability to edit thresholds for some badges Polls Fix results percentage Polls Fix cancel button Polls Hide category dropdown when already inside a category Polls Fix autoselecting first child category in category dropdown QA Fix autoselecting first child category in category dropdown Reactions Add inform message to Reactions enable toggle in Dashboard Reactions Fix RSS view when BestOf is configured as tiles Reactions Fix customizations reverting after database updates Reactions Security Add missing CSRF protection on react endpoint Reactions Fix reactions popup possible overlap Reactions Translate reaction names in navigation breadcrumbs MailChimp Fix issue with synchronizing lists Profile Extender Fix checkbox display on registration Ignore Fix failure to unignore user if their ignore privileges have been revoked Groups Fix search in groups when the category is not viewable Warnings Notes Fix extra line after quote Civil Tongue Add support for groups and group events Salesforce Remove from options on profile social connect SplitMerge Make the System user the new discussions author when splitting comments SAML Allow SAML to accommodate differentlyconfigured XML responses SimpleAPI Fix situations where other addons could conflict with API endpoints September New Dashboard This changed every page in the moderatoradmin backend including all addon settings pages Add navigation memory to the Dashboard It will now preserve menu collapsing states your page within each section between visits Add Flat Categories feature and optional navigation module This allows browsing hundreds of categories as an alphabetical directory Improve how categories are managed in the Dashboard Categories now default to type Nested and must have a type assigned Add full recipients list to Badges Click the Given number from Badges in the Dashboard Add new Post Numbering addon by request only currently Add new Role Tracker addon by request only currently Add ability to convert discussions to ideas if Ideation is enabled Add ability to configure warnings in Warnings Notes addon Add redirects for Lithium and Ning community imports Redirector addon Add support for vBulletin 3 4 showthreadphppPOSTID URL redirects Allow Location and Title to be edited from User Edit Fix Profile Extenders handling of nonASCII characters in field names Refactored how we handle all requests dispatcher Update MailChimp addon to use v3 of their API and support MailChimp groups Update Facebook addon to use versioned endpoint Fix Mark All Viewed endpoint to prevent accidental or malicious triggering and fix its redirect Fix Bootstrap3 theme color schemes paper and sandstone Remove SafeStyles option previously deprecated General addon code maintenance done on Groups Reactions Ranks Polls SAMLSSO and Badges Fix issue with embedding where you could stay scrolled down when changing page Add username validation to messageadd endpoint when prefilling To field via URL Fix conflict between Discussion Photos addon and Ideation addon Add ability for Smarty templates to access isMobile function userAgentType function homepagetitle function and Homepage boolean variable Fix issue where default role settings werent transferred from old system correctly Add additional line break to welcome email Do not wrap images in a div if they are already in an anchor to fix potential clicking issue Fix autocomplete dropdown display in modals with Bootstrap3 theme Add the post that a user was warned for in the email notification Do not serve empty or commentonly CSS files from Custom Theme feature Fix photos URL for usersummary API endpoint Fix quotes that are done on a user with spaces in its name Fix tabindex for comments conversations discussions for keyboard navigation around page Add announcements to discussions RSS in posting order Block adding banning rules that would HAL9000 the entire crew like Fix the basic not advanced which had no issue search pager Do not revalidate username on edit if no change on user edit Do not send noindex meta on error pages to prevent legit pages from being unindexed Increase the priority of customcss to be higher Fix log link showing when no log exists Allow Unanswered Questions page title to be translated QA addon Add support for alternate SAML document structures SSO Enforce max tags limit on the front end and cleanup tag validation Encode slashes in usernames when creating profile links Allow comment drafts to be orphaned instead of removed when their discussion is deleted and rework drafts view Unregister plugins immediately after it has been disabled instead of waiting until the next page request Hide email preferences when email is disabled globally Hide the RSS icon from categories that are type Categories since they contain no discussions Trim all control characters from discussion title helps prevent broken or blank titles Fix scenario where discussion title could be blank Fix user search to allow numeric usernames as long as its an exact match Akismet will now validate your key before accepting it Cloud customers do not require their own key it is optional Improve Akismet addon description and deprecate TypePad option no longer offered by TypePad Hide Participated menu for guests Participated addon Let welcome email fallback to HomepageTitle when the sites name is not set properly Turn off autocomplete on text fields when editing users in dashboard to prevent accidental data insertion Improve how table layouts choose their column widths according to the content in them Improve QA and how it interacts with Subcommunities especially displaying an Unanswered count per community Change H2s for H1s for a few edit profile pages Improve consistency in module widget titles usually H4 so they are properly configurable Add invited user data to user exports Fix button height in Share This widget Add OAuth2 library to core product for building custom implementations more easily Fix potential duplicate rank promotion notifications Change the priority order of the SimpleAPI plugin so Subcommunities does not interfere with API calls July New plugin Role Tracker aggregates discussions with posts by users in particular roles New plugin Welcome Post invites newly registered to start an intro discussion immediately Upgrade to Smarty 3 templating engine for custom themes Its a little bit stricter faster and more secure than Smarty 2 was Further improve scaling for large numbers of categories Faster page loads Add option to exclude moderators andor admins from leaderboards Move profile thumbnail editing to same page as photo uploading OpenID Prevent bad rendering when URL is invalid Dont show Google login when enabled but not configured Add support for inline async forms for future Vanilla use Keep attachments when a discussion becomes a comment via SplitMerge Automatically update CSRF token with async requests This is so we can invalidate them more frequently in the future improving our security Add the ideation page as a target for messages Add the categories page as a target for messages Set a limit on the page number in Best Of it helps performance to not let pages go infinitely high Fix edge cases where notifications preferences would not display completely Tighten security of Target parameter during sign in to disallow bad redirects Refresh the page after announcing a discussion Markdown Allow starting lists without a newline Change how IP addresses are logged and allow IPv6 no more 0002 placeholder addresses appearing Remove the invite feature from the Getting Started page Remove site logo from Deflector theme footer Fix Cyrillic character recognition in CivilTongueEx allowing Fix Ideation crashing discussionspromoted Fix default translation of Post Discussion QnA Fix unanswered status for discussions converted to questions by an admin Hub Add synchronize for subcommunities and default locale Fix emoji menu not being properly dismissed Hide Dismiss option on announcements from guests because it didnt actually do anything Add CSRF prevention and remove redirect from Mark All Viewed option Encode mail subject properly UTF8 Fix broken reaction pagination on profile pages Fix emoji and mention from rendering inside WYSIWYG code blocks Add Homepage Smarty variable that is truefalse depending on if you are on the homepage Fix double encoding Open Graph title tag This would have shown up as extra ampersands in Facebook shares and the like Hub Do not sync category permissions for an overridden role Hub Add optional landing page Switch to separate library for password hashing Were compartmentalizing some features like this to make maintenance easier We completed some very large projects to carefully rework several parts of our framework to get ready for API v2 but theres no outward effect of this for you May Upgrade to reCaptcha 2 NoCaptcha Make NBBC our new BBCode parsing library by default no more plugin Add ability for SAML SSO to not be the default login method Allow moving a discussion between subcommunities Add support for switching subcommunities Improve category scaling Make activities selfprune after 2 months to improve performance Always redirect to the first page after saving a discussion Add analytics tracking for QAs accepted answers coming soon to analytics Allow censoring content in conversation message notifications Allow censoring poll votes in comments Fix a number of edge cases where certain actions could block other actions without a page refresh Fix condition where category announcements disappeared from recent discussions page Add caching for the default authentication provider Improve security in signin redirects Improve use of Alt CSS class which will be removed eventually now redundant with current CSS specs Add option to configure a redirect after logout on Auth0 plugin Update TripleA and Bootstrap 3 themes Fix issue where Vimeo and Instagram embeds overflow out of the Best Of Tiles Fix where SplitMerge addon may be unable to save split discussion with Html format Fix the love bug various problems with 3 in usergenerated content Prevent unneeded recurring updates in dashboards database updater Fix Gravatars use of system default avatar Add optional rating parameter to Gravatar Fix GitHub signin and API permission issues Fix new discussion button showing in subcommunity when user has no permission Allow the Photo field to be set in profileedit Only use CommentID for spam check if available Fix incorrect permission being checked in some category management actions Groups Simplify fix event timezone handling Make initial spoiler text the same colour as its background Fix RSS title encoding Add the ability to capture a users time zone Fix LinkedIn profile connect feature Move Recaptcha into a plugin Add support for Instagram embeds in Mobile 2014 Do more image optimizations Fix Safari issue where back button wouldnt refresh the page Fixes issue where people can quote a post and see uncensored content Remove gender from userfacing elements like registration Prevent Messages from being displayed when you do not have view permission QnA Return the correct number of questions for a subcommunity Switch YouTube links to https Fix mention issues including using an in the middle of two words Fix PNG compression issues in file uploads Fix some minor issues that could make spoilers malfunction Add a safety feature to avoid toobig database changes all at once Allow any user with moderate permission to add discussions and events in a group Fix aggressive span stripping in the HTML purifier March New addon Ideation vote on ideas Contact your CSM for more details New addon Microsoft Account SSO New addon CAS SSO New addon Keyword Blocker send posts with certain keywords to mod queue New addon Necro Posts labels recentlyrevived discussions New addon User Points Booster allow awarding points for discussions or comments New addon Whitelist provide an IP whitelist for site access HTML emails now available Applicants list is now asynchronous with improved UI Spoilers added as core feature with updated formatting Automatic bans from Banning rules can now be reversed Reactions will now always show on all devices instead of onhover for larger screens desktop Sign In form now autofocuses on Username field Fix newest comment data for zerocomment discussions in table view Post excerpts as in search now have a minimum length of 32 even if a doublereturn is found first Remove line breaks in meta description Added events to support new analytics system Fix styling of me posts QnA Allow users to accept their own answer Reactions Add an option to allow users to react to their own posts Add advanced editor options to New Poll screen Fix plus signs in URLs especially usernames profiles Improve SSO workflow for existing usernames Rework discussion sorting and filtering architecture Add nostore header to profiles so readunread status updates on Back button Pockets fix repeating pockets between discussions and enable on table view Subcommunities Fix category dropdown filtering when in a subcommunity Hide editor toolbar when previewing Fix doubledeletion of comment drafts when posting which could cause a Javascript error Fix scenario where Quotes could interfere with Spoilers Vanillicons Now defaults to v2 NBBC Fix scenario that could break search results formatting Fix opaque photo cropping box Fix and unify logic for determining permission to edit a users photo Allow quotes to be collapsed in reported posts Allow collapsing of quotes with alternate formatting Make even deeplynested quotes minimally legible Update dropdown menu rendering in several places Update number formatting for discussion comment counts on All Categories page Update stock themes for Ideation Groups Allow anyone who can edit an event to also delete it January Restore nostore header to discussion category lists fixes read markers not updating on Back Improved formatting of Vanilla Comments in certain input formats Updated Smarty template parsing library Fix an issue in draft saving Fix spam deletion error Update Editor to use files real names when downloading Fix RSS feed when table view is in use Remove deprecated form field name prefixing Add more category data to VanillaPop emails Update gifv embed to prefer WebM Various lowlevel fixes for PHP 7 compatibility Fix CSRF check when deleting a ban Close open redirect fix flood control in database updating endpoint Improve security in how Vimeo is embedded Add Wistia embed Enforce POST data for several endpoints Improve theme compatibility with Groups Automatically remove spaces around Banning rules to prevent bad data being entered Improve image resizing to always use highest quality images possible Fix Facebook SSO retrieval of email address avatar distortion name overwriting Remove dashboard namespace from several dashboard URLs Fix several MySQL strict mode errors Remove livequery jQuery extension and all remaining uses of it Remove base64 encoding from all asynchronous requests Allow setting of avatar via API Allow category permissions to be set via API Allow certain configurations to be set depending on permission level Readd user count to the user list whenever possible based on size of table Give full formatting bar to Activity form"},{"title":"2017 Cloud Releases","tags":["Cloud","Releases","2017"],"url":"/help/releases/2017","content":" Release Notes Quarterly VIP releases contain all numbered releases within said quarter Sometimes bug fixes are backported to the current release meaning they show up in production earlier than the date noted Q2 release 6 Thursday June 29 Improve load time of Vanilla Statistics dashboard summaries TripleA theme Added missing icons for Reactions Dashboard Font tweaks for right panel Dashboard Fix inaccurate toggle position for embedding URLs in Posting Settings Dashboard Fix Badge Requests menu showing users in wrong section Dashboard Fix username disappearing from the dashboard user edit form on failed save Wysiwyg Fix doubly encoding code blocks Posting Fix alignment issues in BBCode Posting Fix magic Vanilla formatting in BBCode code tags Posting Fix embedding Twitch video Posting Fix plural vs singular translation for minimum post length error message Embed Fix forum scrolling position issues disable autoscroll Signatures Fix settings validation in Dashboard Signatures Fix translation of error message for images Role Titles Fix addon not loading when enabled Drafts Fix drafts being assigned to the Root category by default Civil Tongue Add filtering to activity notifications OAuth2 SSO Add support for refresh tokens QA Adding question link to accepted answer notification Zendesk Fix miscellaneous connection issues Editor Fix image URL prompt on posts being clipped on mobile Private messages Fix recipient being added a second time to the same conversation Users Replace deleted users mail placeholder to use invalid TLD Analytics Remove contributors from active users count to show an accurate participation rate Addons Show a notification if turning on one addon forcibly enables another addon as a dependency Addons Added icons for a number of addons that lacked one Polls Fix redirect when the spam filter is triggered Subcommunities Fix URL generation for discussions and comments for external use as in emails and breadcrumbs They were sometimes noncanonical Banning Fix ban rule counters which were incorrectly including admins and moderators in their count even though they were blocked from being banned Improve how redirects are handled in Vanilla to be safer and more consistent Q2 release 5 was skipped Q2 release 4 Wednesday May 24 Add Apple touch icon support as a core feature Add link to docs from Customize Theme page in Dashboard Fix minor translation issues in Advanced Search and Signatures addons Fix categories with custom permissions created with the API not having file uploads by default Fix toolbar staying hidden after previewing comment Fix multiple minor text parsing issues introduced by fixing the formatters in 2017Q22 Fix double spacing in Wysiwyg posts when embedding is allowed Add translations for leaving the forum warning Fix new post count not being displayed on Participated Discussions page Skip flood control checks for editing Fix Advanced Search autocomplete on sites in a subdirectory Fix nonASCII items not being added to menus we only allowed English word characters in some menus Fix a categorys latest post not being updated when moving or deleting a discussion Fix Spoof permission check on manual spoof page Fix redirect problem when toggling from mobile to full site and back Stop page from scrolling when selecting an avatar with Avatar Stock Allow admins to not set Remember Me by default over SSO Allow addons to declare a docs page and show a link to it on the Addons list Q2 release 3 was skipped Q2 release 2 Wednesday Apr 26 Multiple menus in the Dashboards Settings tab were renamed or reorganized Banner Branding Homepage Layout Advanced Posting Created Security menu group Regrouped several pages under different headings Tagging addon was removed Its features are now a part of our core offering No userfacing functionality was changed Removed our use of Googles CDN for jQuery and a Dashboard font Improved our ability to translate the word Vote in its various contexts noun vs verb Exempt moderators and admins from the new flood control checking on private messages Improve handling for mentions on usernames with underscores Improve our text parsing pipeline to be more consistent in the order we process elements mentions filtering etc for different formatters Markdown BBCode etc SAML Improve handling of Target parameter for redirects to follow the SAML spec Fix page title translations for Quotes and Online profile settings pages Fix category syncing issue in HubNode setups Fix an issue preventing the deletion of groups Fix the counter of items awaiting moderation to also include pending premorderation items Q2 release 1 was skipped Q1 release 6 Thursday Mar 30 This is the cutoff for the spring release for VIPs All Q1 changes below are included in it Customize Theme Create a CSSonly saving mode to avoid template overwrites whenever possible Reporting Use the ReactionsFlagAdd permission to know if we can report a post Categories Fix setting default category on a new discussion when categories are disabled Categories Fix issues with last post calculations that arose from recent optimizations Comments Prevent use of embedded comments if embedding is not enabled globally Profiles Fix user comment and discussion counts not being updated when posts restored Profiles Remove inline styles on upload picture button SSO Fix connections that trigger spam filters to be handled correctly on our side Subcommunities Ensure that cannonical URLs respect the default subcommunity Subcommunities Fixed interaction with Sitemap addon so that sitemap indexes are built correctly 1 per each subcommunity Mentions Fix possible HTML conflicts MeModule Fix arrow and alerts in settings dropdown Messages Fix Message toggle not removingadding message immediately Ideation Make ideas restore from queues correctly Formatting Stop adding targetblank to links by default Previously it was done inconsistently depending on formatter and other conditions We have an addon available if this is something you want to enforce Link Types Formatting Update htmLawed the HTML purifier library to 12 Formatting Add option to send users to Leaving page when clicking external links Avatar Pool Add option to name avatars Zendesk Update API endpoint usage This fixes several potential issues with the integration as the old API was deprecated VanillaPop Collapse newlines in comment emails Profile Extender Fix potential user duplication in CSV exports Warnings Add tooltip to the Warning link Disqus Remove redirecturi to comply with their new security rules This may mean some users do not return to exactly the page they started on after signing in Trusted Domains Add optionally explicit wildcard matching for subdomains Private Communities Make login error messages purposefully obscure to prevent sniffing of usernames There is a reasonable expectation of privacy when an entire community is set to Private mode that does not otherwise exist Advanced Stats Add deprecated warning in dashboard Our Analytics system replaced this old addon a while ago It will go away completely after June 1 Tagging Reworked as a core feature because other addons rely on it The addon now only toggles discussion tagging for users Themes Improve filtering of themes in the Dashboard to avoid showing unwanted themes Install Generate updated default discussions on a fresh forum We rewrote all our stub content and added more to help new forum owners Install Use utf8mb4 encoding by default native emojiready on a fresh forum Existing forums will not get this update at this time Framework Rework the event manager schema routing objects and added dependency injection for API v2 Framework Clear the addon cache automatically Framework Finish migration of all dependencies to Composer Framework Add missed translation on notFoundException Security Fix scenario where a seamless embedded SSO connection with jsConnect could be compromised Security Make multiple lowpriority enhancements identified via secure audits Q1 release 5 was skipped Q1 release 4 Wednesday Mar 1 Categories Add category filtering to settings page Categories Remove Track points separately from category options unless Reactions has been configured to support it Reactions Adds settings page to configure percategory point tracking Reporting Use permission ReactionsFlagAdd to allow restriction of reporting to certain users If you are not already using Reactions it will default to all users which was how it previously worked Dashboard Hide version number because it is not relevant and misleading to cloud customers Pockets Add easier enabledisable toggles Addons Improve error reporting for easier troubleshooting Categories Fix issue where child categories could be redundantly displayed in certain theme views 5195 Comments module Add discussion titles This module is not used on most forums PocketsCustomize Theme Fix errors in code editor Framework Remove OAuth 10 library from core Minor security fixes Minor means they were technically flaws but to our knowledge no useful exploit could be derived from them API architectural updates to facilitate upcoming v2 Q1 release 3 Thursday Feb 16 Roles Fix linked user count on roles page It was not correctly leading to a list of users filtered by that role Discussions Fix permission check in discussion count getting Settings Allow empty value for color picker in forms Logging Update category discussion and comment counts when restoring a record from logs Logging Display IP address on blocked registrations Profiles Fix issue where JSON is not rendered at API endpoint when ShowActivities is false Dashboard Hide images in the feed on dashboard homepage Dashboard Add datepicker dashboard homepage stats VanillaStats addon Comments Add a recent comments module It can be used with custom theming Users Improve password requirement message Users Validate password constraints on the reset password form Previously password requirements were only checked at registration Categories Modify how permissions are evaluated to allow more granular changes in the future Subcommunities Use canonical discussion and comment URLs on search and profiles Discussion Excerpt Add excerpts to discussion lists everywhere Badges Add badge request count to MeModule settings dropdown Badges Ignore users who already have badge when giving to a list of users QA Add translation for accepted answer activity Polls Tighten voting permissions to only those who can comment Groups Remove group association from discussions when moving them to another category so a permission issue is not triggered Groups Delete groups discussions and comments when a group is deleted Framework Improve how our thirdparty Markdown library is used unfork use Composer Framework Add EventManager ArrayContainer and other preliminary work for API v2 Framework Improve addon error reporting Q1 release 2 Tuesday Jan 31 Civil Tongue Censor discussion titles in Recent Discussions list Conversations Tighten maximum recipients allowed 5 for new users 50 for verified users and unlimited for moderators Dashboard Add settings and improve help text on the Avatars dashboard settings page Avatar Pool Settings are now on the Avatars page Online Fix issue where Online module could cache and display in the wrong language Editor Close editor dropdowns when the user clicks outside of a dropdown Editor Add spoiler and code styles to WYSIWYG preview Editor Mentions autocomplete now quotes all usernames that need it automatically Editor Fix Markdown list parsing that caused a minor styling glitch QA Fix pointawarding interactions with Reactions Accepting and declining answers could previously have unexpected results API Allow JSON access to profile when ProfileShowActivity is disabled Categories Add a CanDelete flag to categories prevents Social Group category deletion which breaks Groups Categories Fix issue where subcategories could be orphaned when their parent was deleted Categories Make the category deletion process clearer about what content will be removed and how Login Improve password requirements message Logs Add week day time and timezone to the moderation logs Logs Do not spamcheck owner account Addons Add Configured messages to addons media view to denote whether an addon was been fully configured on their settings page Addons Added icons for 3 addons Addons Fix issue where an addon incorrectly registering permissions could break other permissions Mobile Fix toolarge images in mobile theme settings page Analytics Hide the category dropdown where not relevant SAML Allow admins to create a data map for SAML responses Subcommunities Fix canonical URLs on discussion and category pages Maintenance Improve maintenance mode so it can be automatically used during future database updates Maintenance Moved media handling and tagging from addons into core Maintenance Moved several library dependencies out of core deleted 35000 lines of code Q1 release 1 Tuesday Jan 17 Categories Better sync modern category view to be the same as the table view This insures Display As settings are used consistently between different layout options Banning Prevent users visit information from being updated if banned This is an enhancement to banned behavior Logging Add logged events for failed logins password requests and password reset failures This is for advanced logging only Quotes Fix the Quote button not appearing in some cases This was a userfacing bug Themes Give themes ability to set their layout options in their about info This is for theme developers Drafts Fix Incorrect integer value error on draft save when no category selected This was a regression bug in drafts Search Fix search not returning results from categories with Hide from recent discussions selected JWT SSO Improve support and fix minor issues in some connections Reactions Fix inaccuracies in voting UI when user exceeds 1000 votes Facebook Add support for Facebooks state token during SSO This is a security enhancement Groups Add groups and events support to Keyword Blocker The plugin can now send these items to the Moderation Queue for approval Badges Fix issue where recently manually created badges could not be requested Ideation Make notifications clearer Dozens of lowlevel bug fixes"},{"title":"Release Notes (Cloud)","tags":["Cloud","Releases"],"url":"/help/releases/","content":" Cloud release schedule Our customers on VIP planshttpsvanillaforumscomplans receive a product update once per quarter with new features fixes and enhancements We coordinate these releases with our customers and provide custom QA or custom scheduling as required Customers with a success manager receive updates approximately every other week at a fixed time which is not preannounced Other plan levels and all staging sites may receive these updates on an adhoc basis Full release notes 2017 releasescloudreleases2017 2016 VIP releasescloudreleases2016 2017 VIP releases Spring 1112 April Summer 1112 July Fall 1718 October The first release of 2018 does not have a date set at this time"},{"title":"Adding and Editing Badges","tags":["Features","Addons","Badges"],"url":"/help/reputation/badges/adding-and-editing-badges","content":" cloudfeature Disabling badges To disable a badge and prevent it from displaying publicly click Yes in the badges row under the Active column That will toggle it to No indicating it is no longer active Inactive badges remain awarded to any users that received it previously You can reenable them by clicking No which will then toggle back to Yes indicating it is active again It is not currently possible to delete a badge entirely Editing a badge You can safely edit the Name Description andor Image of any badge without effecting its automated functionality These will be updated for any users who previously received the badge as well The Slug field is what shows in the URL for the badges page It is its unique identifier Changing a badges Slug will cause it to be disassociated with any automation assigned to it Therefore do not change the Slug of the Badges that come with Vanilla by default You may change the Points for a badge at any time Point changes are not retroactive for users who previously received it Creating your own badges Create a memorable Name for your badge and give it a Description that explains what it is for and how users can earn it This information will appear on the Badges page The Slug should consist of only lowercase letters numbers and hyphens The Slug must be unique for each badge Add a 200x200 PNG for the image All badges created in your Dashboard must be given manually Creating automated badges It is not currently possible to create your own automated badges thru the Dashboard To discuss custom possibilities for your community contact sales"},{"title":"Giving and Requesting Badges","tags":["Features","Addons","Badges"],"url":"/help/reputation/badges/giving-and-requesting-badges","content":" cloudfeature Giving a badge BadgesGive is the permission that defines who can give badges By default moderators and administrators have it To manually give a badge to one or more users click the Give button from the Badges list Type a username in the provided box You can give a badge to many users at once by typing all their names separated by commas From a users profile you may select Give Badge from their options menu to give that user a particular badge Revoking a badge To revoke a badge from one or more users contact support It is not currently possible to revoke the points assigned Requesting a badge BadgesRequest is the permission that defines who can request a badge Manuallyawarded badges will have a Request This Badge button on their view page Badges that are triggered automatically do not have this option Requests for badges are viewable in the Dashboard under Badge Requests There are options to Approve or Decline them individually or en masse Users with permission to Give badges will be able to see the Badge Requests page They will also have an option under Notification Preferences in their profile to be notified of new badge requests Addons that assign badges Reactions Gives badges for incremental levels of positive reactions received by a users content QA Gives badges for incremental levels of accepted answers as user has posted"},{"title":"Badges","tags":["Features","Addons"],"url":"/help/reputation/badges/","content":" cloudfeature Purpose Badges are designed to reinforce desirable behaviors on a forum They are not necessarily awards for the best or most of something but rather signs that point the way to positive participation in a community Default badges Vanillas Badges addon automatically creates a wide variety of badges Some relate to core forum functions like commenting and some are only triggered by using additional addons like Reactions Default badges are typically assigned to users automatically when certain conditions are met Badges list All badges are listed in the Dashboard under Badges This includes any badge ever created in your forum regardless of whether it is currently active or achievable Users badges A list of a users badges will display by default in the panel of their profile as a grid of badge images Badges awarded incrementally such as membership anniversaries will stack meaning only the highestincrement badge will show Viewing a badge Clicking a badges name in the badges list will take you to a public page describing the badge Users can get to this page by clicking the badge in their profile This page shows the most recent recipients of the badge"},{"title":"Adding and Editing Ranks","tags":["Features","Addons","Ranks"],"url":"/help/reputation/ranks/adding-and-editing-ranks","content":" Adding a Ranks Go to the Ranks page of the Dashboard and click the Add Rank button at the bottom of the list Editing a Rank On the Ranks page click the Edit button next to the Rank you wish to modify Rank information Name Label The name of the rank is how it is referred to Users will see it in the notification they receive when they attain the rank The label is what will appear next to the users name in discussions and comments after they attain the rank Body Message These only appear immediately after a user attains a rank The Body is emailed to the user The Message appears at the top of the page when the rank is triggered CSS Class The CSS Class is a feature for theme developers You can assign a valid CSS class to a rank and it will be applied to the wrapper around their discussion or comment This is useful for making certain ranked users content appear more prominently For example if you had an Expert rank maybe youd highlight their comments with a special background color Level Level is a number that determines the precedence of assigning ranks Ranks that are not manual will always attempt to give the user the rank with the highest level that they have met the criteria for If you create a manually assigned rank and do not want any automated ranks to overrule it make sure it has a higher level than all your automated rules Setting Criteria You can set thresholds for Points Posts comments discussions Duration of membership Permission level eg moderator or admin All thresholds you set must be met for the rank to be assigned For instance if you set Points to 50 and posts to 10 it means a member must have 50 points AND 10 posts to be assigned the rank Checking Assigned Manually means the criteria is ignored and the rank will only be assigned by a moderator or administrator editing the users profile and selecting the rank Manually Assigning a Rank Rank assignment is done via Edit Profile from the users profile Any users in a role with the permission to edit users will be able to assign a rank Abilities Each ability may be given the value of Grant Revoke or Default The default value represents what the user would be allowed to do if Ranks was disabled The grant and revoke options override their normal abilities Some abilities are effected by other addons Its important to understand your current Vanilla installation before changing the default values for abilities For instance in a default Vanilla installation users will not have a Title field Therefore Ranks default would be that no one has a Title However Profile Extender can be used to add a Title field which would give Titles to all users In that case Ranks default would be that everyone has a title"},{"title":"Applying Ranks over SSO","tags":["Features","Addons","Ranks"],"url":"/help/reputation/ranks/applying-ranks-over-sso","content":" Applying Ranks over SSO Create a new rank or edit an existing one checking Applied Manually You can now edit a users profile and select that Rank or apply it over SSO by adding a matching RankID or RankName parameter to the callback This only works if you have checked Applied Manually on the rank Also make sure that no automaticallytriggered Ranks have a higher level or they will override when triggered"},{"title":"Ranks","tags":["Features","Addons"],"url":"/help/reputation/ranks/","content":" What is a Rank A rank can be assigned to a user to grant or remove certain privileges on your forum A rank is not Roles Permissions which govern content access moderation abilities and administrator access A user can only have one rank at a time Typically the users rank is displayed on their discussions and comments just after their name If a user has a Title that is displayed separately after their Rank Ranks can be assigned automatically or manually You can configure automatic ranks to be given for total posts points how long theyve been a member andor a permission level Why use Ranks Ranks can solve a number of challenges forum owners face They can limit malicious practices publicly identify certain types of members reward users for participation or allow veteran members a greater deal of control on your forum Once you learn how Ranks work you will have a powerful tool for creating new functionality Default ranks Ranks comes with 7 default ranks There are Level 1 thru Level 5 Moderator and Administrator The order of the list matters In this case Administrator is the highest rank because it has the highest number for Level and is therefore last in the list Level 1 is the lowest rank"},{"title":"Using Ranks as Incentives","tags":["Features","Addons","Ranks"],"url":"/help/reputation/ranks/using-ranks-as-incentives","content":" Using Ranks Incentives You can use Ranks as an incentive for members to participate by rewarding them for more and better participation Example Case What follows is an example for abilities to grant to higher ranks It uses the default ranks Levels 15 and assumes the default Criteria of 50 100 500 and 1000 points for Level 2 thru 5 consecutively Gaining points on your site is done thru addons such as Badges and Reactions Users who gain the point levels of the default ranks have demonstrated their ability to positively contribute to your community Suggested abilities Levels 1 and 2 will remain as default or you can assign them abilities according the Using Ranks to Defeat Spam and Abuse document Level 3 set the follow abilities Title Give Location Give Me Actions Give Title and Location are fields that appear in every comment a user makes This allows them to display more information about themselves Me Actions are a fun ability to make speciallyformatted posts based on chatroom actions Add a comment that simple says me runs away minus the quotes to see it inaction as an administrator Level 4 set the same as Level 3 plus Signatures Give Discussion Comment Editing Authors may edit for 1 week Signatures are snippets of text or images that a user may add to their profile which will show after every comment they make You must have the Signatures addon enabled for this to work Discussion Comment Editing is something that makes forum use more enjoyable for members but has a high potential for abuse Therefore only more trusted members should have longer editing time windows Level 5 set the same as Level 3 and 4 plus Content Curation Give Discussion Comment Editing Authors may edit for 1 month Content Curation is an effect that interacts with the Reactions addon The ability to Curate gives the special reaction Promote if its available on your site which is 5 points and puts the post on the Best Of page It also means a Spam reaction from that user can move a post immediately to your Spam Queue for review by moderators Again we set a longer Discussion Comment Editing timeout for our mosttrusted and experienced users"},{"title":"Using Ranks to Defeat Spam or Abuse","tags":["Features","Addons","Ranks"],"url":"/help/reputation/ranks/using-ranks-to-defeat-spam-or-abuse","content":" Using Ranks Spam Ranks can be used to limit the ability of spammers to take advantage of your site and protect members from abuse To do this limit the abilities of your newest users until they have been proven their value to the community Who is this for This guide is for communities currently having spam problems that have already tried other automated filtering solutions like Akismet and Stop Forum Spam Because this solution inhibits new user actions which can have a detrimental effect it should be used as a response to issues not as preemptive prevention Setting up Ranks to inhibit spam and abuse What follows is a generalized recommendation for a large hightraffic site Please adjust the suggested values to match your needs and community Click Edit on your Level 1 rank If youve edited your default ranks already instead set a Rank to have level 1 or any level as long as it is the lowest level with no Criteria all fields should be blank Under Abilities set the following values Formatting Posts Text Verified Force Check Post Links Take Away Titles Take Away Locations Take Away Signatures Take Away Discussion Comment Editing Authors may never edit For your Level 2 rank set some low Criteria A good recommendation would be a Post total of 5 or 10 depending on the activity level of your site For this rank set Abilities Formatting Posts text links and YouTube Titles Take Away Locations Take Away Signatures Take Away Discussion Comment Editing Authors may never edit Finally for Levels 3 set a higher Criteria like 50 posts or points For this level and any higher you can leave default values or grant additional abilities with the Give option Setting up Ranks to prevent falsepositives on spam For your higher ranks set the Ability Verified to bypass This will prevent your trusted members content from being evaluated by the spam filter which means their content will never be put into the spam queue"},{"title":"Adding and Editing Reactions","tags":["Features","Addons","Reactions"],"url":"/help/reputation/reactions/adding-and-editing-reactions","content":" cloudfeature Selecting Reactions Vanilla comes with a wide range of reactions in your Dashboard of which a few are enabled by default You can toggle them on or off depending on what reactions are appropriate to your community To enable or disable a reaction on your forum click the ActiveInactive toggle next to each reaction in the Dashboard under Reactions Generally we recommend using one to four reactions Reacting should be simple and reflexive not a complex decision over which reaction to use The list of Reactions in the Dashboardimghelpaddonsreactionslistpng Reactions are universal to all categories on your site You can use CSS rules to hide certain reactions in certain categories but they cannot be officially disabled selectively Edit a Reaction To edit a reaction go to Reactions in the Dashboard and click the name of the Reaction you wish to edit Editing an existing reaction is the best way to tweak your list to fit the culture of your community We recommend selecting the default reaction that most closely matches your desired reaction and simply changing its name You can also change the Points field to modify how many points it give to the user receiving each reaction of that type The number of points assigned to the discussion or comment is not currently editable via the Dashboard Yes Reactions assigns points to users and content independently Doing this allows you to keep any automated badges associated with that reaction which you can then rename appropriately as well See the Badges Adding and Editing Badges to see how to do this safely Adding a Reaction To add a new reaction contact support or your sales representative Advanced Settings You can access Advanced Settings for Reactions via a link near the top of the Reactions page of the Dashboard The Advanced Settings pageimghelpaddonsreactionsadvancedpng Show Who Reacted to Posts changes how reaction tallies are displayed under comments The default is in a popup which requires hovering your mouse pointer over the reaction to see who reacted that way Use As avatars on small to mediumsized sites to show a row of avatars under each comment for who reacted Or select Dont show to hide it entirely Best of Style changes the layout of your Best Of page Reactions come with the option to order your comments based on reactions In general we do not recommend doing this"},{"title":"Curating with Reactions","tags":["Features","Addons","Reactions"],"url":"/help/reputation/reactions/curating-with-reactions","content":" cloudfeature Curating with Reactions Reactions can provide your community with powerful selfcuration tools Its very important to understand your community or the community you intend to build before selecting what reactions to use Any of the thresholds or increment values mentioned in this document can be modified via support Promoting content Promote is a special reaction Only users with the Curation permission or that ability via Ranks are able to use it It assigns five points to the discussion or comment The user that made the post receives the number of points indicated under that reaction in your Dashboard Discussions or comments with five or more points assigned to it will be added to the Best Of page and will get the promoted CSS class added to them These points can come from any type of reaction After content is added to the Best Of page it is never removed no matter what its future point total is The promoted CSS class is reevaluated as point totals change You can use this special class to style promoted content different like highlighting it with a special background color Burying content Discussions and comments that reach a score of 5 or lower will be buried Buried content appears collapsed by default and requires a user to click on the content before it can be read You can style buried content using the Buried CSS class Abuse and Spam Abuse and Spam reactions are available to all users when enabled but have special actions attached to them Five or more Abuse reactions will add the content to the Moderation Queue for moderator review Ten or more will remove it Five or more Spam reactions will move the content to the Spam Queue A user with the Curation permission counts as 5 of either of these reactions when they use it Using negative reactions The current default for negative reactions in new installations of Vanilla is for them to remove 1 point from the discussion or comment but to have no effect on the point total of the user who made the post This discourages abuse of negative reactions beyond simple voting scenarios There is always the potential for abuse when you open up avenues of selfcuration in a community In general we discourage the use of any negative reactions unless there are established guidelines for their use in your community"},{"title":"Reactions","tags":["Features","Addons"],"url":"/help/reputation/reactions/","content":" cloudfeature What are reactions Reactions are a 1click response to discussions and comments Using Reactions enables community members to indicate an emotional Awesome LOL or empirical Agree Vote Down response without typing a comment This introduces feedback that is otherwise missing from a community when members dont have anything to add to a discussion via a comment Reactions are available via an addon How does the Reactions addon work After each post a row of reactions will appear Members can click one and only one Reaction to each post This will add or subtract points to the post and the user as defined by that Reactions settings The post will show a running tally of how many of each Reaction it has received Clicking a different reaction will switch how you reacted Clicking the same reaction a second time will revoke it Reactions also creates a Best Of page in which content with the most positive reactions are collected Uses for Reactions Communities can use Reactions for a number of scenarios All reactions can be customized to meet your need Some benefits include Positive reinforcement for contributions Increased participation and interaction Memberpowered curation of content Enables skimming by highreaction comments Optional integration with Badges for gamification Reactions is a dynamic tool that encourage emergent behaviors and uses We consider it a feature that most communities will benefit from in some way"},{"title":"Roles & Permissions","tags":["Features","Roles","Permissions"],"url":"/help/roles-permissions/","content":" Overview Roles and Permissions are used in tandem to control what users can see and do in your community Upon account creation there are 6 default Roles in your Vanilla account Each of the default Roles have permissions that you would expect from the Role name Guest This is a special role that represents inactive sessions in Vanilla You can use this role to restrict what logged out users see when viewing your forum As Vanilla does not allow anonymous posting this role cannot be given other permissions Unconfirmed This Role is given to members who have registered but have not confirmed their email address yet Applicant Users who have applied for membership but have not yet been accepted They have the same permissions as guests Member Members can participate in discussions and access all end user functionality Moderator Moderators have permission to edit content and use the moderation features Administrator Administrators have permission to do everything including configuring the account and creating new Roles Making New Roles Its possible to edit the default Roles and to create new custom Roles Here are the permissions that can be given to a Role Garden Delete Activity Delete an activity from the Activity Page This permission should only be given to admins and mods View Activity This allows the user to view the activity on the Activity Page Advanced Notifications This permission should only be given to mods and admins in small communities This allows a notification to be sent when a new discussion or comment is posted in a specific category Community Manage Gives you access to banner category and reaction settings in the Dashboard if the role has View Settings but not Moderate Settings Manage Curation Gives the Promote Reaction The Promote reactions gives 5 points to the promoted content and displays it on the Best of Page View Email Allows users to receive notifications via email This does not reveal email addresses of other users to the role Manage Moderation Gives access to moderation functionality such as the moderation and SPAM queue Allow No Ads Hides Pockets labeled as ads View Personal Info Allows viewing of personal info such as email and IP address on the profile page Edit Profiles Allows editing of the users own profile Does not grant the permissions to edit others View Profiles Allows viewing other members profile page View Settings Permission to view account settings in the Dashboard Required for Community Manage and for Manage Moderation to have access to dashboard functionality Manage Settings Grants full access to all functionality in the dashboard This is an Admin only permission Sign In The permission to log in Can be used to temporarily prevent a group of users from logging in Staff For Certain integrations like Zendesk this allows for staff to access to plugin functionality without gaining forum moderation tools Add Users Grants ability to manually create users on the user page of the dashboard Approve Users Grants ability to accept users if using the approval registration method Delete Users Grants Ability to delete members from the User page in the dashboard Edit Users Allows for the editing of other users profiles Vanilla Require Approval if this permission is set unverified members posts will have to be approved before they appear also known as premoderation Me Comments Allows user to post a me action Warning me actions can break your custom theme Conversations Add Conversations Allows for new private conversations to be added Removing this from members will still allow them to receive messages from mods and admins Manage Conversations Admins or mods can view and manage private messages between members This permission also requires a config setting change that must be requested through support Plugins Allow Attachments Upload Permission to upload files when Advanced Editor or File Upload is in use Manage Pockets Grants access to the Pockets plugin if enabled Polls Permission to create a poll type discussion when the Polls plugin is enabled Edit Signatures Permission to create and edit a signature when the Signatures plugin is enabled Tagging Permission to add tags to a discussion when Tags plugin is enabled Reputation Give Badges Grants ability to manually award badges from a users profile page Manage Badges Allows for the creation and management of badges in the dashboard Request Badges Allows users to request a badge from a particular badges page It will send a request to reputationbadgerequests for admins to approve View Badges Ability to see badges on profiles Groups Add Group Grants the ability to make new groups Moderate Group Grants the ability to moderate groups even if not a group member Email Add Comments When using VanillaPop grants ability to comment by email Add Conversations When using VanillaPop grants ability to add private messages by email Add Discussions When using VanillaPop Grants Ability to add Discussions by email Reactions Add Flag Allows use of the Spam or Abuse Reactions which have the ability to accumulate to hide posts for review Add Negative Allows use of Dislike Downvote Off Topic and WTF Reactions Negative Reactions are inactive by default Add Positive Allows use of positive Reactions"},{"title":"Private Community","tags":["Features","Addons"],"url":"/help/roles-permissions/private-community/","content":" Making your Community Private If you set your community to private only registered members will be able to view and post If a user that is not logged in browses to the community they will see a login page To make your community private Go to the Addons page in the Dashboard Turn on the Private Community addon Click on the addon settings this will take you to the Roles and Permission page Turn on Enable Private Communities Additional Resources Video Creating a Private Community ForumhttpswwwyoutubecomwatchvHO31CS6gDDs"},{"title":"SEO","tags":["SEO"],"url":"/help/seo/","content":" Search Engine Optimizations Vanilla subscribes to common sense vetted principles for improving the findability of your site and its content We employ no tricks because we believe they ultimately hurt your traffic and reputation Curation Having a team dedicated to the curation of your forum is critical to its success Concisely edited discussion titles clearlyexpressed first posts and moving discussions to their mostappropriate category are highly effective search engine optimization techniques If its good for your readers and users its good for SEO Vanilla has firstclass curation features to accomplish this Nothing else on this list is as important or as powerful as curating your forum Domains We recommend putting your community on a subdomain of your primary site If you use Google Webmaster Tools you can explicitly optin the subdomain to identify it as part of the main site but this is completely optional There is no demonstrable additional SEO value from using a subfolder path approach instead of a subdomain eg putting your forum at examplecomcommunity instead of communityexamplecom Modern web architecture is dependent on sites combining many services in many physical locations Subdomains are the correct and bestrecognized way of accomplishing this Links The primary content engine of your forum is the discussion and every discussion has a unique identifier number in the URL in addition to a slug that represents the title Our parsing system only cares about the number so changing the title of your discussions will not effect links working It will however update the URL to improve the visibility of your content and its keyword density Category pages only use the slug URLencoded name in their URLs so choose their names carefully and avoid changing them Categories we view as keywordcentric landing pages moreso than specific content due to the fact that they change constantly as discussions are added We employ canonical links for both discussions and categories We do not put the category slug into discussion URLs See Antipatterns below Markup We use modern semantic HTML5 markup in all our products This makes it easy not only for large search engines to parse the content but also myriad other web services you may wish to expose your content to We support Open Graph and Twitter card tags natively Migrations Maintaining your existing usergenerated content is the most important thing you can do when moving to Vanilla Our cloud platform has a highly trained professional migration team to make sure you keep your existing content and that it is properly redirected Your team plays an important part in making this process successful Its natural to experience a dip in search engine traffic in the months after a migration but in our wide experience this traffic not only always recovers but exceeds previous levels thanks to Vanillas superior system Optin features Sitemaps robotstxt We provide an optional open source addon named Sitemaps to all cloud customers It adds two classic SEO features an XML site map and a robotstxt file Sitemap httpexamplecomsitemapindexxml Useragent Disallow entry Disallow messages Disallow profilecomments Disallow profilediscussions Disallow search While we are happy to provide these features to those who desire them we do not believe they provide any discernible benefit As a popular forum software platform used by tens of thousands of sites Vanilla is easily recognizable to search engines and they need no coaching to properly index your site This is why we do not provide these two features as part of our core product Tagging User content tagging is available in Vanilla via the open source Tagging addon Its primary benefit is making it easier to find content by particular topics across categories It may have minor search engine benefits but it is also a doubleedged sword it can be a highmaintenance to make sure users are properly tagging content and not abusing the system Thats why we provide this as an optin feature Antipatterns Not all SEO requests are benign Lets talk about things that can actively damage the findability usability and reputation of your site Custom meta tags Adding special meta tags to juice your SEO ranking is a dangerous game Search engines will severely penalize sites for attempting to mislead them and there is no evidence they help in the first place We do not and will not support this Taxonomy in the URL Including your tagging or category structure in URLs makes them highly susceptible to breaking Moderators should be free to curate your content including its taxonomy If doing so shifts the URL this is very detrimental to the findability of your content High load times Themeing your site to be graphicsheavy or include complex elements like rotating sliders and cumbersome animations is bad for your SEO Users want every page to load in a second or less Search engines know this and penalize slow sites We recommend testing your sites load time with caching disabled on bandwidthconstrained devices Embedding your site Embedding your forum in another page necessarily doubles your page load the parent page the forum page This increases load times and frequently creates a worse user experience It can also make it more difficult for users to bookmark pages and makes those links more likely to break in the future Vanilla provides embedding for ease of application to sites with limited resources We do not recommend it for largescale community endeavors"},{"title":"Single Sign-On (SSO)","tags":["Features","Single Sign-On"],"url":"/help/sso/","content":" Single SignOn overview Single signon SSO is how to let your users sign on to a thirdparty system like a Vanilla Forum without needing a separate username and password In broad terms an SSO solution defines how two systems securely communicate the identity of a user that is switching between them In the context of Vanilla that means the forum securely talking to your site or identity provider to see if a user is signed in and then automatically using that identity Solutions we offer Vanilla offers three flavors of single signon SAMLhelpssosaml cloudonly OAuth 2helpssooauth jsConnecthelpssojsconnect our inhouse solution We also offer Social SSO Twitter Facebook and more Thirdparty service integration eg Auth0 cloudonly Custom SSO integrations cloudonly All flavors and types of SSO follow general rules in Vanilla many of which are outlined below General principles Regardless of your type of SSO these principles apply to how Vanilla handles it We recommend against creating new users over the API The faulttolerant way to map users to your forum is to always let them be asynchronously created as they login We only connect to existing accounts by matching email address No exceptions Automatic account connection must be opted into for security reasons Once a connection is made to an account the connection is remembered forever Future email address changes are irrelevant Omitting the parameter for username often name will send the user to an interstitial page that prompts them to create one Logging users out We recommend using the default logout approach which is generally accomplished by 1 Setting a default connection and 2 including in its config your sites signout URL After a user clicks Sign Out on Vanilla we will redirect them to your page If someone signs out on your side we recommend doing the opposite send them thru our signout page You can redirect them afterward by including a Target paramenter indicating the URL you wish them to land on afterward This is an imperfect strategy but it does general accomplish its goal and is the most simple and effective approach The only other way to log a user out of Vanilla is this Your forum must be on a subdomain of the domain your main site resides on Modify your cookie domain to be domaincom Cloud customers must contact support to do this You can now manually delete a users forum cookies from your site Create a redirect from entrysignout in Vanilla to your signout page instead Cloud customers must contact support to do this Directly manipulating cookies requires technical expertise and may result in additional troubleshooting being required from your team in some situations We strongly recommend using the redirect method unless you have developers dedicated to your project"},{"title":"Embedded","tags":["Features","Single Sign-On","jsConnect"],"url":"/help/sso/jsconnect/embed","content":" Embedding with Seamless jsConnect Part 1 of this documentation told you how to set up jsConnect SSO for sitewide SSO However if you have Vanilla embedded in a page youll notice that the SSO doesnt automatically sign you in even if users are signed in to the containing page In order to make the sign in seamless you need to add some SSO information to your embed code First well address another important issue Mobile Safari Attempting embedded SSO across two domains will not work in this browser and therefore on all Apple devices To solve this your forum must be hosted on a subdomain of your main site For example if your site is urlcom you could put your forum on forumurlcom and then embed it from there This sidesteps Mobile Safaris issue and potentially increases your search engine value as well Our clients can change their forum to a subdomain of their site by going to Customize Domain in their Dashboard and following the instructions there Now on to revising your embed code with some additional SSO information Vanilla Embed Code Consider the embed code for Vanilla comments ltscript typetextjavascriptgt Required Settings Edit BEFORE pasting into your web page var vanillaforumurl httpyoururlcom The full http url amp path to your vanilla forum var vanillaidentifier yourcontentidentifier Your unique identifier for the content being commented on var vanillasso SSO STRING Your SSO string DONT EDIT BELOW THIS LINE function var vanilla documentcreateElementscript vanillatype textjavascript var timestamp new DategetTime vanillasrc vanillaforumurl jsembedjs documentgetElementsByTagNamehead0 documentgetElementsByTagNamebody0appendChildvanilla ltscriptgt If you declare vanillasso and give it the proper value then Vanilla will be able to sign in your user Here is what you need to do to generate your SSO string Start with the signed in user This has the same fields as the user from the sitewide sso Add your clientid to the user so Vanilla will know how to identify you JSON encode the user Base64 encode the user in UTF8 This is your signature string Sign the signature string with your signature and the current timestamp using HMAC SHA1 Confirm the signature string is hex encoded signature hmacsha1signaturestring timestamp secret Build your final sso string vanillasso signaturestring signature timestamp hmacsha1 Thats it The value of vanillasso from above is what you put in your embed code Since this needs to be dynamically generated by your site you cant use SSO on a static page Gotchas The above example is for blog comments For a full forum embed use the code provided under Forum Embed in the Dashboard Even though your signature string is base64 encoded make sure the actual signature is hex encoded The correct string will be 40 characters consisting of the numbers 09 and af The timestamp is a unix timestamp That means it will be an integer and represents the number of seconds since 1 January 1970 Most languages have a way of getting this timestamp nbsp"},{"title":"jsConnect","tags":["Features","Single Sign-On","jsConnect"],"url":"/help/sso/jsconnect/","content":" Why jsConnect SSO systems are complex Setting up your own SAML or OAuth system takes a lot of time and generally is not feasible for smalltomedium business owners If you have a website that stores your users identity and the only thing you need to integrate is a forum jsConnect is a far simpler solution This is because weve abstracted most of the work to our side of the connection and provide sample code for making your side However even our easier solution does require a developer on your team A developer can typically set up the client side of jsConnect in 26 hours using our technical documentationhelpssojsconnectoverview The only exception is WordPress users for which weve developed a readytogo SSO pluginhttpswordpressorgpluginsvanillaforums Ready to learn more about jsConnect Read on jsConnect Concepts Overview Our SSO solution has a few basic assumptions Your user is signed into a website You control this website and can add files pages to it The integration will be a lot easier and tighter if You have unique validated usernames for users You have confirmed unique email addresses for users Creating mapping users Data that can currently be passed over SSO with jsConnect Unique ID from your system required Email required Username recommended Photo URL Roles Vanillas permissions management groups When receiving an SSO response Vanilla will do a lookup by email address against the forum database If it finds a match and the user connects a permanent mapping is made against the unique ID your provided This means future email changes on your side do not effect the login process If no email match is found a new forum account will be created instantly using the provided data If no username is provided the user will be prompted to create one Data is synced at every new login For instance providing a different email address on the users fifth login will still log them into the same account but will update their Vanilla email address The Photo URL is accepted only if the user has not uploaded their own avatar in the forum yet and it is a valid URL Imported avatars if you migrated to Vanilla from another platform count as the user having uploaded their own avatar We strongly recommend against creating new users via the API Our SSO solution lazycreates new users for maximum robustness and reliability Once a new user is created you can optionally sync additional data about the user over API as needed Unified user experience In Vanilla these optional configuration changes are possible Autoconnect to existing forum user accounts without prompting for a password ie your SSO source is 100 trusted Disable all email sending in Vanilla Disable profile editing Redirect user profile links to another system Cloud users can contact support to make these changes How it connects Clicking the Sign In button in Vanilla generates an asynchronous request in the users browser session back to the main website This means the users cookies are sent as if they had visited the page directly and that your normal login detection logic will work imghelpfeaturesssojsconnectoverviewpng Two Flavors of SSO There are two implementations of SSO that jsConnect supports You can implement either of the methods or both as they serve different purposes Method 1 SiteWide SSO You implement sitewide SSO when Vanilla is as a full site With this method you need to create a page that provides your login information in jsonp format Method 2 Embedded SSO Vanilla also has the ability to be embedded in an html page either as an entire site or just as embedded comments With this scenario you need to create a special SSO string that can be passed to the embedded Vanilla and provide login information Make it seamless When setting up a jsConnect connection in fullsite mode you have the option to specify it as default Doing this attaches it to the special sso endpoint in Vanilla When a user clicks Forum in your websites navigation instead of linking to the forum homepage instead link them to the sso page This will autofire the asynchronous call back to your website rather than waiting for the user to click sign in then drops them on the homepage as normal For more information read our technical overviewhelpssojsconnectoverview WordPress plugin If your site is using WordPress then we make a plugin that allows you to use SSO with your WordPress site It also helps you set up an embedded forum and embedded comments on your site Get the plugin"},{"title":"Technical Overview","tags":["Features","Single Sign-On","jsConnect"],"url":"/help/sso/jsconnect/overview","content":" jsConnect For jsConnect to work youll put some code on your site that identifies your users in a way that Vanilla can understand Vanilla then requests this information when the user wants to sign in and synchronizes the user with Vanilla This is done via JSONPhttpenwikipediaorgwikiJSONP which allows us to send your cookies from your site to you and obtain login information Vanillas webbased single sign on SSO has 2 parts 1 Your SSO endpoint based on one of our example libraries on your site 2 Vanillas jsConnect plugin jsConnect pings your endpoint whenever it wants to know if a user is logged in on your site It does this using the users current session so you can use your normal is logged in detection to determine this nothing fancy here Your endpoint Your endpoint needs to say 1 of 3 things when its called 1 The current user is a guest not logged in 2 User is logged in here but this wasnt a secure request no signature timestamp so heres their name photo only 3 User is logged in AND this was securely requested so heres all the user data including email and a unique ID from your system which are required Our example libraries help you structure the output so that jsConnect can read it correctly If we provide a client library that you can use then we highly recommend using it These libraries are open source and maintained on Github PHP jsConnect client libraryhttpsgithubcomvanillaforumsjsConnectPHP Ruby jsConnect client libraryhttpsgithubcomvanillaforumsjsConnectRuby Java jsConnect client libraryhttpsgithubcomvanillaforumsjsConnectJava NET jsConnect client libraryhttpsgithubcomvanillaforumsjsConnectdotNet All of these libraries have one file with all of the library code youll need and one file that gives an example usage They also have a readme that tells you which file is which Please note that these libraries dont support embedded SSOhelpfeaturesssojsconnectembed If your site is programmed in a language that doesnt have a client library then we provide documentation on our jsConnect protocol Have a look at the jsConnect technical implementationhelpssojsconnectseamless How jsConnect maps users After calling your endpoint and getting a signed in reply jsConnect looks up the user If theyve already used SSO weve permanently mapped their unique ID to our UserID so we sign them into that account If they havent used SSO before 1 of 3 things happens 1 If the email for the user has never been used on the forum it makes them a new account using the data passed and signs them into it 2 If the email is in use and AutoConnect is enabled we will immediately sign them in and permanently store the mapping 3 If the email is in use and AutoConnect is NOT enabled we will prompt the user for their forum password to confirm their identity This is the default setting because it is safer to assume you havent verified their email address Vanilla Cloud customers should request Support enable AutoConnect if they desire it That is an important component of a seamless experience Tightening the integration To get very tight SSO integration you will also want to follow these steps Always carefully test your basic SSO authentication before tightening your integration 1 Change your registration method to Connect to block nonSSO users from registering 2 Set your signin signout and registration URLs under jsConnects settings in your Dashboard 3 Check Make this connection your default signin method 4 When linking or redirecting signedin users to your forum use the sso endpoint on the forum This triggers jsConnects user lookup on the connection with default sign in method selected without the user needing to click Optionally you can provide a Target parameter with a relative path to specify where they should ultimately land on the forum Example httpforumyoursitecomssoTargetcategories This is the final critical step in a fully seamless experience 5 For seamless SSO on an embedded forum see our embedded SSO solutionhttpblogvanillaforumscomjsconnecttechnicaldocumentationforembeddedsso If no jsConnect connection is designated as the Default you cannot use the sso endpoint Instead use expanded endpoint that specifies the client ID of the connection you wish to trigger entryjsconnectclientidvalueinsettings This setup is useful in situations where you are using jsConnect in addition to normal logins or alternate SSO solutions rather than as the sole connector Testing the integration Use the Test URL link under your jsConnect settings to see if your endpoint is returning a good response Try using your browsers IncognitePrivate window mode for testing This allows you to have a separate test session while you stay logged in as the administrator in your main session to make changes quickly Common questions What do we do if SSO breaks and were locked out You can log back in using the hidden URL entrypassword to signin with an existing forum account This page is never redirected for SSO Cant we just add users over the API We strongly recommend against adding users over the API Using jsConnect and allowing it to add users as they signin is the most robust and reliable approach that will cause you the fewest issues Can we use multiple SSO connections Absolutely However only one can be the default which is what will trigger when sso is used How do we have seamless signin for users who go directly to the forum If youve followed all the steps above the only way a user can be not signed into the forum while signed into your main site is if they sign into your site separately and then manually visit the forum by typing in the address manually or clicking a browser bookmark In this scenario they would need to click a prompt to finish forum signin How is signout handled We bounce them to your signin page after they signout on the forum To do the opposite redirect users thru our signout page again passing a Target parameter so they finish where you want them to Does this work for native applications nonweb scenarios or thirdparty products No jsConnect is purely a webbased SSO workflow for your existing login system We have separate products for popular thirdparty platforms and nonweb scenarios Can we reverseSSO to Vanilla via API to see if a user is logged in there Not at this time Can we use jsConnect without providing an email address No You absolutely must send an email which is the only method for mapping users If you are importing forum users without email addresses and need a way to map them over SSO we recommend using dummy email addresses that follow a formula like uniqueIDyoursitecom Our system has overlapping names but Vanilla needs unique ones How can we handle this We strongly recommend assigning them unique usernames in your system then passing that unique username to jsConnect Keep in mind that for features like mentions and autocomplete to work usernames must be unique and adhere to Vanillas username restrictions Passing a duplicate Name field for a new user over jsConnect will cause the connection to fail Can we set roles over jsConnect Yes see our technical documentationhelpfeaturesssojsconnectseamless for more information The settings endpoint response look correct now but its still not working or redirecting properly Try clearing your cookies and browser cache and restarting your browser Use IncognitoPrivate mode whenever possible Also beware of Firefox caching redirects when in doubt doublecheck a redirect using another browser Repeatedly attempting SSO with many sessions and accounts with changing settings can cause unexpected results This isnt a problem users would ever run into daytoday"},{"title":"Seamless Setup","tags":["Features","Single Sign-On","jsConnect"],"url":"/help/sso/jsconnect/seamless","content":" Seamless SSO with jsConnect jsConnect uses javascript to allow crossdomain singlesignon with another site We provide several client libraries to help you implement jsConnect on your site If your site has been programmed in a language that doesnt have a client library than this is documentation is for you Please note that this is technical documentation and requires knowledge programming to understand Functions Youll Need jsConnect makes use of some functions that are available in most modern programming languages You might want to do a bit of research to see if your language supports these functions because they are quite difficult to implement yourself Weve tried to make the functions a generic as possible but theyll most likely be called something different in our language A little googling should help you find what you need timestamp Return the current unix timestamp Note that your server has to have its time reasonably in synch with Vanillas server JSON encode Encode an objectassociative array in the JSON ex name Joe email joenoreplycom query string encode Encode an objectassociative array like a query string in RFC1738 ex nameJoeampemailjoe40noreplycom MD5 SHA1 SHA256 Create a hash of a string We strongly recommend SHA256 We also have an SSO module for automatically signing in to an embedded forum If you are for sure going to just embed Vanilla then you might want to try this first base64 encode Encode a string in base64 notation hmac Call the HMACSHA256 hashing algorithm on a string and a secret key Concepts JSONP JSONP is a technology that browsers can use to get around the sameorigin limitation of browsers and make crossdomain requests Vanilla uses JSONP to transmit some of its SSO information When you program a jsonp page it must follow a specific format To best illustrate this lets use an example Lets say I want to request a jsonp response from the getnamejson page What Id do is make a request to that page with a querystring parameter called callback like this getnamejsoncallbackdisplayname Now if Im programming getnamejson its my job to display my response in jsonp format which would look something like this displaynamename Todd Youll notice a couple of things here I passed a callback parameter to the page The value of the parameter is used as the name of a function Im calling in the response The function is passed an argument encoded in json Whatever I want to pass to the other site must be json encoded like this Important When writing a page that returns jsonp you must ALWAYS return valid javascript If you return HTML or something else then the page wont work This is something that a lot of people get wrong Client ID and Secret In order to secure your singlesignon connection you must share a client ID and secret between your site and Vanilla Your client ID is used to identify your site and is public Your secret is like a sitepassword and must be kept secret Do not share your secret with anyone When setting up jsConnect in Vanillas dashboard there is a button to generate a client ID and secret You can use this button or create your own You can use a more freindly name for your client ID but stick to numbers and letter We recommend using a secret that is generated by Vanilla Signing a Request If youve done any single signon or authentication work youve probably run into the concept of signing a request Basically you sign a request with your shared secret so that both sites know that the request came from a legitimate source When you transmit user information you want to also sign that information so that I know it came from your site and not someone else trying to hack into Vanilla jsConnect uses signatures to secure its requests To sign a request you use a hash function such as MD5 SHA1 or SHA256 You can select a variety of hash functions but we recommend using SHA256 because it is more secure and widely available We recommend getting jsConnect working without signatures first and then securing them In Vanilla you can put your jsConnect connection in test mode and it wont check for a signature Just make sure you dont go live without signing your requests SiteWide SSO For sitewide SSO youll need to make a page on your site that provides authentication information We call this your authentication page You can call it whatever you want but for the purposes of this documentation well call it authenticatejson Request GET authenticatejsonparameters Parameters clientid REQUIRED Your shared client ID that youve configured in Vanillas dashboard callback REQUIRED The name of the callback function timestamp OPTIONAL For secure requests Vanilla will send you the timestamp of its request If you are checking security then you want make sure that the timestamp isnt too old We recommend a timeframe of 530 minutes signature OPTIONAL For secure requests Vanilla will sign the timestamp parameter Response There are four valid responses you can return depending on the request and whether or not the user is signed in No User Response The user is not signed in to your site callbackname photourl Notes Even if there is no user signed in you still must return a valid jsonp response So in this case we just return an empty user User Stub Response The user is signed in to your site but the request hasnt been signed callback name John Doe photourl httpnositecomjohndoepng Notes Vanilla sends an unsigned request to your page just to provide a picture and photo to the user as a notice that they are signed on to your site User Response The user is signed in to your site and the request is signed or you are testing callback uniqueid 1234 REQUIRED The ID that uniquely identifies the user on your site name John Doe REQUIRED The name of the user on your site email johndoenoreplycom REQUIRED The users email address photourl httpnositecomjohndoepng OPTIONAL A photo for the user roles memberadministrator OPTIONAL You can configure jsConnect to synchronize roles clientid 123456789 REQUIRED Your client ID signature cdb398fdab244999d8ba301eb6334298 REQUIRED The signature of this response Notes This response is the heart of jsConnect It tells Vanilla about the user signed in to your system so that Vanilla can sign the user into Vanilla too There are a few important points about this response uniqueid name clientid and signature are required Make sure you provide us with these values in your response and make sure they have values The uniqueid field must never change for a given user Your site usually has some sort of integer or guid that uniquely identifies a user Use this The signature is used to secure the response and is very important but can be left out if you are just testing How to sign the response is explained below Error Response Some error has occurred error response callback error invalidclient REQUIRED A string identifier for the error message Client ID does not match REQUIRED A userreadable error message Notes You usually return an error response if a request has invalid security information However you can also return an error response if your application encounters an unknown error on its own Other Notes on your Response Make sure you return an HTTP 200 response ie no error codes You can set the ContentType to applicationjavascript if you wish but its not necessary Securing SiteWide SSO You can get your jsConnect page working without worrying about security but in order for your SSO to be secure you have to a check the request to make sure it is secure and b sign your response so that Vanilla can make sure its secure Checking the Request for Security In order to make sure the request from Vanilla is legitimate you must first check the request You do this on your authentication page before displaying your response If the request doesnt check out you need to display an error response with some information on what might have gone wrong Here are the things you should check Make sure the request provides a clientid error invalidrequest message The clientid parameter is missing Make sure clientid matches the client ID youve set up on your site error invalidclient message Unknown client See if a timestamp was provided If no timestamp was provided return the no user response or the user stub response If a timestamp was provided you need to make sure it checks out Make sure the timestamp isnt at most 530 minutes in the past or future error invalidrequest message The timestamp is invalid Make sure the request has a signature error invalidrequest message Missing signature parameter Make sure the signature is valid To check the signature you must do the following if hashconcattimestamp secret signature valid else invalid Basically you concatenate your secret to the end of the timestamp and call your hash function If your calculated signature matches the signature passed to the request then the request is valid error accessdenied message Signature invalid If youve checked all of the above conditions and havent encountered any errors then the request is valid and you can display the appropriate response First you need to sign it though Signing your Response for Security Once youve checked the request for security you need to sign your response so that Vanilla can check security on its end To show you how to do this consider the following users sso information and the following client ID and secret user uniqueid 1234 name John Doe email johndoenoreplycom photourl httpnositecomjohndoepng clientid 123456789 secret 985d2f9eb57a8b55db3c04c20272bce9308764b0 dont give this out Here is how you sign the user with the secret Sort the user by keys usersorted emailjohndoenoreplycom nameJohn Doe photourlhttpnositecomjohndoepng uniqueid1234 Url encode the sorted user with RFC1738 a fancy way of saying make it a query string This gives you your signature string signaturestring emailjohndoe40noreplycomampnameJohnDoeampphotourlhttp3A2F2Fnositecom2Fjohndoepngampuniqueid1234 Concatenate the signature with your secret and call your hash function around everything signature sha256concatsignaturestring secret Now you want to add both your clientid and your signature back into the user user uniqueid 1234 name John Doe email johndoenoreplycom photourl httpnositecomjohndoepng clientid 123456789 signature 3c982c0b50bc06deb0b9df2a9a0770b6f88b3749 Now that you have your signed response you can display it as jsonp Youre done Troubleshooting Make sure you dont add your clientid or signature to your sso user until the last step If your usernames are going to use nonascii characters such as accents then make sure your page is encoded using utf8 and that you have an appropriate ContentType header Try and make sure your system doesnt have any spaces at the beginning or end of usernames or email addresses You wont be able to see the spaces but they usually arent allowed in usernames and will mean the user isnt allowed to register with Vanilla Whats Next At this point you should have a valid jsConnect authentication page and Vanilla will be able to recognize your users You just need to set up the connection in Vanilla and youre good to go If you want to implement embedded SSO then head over to part 2 of this documentation to see how"},{"title":"OAuth","tags":["Features","Single Sign-On","OAuth"],"url":"/help/sso/oauth/","content":" SSO with OAuth Overview Vanilla currently provides OAuth2 integrations with these thirdparty services as readytogo addons Facebook Twitter LinkedIn Google Because OAuth 20 is an SSO framework and not a narrowly defined protocol see OAuth 20 Spechttpstoolsietforghtmlrfc6749 custom services work is typically required to set up an OAuth solution for your forum In an attempt to minimize the amount of custom services required to create SSO integrations Vanilla has created a base class that can easily be extended by custom plugins This base class might look like many of our plugins containing event handlers etc it is not intended to be executed directly To take advantage of this class either create a plug in to extend its features or use the OAuth2 plugin OAuth2 Plugin Overview Vanilla has created an OAuth2 plugin that for most usecases can provide a plugandplay SSO solution OAuth2 accounts are mapped to existing forum accounts by email address or a new account is created if no match is found Features The OAuth2 Plugin attempts to parameterize as many aspects of the functionality as possible A settings form in the dashboard allows you to set The client id The client secret The full path to the authorization URI registration URI sign out URI token endpoint and profile endpoint The scope The exepected keys in the JSON response in the profile request Possible Pitfalls A number of things can go wrong when trying to implement SSO with this plugin Double check that all the parameters outlined in the Assumptions section above are met Your forum must be accessed over https and must contact your Authorization Server in the same way Your Authorization Server will usually need to whitelist the redirect URI ie httpsThe url of the forumentryoauth2"},{"title":"SAML Connection explained","tags":["Features","Single Sign-On","SAML"],"url":"/help/sso/saml/connection-explained","content":" Creating a new SAML connection When creating a new SAML connection you will need to fill the following fields Connection ID This field is the new of your connexion and is used to distinguish it from other potential SSO connexion Entity ID The name of your SAML entity It can be anything but is often the URL of your site Site Name A short name for the site This is displayed on the SSO Sign In button Sign In URL Sign In URL that users will be redirected to Sign Out URL Sign Out URL that users will be redirected to Registration URL URL that users will be redirected to create a new account IDP Certificate Certificate of your provider Identifier Format Found under the name NameIDFormat Looks like this urnoasisnamestcSAML20nameidformatunspecified Getting your metadata Once the connection is created you will be able to get the Metadata for that particular connection Example xml Identifier Format "},{"title":"SAML","tags":["Features","Single Sign-On","SAML"],"url":"/help/sso/saml/","content":" SSO with SAML Overview Vanilla has implemented the parts of the SAML 20 spec required for SSO This is done by enabling the SAML SSO addon and configuring it via its Settings page Dashboard Addons SAML SSO Settings button SAML accounts are mapped to existing forum accounts by email address or a new account is created if no match is found Vanillas SAML mapping is as follows the right value is the SAML key UniqueID id Name uid Email mail Photo photo Optional Roles roles Optional UniqueID is whatever youre using to absolutely uniquely identify the user on your side that will never change Name is the username We recommend keeping it within the normal rules alphanumerics and underscores only 50character limit must be unique but we do not validate its formatting on our side over SSO because we dont want to fail a login It would just make mentions impossible to use if it had spaces or special characters in it However in the case where theres a duplicate name or none provided it will send the user to a Connect page to provide a valid unique username which will then also be validated for formatting Email is not validated on our side either In general we are assuming youve done the data validation on your side and adding more would gum up the works Photo is the urlpath to the users photo and is optional Roles consist of a commaseparated list of exact name matches to existing roles on your forum and is optional eg MemberMVPSupport"}]
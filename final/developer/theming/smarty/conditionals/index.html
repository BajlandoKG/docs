<div class="docs-header">
    
    <div class="docs-header-logo">
        <a href="/">
            <img class="logo" src="/img/logo.svg" alt="Vanilla Forums" width="102" height="41" /> Docs
        </a>
    </div>
    
    <div class="docs-header-cta">
        <a href="http://pages.vanillaforums.com/free-trial-of-vanilla-forums" class="Button Primary Small">Free trial</a>
    </div>
    
    <div class="docs-header-search">
    Search
</div>
    
</div>


<div class="docs-title">
    <h1 class="docs-page-title">Smarty Conditionals</h1>
    <div class="docs-page docs-improve">
        <i class="fa fa-pencil">Improve this document</i>
    </div>
</div>


<h2 id="smarty-conditionals">Smarty Conditionals</h2>

<p>Smarty includes a base amount of logic that you can insert into your template. One of these is a conditional statement. A couple of basic examples should give you an idea of the syntax and format of Smarty conditionals.</p>

<p>This example uses the user data from the controller&rsquo;s data array to print out a welcome message if the user is signed in and a generic message if the user is not signed in. <a href="../#accessing-controller-data-with-smarty">Learn more about accessing the controller&rsquo;s data array using Smarty.</a></p>

<pre><code>{if $User.SignedIn}
    &lt;h3&gt;Welcome Back!&lt;/h3&gt;
{else}
    &lt;h3&gt;Hello Stranger!&lt;/h3&gt;
{/if}
</code></pre>

<p>This example checks to see if the locale matches &lsquo;fr&rsquo; and if so, inserts the contents a pocket named &lsquo;French Pocket&rsquo;. <a href="/functions/pocket.html.md">Learn more about the Smarty pocket function.</a></p>

<pre><code>{if $CurrentLocale.Lang === 'fr'}
    {pocket name='French Pocket'}
{/if}
</code></pre>

<p>The following PHP internal functions are available for use in Smarty if statements: array, list, isset, empty, count, sizeof, in_array, is_array, true, false, and null. We&rsquo;ve also whitelisted some PHP functions in Vanilla that can be used in Smarty if statements. The most useful of these functions are outlined below.</p>

<h3 id="category">Category</h3>

<p>Returns an array representing the current category.</p>

<h4 id="category-example">Category Example</h4>

<p>This example prints out a message if the user is browsing a page in the &ldquo;General&rdquo; category. Also uses the GetValue function, outlined below.</p>

<pre><code>{if GetValue('Name', Category()) === 'General'}
    &lt;p&gt;You're checking out content in the General category!&lt;/p&gt;
{/if}
</code></pre>

<h3 id="checkpermission">CheckPermission</h3>

<p>Tests whether the current user has the passed permission or array of permissions and returns true if the current user has one of the given permission(s).</p>

<h4 id="checkpermission-example">CheckPermission Example</h4>

<p>This example checks whether the user has either the &ldquo;Garden.Settings.Manage&rdquo; or &ldquo;Garden.Settings.View&rdquo; permission and if so, adds a link to the dashboard.</p>

<pre><code>{if CheckPermission(array('Garden.Settings.Manage', 'Garden.Settings.View'))}
    {dashboard_link}
{/if}
</code></pre>

<h3 id="insection">InSection</h3>

<p>Returns true if the user is in a section or one of an array or sections. You can see what section a Vanilla page belongs to by inspecting the body tag using your browser tools and checking its CSS class. There will be an Section-* class, where * is the current section.</p>

<h4 id="insection-example">InSection Example</h4>

<p>This example checks whether the user is in either the Profile, Conversation or ActivityList section and if so, adds the panel asset.</p>

<pre><code>{if InSection(array('Profile', 'Conversation', 'ActivityList'))}
    {asset name=&quot;Panel&quot;}
{/if}
</code></pre>

<h3 id="incategory">InCategory</h3>

<p>Given a category&rsquo;s url code, returns true if the user is on a page in that category. You can manage the url codes of your forum&rsquo;s categories from the Manage Categories page in the dashboard.</p>

<h4 id="incategory-example">InCategory Example</h4>

<p>This example prints out a message if the user is browsing a page in a category with the url code &lsquo;general-category&rsquo;.</p>

<pre><code>{if InCategory('general-category')}
    &lt;p&gt;You're checking out content in the General category!&lt;/p&gt;
{/if}
</code></pre>

<h3 id="getvalue">GetValue</h3>

<p>Given an array key or property name, returns its value from an associative array or an object.</p>

<h4 id="getvalue-example">GetValue Example</h4>

<p>See the [Category example](&lsquo;#category-example&rsquo;) above.</p>

<h3 id="other-conditional-functions">Other conditional functions</h3>

<p>There are a few other (less useful) functions that can be used in conditional statements in Vanilla&rsquo;s Smarty implementation. These are MultiCheckPermission, SetValue and Url. These function declarations are in <code>/library/core/functions.general.php</code>. To understand how to use these functions, refer to the source code there.</p>



<div class="docs-footer">
    <div class="docs-copyright">
        Copyright &copy 2009-2016 Vanilla Forums, Inc. All rights reserved.
    </div>
    <div class="docs-submenu">
        <ul>
            <li class="docs-submenu-item item-docs"><a href="http://docs.vanillaforums.com">Documentation</a></li>
            <li class="docs-submenu-item item-blog"><a href="https://blog.vanillaforums.com">Blog</a></li>
            <li class="docs-submenu-item item-cloud"><a href="https://vanillaforums.com">Cloud</a></li>
            <li class="docs-submenu-item item-community"><a href="https://vanillaforums.org/discussions">Community</a></li>
            <li class="docs-submenu-item item-github"><a href="https://github.com/vanilla/vanilla">GitHub</a></li>
            <li class="docs-submenu-item item-issues"><a href="https://github.com/vanilla/vanilla/issues">Issues</a></li>
        </ul>
    </div>
</div>
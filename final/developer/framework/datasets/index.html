<div class="docs-header">
    
    <div class="docs-header-logo">
        <a href="/">
            <img class="logo" src="/img/logo.svg" alt="Vanilla Forums" width="102" height="41" /> Docs
        </a>
    </div>
    
    <div class="docs-header-cta">
        <a href="http://pages.vanillaforums.com/free-trial-of-vanilla-forums" class="Button Primary Small">Free trial</a>
    </div>
    
    <div class="docs-header-search">
    Search
</div>
    
</div>


<div class="docs-title">
    <h1 class="docs-page-title">Datasets</h1>
    <div class="docs-page docs-improve">
        <i class="fa fa-pencil">Improve this document</i>
    </div>
</div>


<h2 id="datasets">Datasets</h2>

<p>The <code>Gdn_Dataset</code> object is a way to store data. Most of the time, this data is the result of a query to the database. When you use our <a href="/developers/framework/database">database object</a> (as you always should) to execute a database select query, it will return a dataset.</p>

<p>Here are a few commonly used methods you&rsquo;ll want to know about:</p>

<ul>
<li><code>count()</code> returns the number of records in the dataset.</li>
<li><code>firstRow()</code> returns the first record in the dataset.</li>
<li><code>resultArray()</code> returns an array of all the data in the dataset (often used directly in a <code>foreach</code> loop).</li>
</ul>

<p>Just as the database object is chainable, so is the dataset object. The database&rsquo;s <code>get()</code> method returns the resulting dataset object, so the two chain together seamlessly.</p>

<p>This example gets the number of records in the database matching a query:</p>

<pre><code>$howMany = Gdn::sql()
    -&gt;select('*')
    -&gt;from('GDN_SomeTable')
    -&gt;get() // Now it's a dataset!
    -&gt;count();
</code></pre>

<p>This example is a common construct for iterating thru records returned from a database:</p>

<pre><code>$users = Gdn::sql()
    -&gt;select('Name')
    -&gt;from('User')
    -&gt;where('CountComments', 1)
    -&gt;get();

foreach ($result-&gt;resultArray() as $user) {
	// Do something to each user with 1 comment.
}
</code></pre>

<p>Another use case for datasets is joining datasets together after separate database queries, which can result in better performance. This is simply done by adding data to the array or object dataset manually. See the <code>joinUsers()</code> method in the <code>UserModel</code> for one such example.</p>



<div class="docs-footer">
    <div class="docs-copyright">
        Copyright &copy 2009-2016 Vanilla Forums, Inc. All rights reserved.
    </div>
    <div class="docs-submenu">
        <ul>
            <li class="docs-submenu-item item-docs"><a href="http://docs.vanillaforums.com">Documentation</a></li>
            <li class="docs-submenu-item item-blog"><a href="https://blog.vanillaforums.com">Blog</a></li>
            <li class="docs-submenu-item item-cloud"><a href="https://vanillaforums.com">Cloud</a></li>
            <li class="docs-submenu-item item-community"><a href="https://vanillaforums.org/discussions">Community</a></li>
            <li class="docs-submenu-item item-github"><a href="https://github.com/vanilla/vanilla">GitHub</a></li>
            <li class="docs-submenu-item item-issues"><a href="https://github.com/vanilla/vanilla/issues">Issues</a></li>
        </ul>
    </div>
</div>
<div class="docs-header">
    
    <div class="docs-header-logo">
        <a href="/">
            <img class="logo" src="/img/logo.svg" alt="Vanilla Forums" width="102" height="41" /> Docs
        </a>
    </div>
    
    <div class="docs-header-cta">
        <a href="http://pages.vanillaforums.com/free-trial-of-vanilla-forums" class="Button Primary Small">Free trial</a>
    </div>
    
    <div class="docs-header-search">
    Search
</div>
    
</div>


<div class="docs-title">
    <h1 class="docs-page-title">Using The Config</h1>
    <div class="docs-page docs-improve">
        <i class="fa fa-pencil">Improve this document</i>
    </div>
</div>


<h2 id="when-to-use-the-config">When to use the config</h2>

<p>Use the config for saving settings in your theme or plugin. You should only save small amounts of data to the config, and it should not be data that is changed frequently.</p>

<p>If you have large quantities of data or data that is written frequently, consider using the <a href="/developers/framework/database">database</a> instead.</p>

<h2 id="reading-from-config">Reading from config</h2>

<p>The <code>c</code> function is the appropriate shortcut for reading from the config. The first parameter is the name of the config value in <a href="/developers/configuration">dot notation</a>. The second is an optional default value to return if requested config setting is not defined.</p>

<p>Example:
<code>$Value = c('Name.Of.Setting', 'DefaultValue');</code></p>

<p>You can call a partial config key to get an array of all values below it in dot notation. For instance, say this was in your config:</p>

<pre><code class="language-php">$Configuration['Example']['Settings']['A'] = 1;
$Configuration['Example']['Settings']['B'] = 2;
</code></pre>

<p>Now calling <code>c('Examples.Settings');</code> will return <code>array('A'=&gt;1, 'B'=&gt;2)</code>.</p>

<h2 id="writing-to-config">Writing to config</h2>

<p>Save to the config with the <code>SaveToConfig</code> function. It takes the name of the config value, a new value to associate with it, and an optional options array. In the options array, you can pass the key <code>Save</code> with the value <code>FALSE</code> to make the config change only apply for this pageload.</p>

<p>Change a config setting permanently: <code>SaveToConfig('Name.Of.Setting', 'NewValue');</code></p>

<p>Change a config setting only for this pageload: <code>SaveToConfig('Name.Of.Setting', 'NewValue', array('Save' =&gt; FALSE));</code></p>

<p>Simply passing the value <code>FALSE</code> in place of the options array has the same effect as passing <code>array('Save' =&gt; FALSE)</code>.</p>

<aside class="warning">Do not used numeric-key arrays as config values. Associative arrays are fine.</aside>

<h2 id="configuration-module">Configuration module</h2>

<p>We&rsquo;ve created a shortcut for making simple settings pages using the <code>ConfigurationModule</code>.</p>

<p>The configuration module can be instantiated and rendered from any plugin. You <code>Initialize</code> it with an array of config values, each of which has its own array of properties to define it (type of field, label, default, etc). See <code>applications/dashboard/modules/class.configurationmodule.php</code> for details.</p>

<p>This is how the Akismet plugin uses the ConfigurationModule to build a simple settings page consisting of a text field and a dropdown:</p>

<pre><code class="language-php">$Cf = new ConfigurationModule($Sender);
$Cf-&gt;Initialize(array(
    'Plugins.Akismet.Key' =&gt; array('Description' =&gt; $KeyDesc),
    'Plugins.Akismet.Server' =&gt; array('Description' =&gt; 'You can use either Akismet or TypePad antispam.', 'Control' =&gt; 'DropDown', 'Items' =&gt; array('' =&gt; 'Aksimet', 'api.antispam.typepad.com' =&gt; 'TypePad', 'DefaultValue' =&gt; ''))
));
$Cf-&gt;RenderAll();
</code></pre>

<p>That&rsquo;s all there is to it - no custom view is involved.</p>



<div class="docs-footer">
    <div class="docs-copyright">
        Copyright &copy 2009-2016 Vanilla Forums, Inc. All rights reserved.
    </div>
    <div class="docs-submenu">
        <ul>
            <li class="docs-submenu-item item-docs"><a href="http://docs.vanillaforums.com">Documentation</a></li>
            <li class="docs-submenu-item item-blog"><a href="https://blog.vanillaforums.com">Blog</a></li>
            <li class="docs-submenu-item item-cloud"><a href="https://vanillaforums.com">Cloud</a></li>
            <li class="docs-submenu-item item-community"><a href="https://vanillaforums.org/discussions">Community</a></li>
            <li class="docs-submenu-item item-github"><a href="https://github.com/vanilla/vanilla">GitHub</a></li>
            <li class="docs-submenu-item item-issues"><a href="https://github.com/vanilla/vanilla/issues">Issues</a></li>
        </ul>
    </div>
</div>
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Vanilla Forums, create an online community that your customers will love">
        <meta name="author" content="Vanilla Community">

        <title>Vanilla Forums Documentation</title>
        
        <link href="//vanilla.github.io/docs/css/docs.css" rel="stylesheet">
        <link href="//vanilla.github.io/docs/css/fonts/fontawesome/css/font-awesome.min.css" rel="stylesheet">
        
        <script src="//vanilla.github.io/docs/js/vendor/jquery-3.0.0.min.js"></script>
        <script src="//vanilla.github.io/docs/js/vendor/jquery.store.js"></script>
        <script src="//vanilla.github.io/docs/js/lunr-index.json" id="search-manifest" type="application/json"></script>
        <script src="//vanilla.github.io/docs/js/vendor/lunr.js"></script>
        <script src="//vanilla.github.io/docs/js/search.js"></script>
        
        <link rel="shortcut icon" href="//vanilla.github.io/docs/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="//vanilla.github.io/docs/apple-touch-icon.png" />
        <style type="text/css">
            .callout {
                table-layout: fixed;
            }
        </style>
    </head>

    <body class="docs grid docs-layout-single docs-layout-section-developer">
        
        <header class="docs-header">
    
    <div class="row">

        <div class="column column-4">
            
            <a class="vertical-group docs-header-logo" href="//vanilla.github.io/docs/">
                <img class="logo" src="//vanilla.github.io/docs/img/logo.svg" alt="Vanilla Forums" width="102" height="41" />
                <span class="docs-docs-tag">Docs</span>
            </a>
            
        </div>
        
        <div class="column column-8">
            <div class="vertical-group docs-header-tray">
                <div class="docs-header-search js-search">
    <div class="docs-search-wrap">
        <i class="fa fa-search" ></i>
        <input class="docs-search js-search-input" id="docs-search" />
    </div>
    <ul class="docs-search-results js-search-results">
        <a>
            <li>
                <span class="title"></span>
                <span class="tags"></span>
            </li>
        </a>
    </ul>
</div>
                <div class="docs-cta">
    <a href="http://pages.vanillaforums.com/demo-request-vanilla-forums?utm_source=vanilladocs&utm_medium=cta&utm_campaign=demo-request" class="docs-button button-primary button-small">Request a Demo</a>
</div>
            </div>
        </div>

    </div>

</header>
        
        <div class="docs-title-wrapper">
            <div class="row">
                <div class="column column-3"></div>
                <div id="title" class="column column-9">
                    <div class="docs-title">
    <h1>Datasets</h1>
    
    <div class="docs-page docs-improve">
          <a href="https://github.com/vanilla/docs/edit/master/content/developer/framework/datasets.md"><i class="fa fa-pencil"></i>Improve this document</a>
    </div>
    
</div>
                </div>
            </div>
        </div>
        

<div class="docs-content">
    <div class="row">
        <div id="nav" class="column column-3">
            <aside id="sidebar">
    <div class="docs-nav nav-collapse">
        
        <ul class="sidebar-menu nav-tier1">




    <li  class="">
        <a href="//vanilla.github.io/docs/developer/backend/">Backend</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/changelog/">Changelog</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/community/">Community</a>
    </li>
    
    
	    


    <li  class=" nest">
        <a href="//vanilla.github.io/docs/developer/configuration/">Configuration</a>
    </li>
    
    
	    


    <li  class=" nest">
        <a href="//vanilla.github.io/docs/developer/contributing/">Contributing</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/data-privacy/">Data privacy</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/tools/">Developer Tools</a>
    </li>
    
    
	    


    <li  class="active nest">
        <a href="//vanilla.github.io/docs/developer/framework/">Framework</a>
    </li>
    
    
        
        
        
        
            <ul class="nav-tier2">
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/assets/">Assets </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/controllers/">Controllers &amp; URLs </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/database/">Database access </a>
                </li>
                
                

	    
	    
                <li class="active">
                    <a href="//vanilla.github.io/docs/developer/framework/datasets/">Datasets </a>
                </li>
                
                
                    
                    
               
                    
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/email/">Email </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/helpers/">Helpers </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/inform/">Inform Messages </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/i18n/">Internationalization &amp; Localization </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/models/">Models, Forms, &amp; Validation </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/modules/">Modules </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/permissions/">Permissions </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/requests/">Requests </a>
                </li>
                
                

	    
	    
                <li class="">
                    <a href="//vanilla.github.io/docs/developer/framework/views/">Views </a>
                </li>
                
                

	    </ul>
        
    
	    


    <li  class=" nest">
        <a href="//vanilla.github.io/docs/developer/importing/">Importing</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/installation/">Installation</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/locales/">Locales</a>
    </li>
    
    
	    


    <li  class=" nest">
        <a href="//vanilla.github.io/docs/developer/plugins/">Plugins</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/routes/">Routes</a>
    </li>
    
    
	    


    <li  class=" nest">
        <a href="//vanilla.github.io/docs/developer/theming/">Theming</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//vanilla.github.io/docs/developer/troubleshooting/">Troubleshooting</a>
    </li>
    
    
	    



        </ul>
        
    </div>
</aside>
        </div>

        <div id="content" class="column column-9">

            

                

<h2 id="datasets">Datasets</h2>

<p>The <code>Gdn_Dataset</code> object is a way to store data. Most of the time, this data is the result of a query to the database. When you use our <a href="//vanilla.github.io/docs/developer/framework/database">database object</a> (as you always should) to execute a database select query, it will return a dataset.</p>

<p>Here are a few commonly used methods you&rsquo;ll want to know about:</p>

<ul>
<li><code>count()</code> returns the number of records in the dataset.</li>
<li><code>firstRow()</code> returns the first record in the dataset.</li>
<li><code>resultArray()</code> returns an array of all the data in the dataset (often used directly in a <code>foreach</code> loop).</li>
</ul>

<p>Just as the database object is chainable, so is the dataset object. The database&rsquo;s <code>get()</code> method returns the resulting dataset object, so the two chain together seamlessly.</p>

<p>This example gets the number of records in the database matching a query:</p>

<pre><code>$howMany = Gdn::sql()
    -&gt;select('*')
    -&gt;from('GDN_SomeTable')
    -&gt;get() // Now it's a dataset!
    -&gt;count();
</code></pre>

<p>This example is a common construct for iterating thru records returned from a database:</p>

<pre><code>$users = Gdn::sql()
    -&gt;select('Name')
    -&gt;from('User')
    -&gt;where('CountComments', 1)
    -&gt;get();

foreach ($result-&gt;resultArray() as $user) {
	// Do something to each user with 1 comment.
}
</code></pre>

<p>Another use case for datasets is joining datasets together after separate database queries, which can result in better performance. This is simply done by adding data to the array or object dataset manually. See the <code>joinUsers()</code> method in the <code>UserModel</code> for one such example.</p>


            
            
        </div>
    </div>
</div>

        
        <div class="docs-platform">
    
    <div class="row">
    
        <div class="column column-6">
            <div class="docs-platform-choice choice-cloud">
                <h3>Cloud Hosted</h3>
                <p>
                    <b>We believe that online communities should be intuitive, engaging and true to your brand.</b> Vanilla allows you to create a customized community that rewards positive participation, automatically curates content and lets members drive moderation.
                </p>
                <p>
                    <a href="https://vanillaforums.com">Learn more</a>
                </p>
            </div>
        </div>
        <div class="column column-6">
            <div class="docs-platform-choice choice-oss">
                <h3>Open Source</h3>
                <p>
                    Vanilla provides cloud and open source community forum software that powers discussion forums on more than 700,000 sites. Built for flexibility and integration, <b>Vanilla is the best, most powerful community solution in the world.</b>
                </p>
                <p>
                    <a href="https://vanillaforums.org">Learn more</a>
                </p>
            </div>
        </div>
        
    </div>
    
</div>
        
        <footer class="docs-footer">
    
    <div class="row">
        
        <div class="column column-6">
            <div class="docs-copyright">
    Copyright &copy 2009-2016 Vanilla Forums, Inc. All rights reserved.
</div>
        </div>
        
        <div class="column column-6">
            <div class="docs-links">
    <a class="docs-links-item item-docs" href="http://docs.vanillaforums.com">Documentation</a>
    <a class="docs-links-item item-blog" href="https://blog.vanillaforums.com">Blog</a>
    <a class="docs-links-item item-cloud" href="https://vanillaforums.com">Cloud</a>
    <a class="docs-links-item item-community" href="https://vanillaforums.org/discussions">Community</a>
    <a class="docs-links-item item-github" href="https://github.com/vanilla/vanilla">GitHub</a>
    <a class="docs-links-item item-issues" href="https://github.com/vanilla/vanilla/issues">Issues</a>
</div>
        </div>
        
    </div>
</footer>
        
    </body>
    
</html>
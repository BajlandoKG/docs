<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Vanilla Forums, create an online community that your customers will love">
        <meta name="author" content="Vanilla Community">

        <title>Vanilla Forums Documentation</title>
        
        <link href="//docs.vanillaforums.com/css/docs.css" rel="stylesheet">
        <link href="//docs.vanillaforums.com/css/fonts/fontawesome/css/font-awesome.min.css" rel="stylesheet">
        
        <script src="//docs.vanillaforums.com/js/vendor/jquery-3.0.0.min.js"></script>
        <script src="//docs.vanillaforums.com/js/vendor/jquery.store.js"></script>
        <script src="//docs.vanillaforums.com/js/lunr-index.json" id="search-manifest" type="application/json"></script>
        <script src="//docs.vanillaforums.com/js/vendor/lunr.js"></script>
        <script src="//docs.vanillaforums.com/js/search.js"></script>
        
        <link rel="shortcut icon" href="//docs.vanillaforums.com/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="//docs.vanillaforums.com/apple-touch-icon.png" />
        <style type="text/css">
            .callout {
                table-layout: fixed;
            }
        </style>
    </head>

    <body class="docs grid docs-layout-single docs-layout-section-api">
        
        <header class="docs-header">
    
    <div class="row">

        <div class="column column-4">
            
            <a class="vertical-group docs-header-logo" href="//docs.vanillaforums.com/">
                <img class="logo" src="//docs.vanillaforums.com/img/logo.svg" alt="Vanilla Forums" width="102" height="41" />
                <span class="docs-docs-tag">API Docs</span>
            </a>
            
        </div>
        
        <div class="column column-8">
            <div class="vertical-group docs-header-tray">
                <div class="docs-header-search js-search">
    <div class="docs-search-wrap">
        <i class="fa fa-search" ></i>
        <input class="docs-search js-search-input" id="docs-search" />
    </div>
    <ul class="docs-search-results js-search-results">
        <a>
            <li>
                <span class="title"></span>
                <span class="tags"></span>
            </li>
        </a>
    </ul>
</div>
                <div class="docs-cta">
    <a href="http://pages.vanillaforums.com/demo-request-vanilla-forums?utm_source=vanilladocs&utm_medium=cta&utm_campaign=demo-request" class="docs-button button-primary button-small">Request a Demo</a>
</div>
            </div>
        </div>

    </div>

</header>
        
        <div class="docs-title-wrapper">
            <div class="row">
                <div class="column column-3"></div>
                <div id="title" class="column column-9">
                    <div class="docs-title">
    <h1>Vanilla API</h1>
    
    <div class="docs-page docs-improve">
          <a href="https://github.com/vanilla/docs/edit/master/content/api/index.md"><i class="fa fa-pencil"></i>Improve this document</a>
    </div>
    
</div>
                </div>
            </div>
        </div>
        

<div class="docs-content">
    <div class="row">
        <div id="nav" class="column column-3">
            <aside id="sidebar">
    <div class="docs-nav nav-collapse">
        
        <ul class="sidebar-menu nav-tier1">




    <li  class="">
        <a href="//docs.vanillaforums.com/api/smart-id/">Smart ID</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/use-api-on-external-site/">Use API on External Sites</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/forum-administration/">Forum Administration</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/categories/">Endpoint: categories</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/discussions/">Endpoint: discussions</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/comments/">Endpoint: comments</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/roles/">Endpoint: roles</a>
    </li>
    
    
	    


    <li  class="">
        <a href="//docs.vanillaforums.com/api/multisites/">Endpoint: multisites</a>
    </li>
    
    
	    



        </ul>
        
    </div>
</aside>
        </div>

        <div id="content" class="column column-9">

            

                

<p>Vanilla has had a read-only ReSTful API for some time, but until now, no formal way to access any write methods. This all changes with Simple API. Now developers can access Vanilla’s write methods using an access_token configured in the dashboard.</p>

<h2 id="configuring-simple-api">Configuring Simple API</h2>

<p>Simple API is a plugin. Once you&rsquo;ve enabled the plugin you’ll see a new link in your dashboard called &ldquo;API&rdquo;. This page allows forum owners to set the access token, define a user account that will be used for API access, and determine whether API calls are allowed over HTTP and HTTPS, or just HTTPS.</p>

<h3 id="access-token">Access Token</h3>

<p>The access token is like a password for accessing the API from outside of Vanilla. A suitable token is randomly generated for you when the plugin is first loaded, but you can change it at any time. Changing the token will necessarily invalidate the existing one, so remember to update existing projects if they use the API. Remember though: this token is a kind of password, so make sure it is long and complex, just like the initial token that we pre-filled for you.</p>

<h3 id="user">User</h3>

<p>When an API call is made, your access token confirms that you are authorized to make API calls, but we need some way to determine what level of access to give the API once you’re authenticated. We do this by &ldquo;logging you in&rdquo; temporarily as the user you specify here. The API session will inherit all of this user&rsquo;s permissions and will have the same level of access as this user. By default, we use the Vanilla System User, who has unrestricted administrative access.</p>

<h3 id="security">Security</h3>

<p>Considering that the API gives unprecedented access to Vanilla’s data, it is prudent to be concerned with security. For this reason you have the option to ignore API requests that are not secured by HTTPS. HTTPS encrypts the connection, including the request URL, thereby preventing potential hackers from seeing your access token in request URLs. <strong>This setting is highly recommended, but not required</strong>.</p>

<h2 id="making-api-calls">Making API Calls</h2>

<p>All API calls should be made against your forum&rsquo;s &ldquo;Vanilla URL&rdquo;, for example: <code>https://mycompany.vanillaforums.com</code></p>

<h3 id="versioned-endpoint">Versioned Endpoint</h3>

<pre><code class="language-http"># Example of versioned endpoint
https://mycompany.vanillaforums.com/api/v1/categories/list.ext
</code></pre>

<p>The Vanilla API is versioned to allow backwards compatibility during upgrades. <strong>API requests should always be made with a version stub</strong>.</p>

<h3 id="get-vs-post"><code>GET</code> vs. <code>POST</code></h3>

<p>Calls to the API are strictly separated by HTTP request type. Requests for data (which do not cause modifications) are done using <code>GET</code>, while changes and updates are done using <code>POST</code>. When reading the documentation for a method, make sure to take note of its expected request type.</p>

<h3 id="wire-format">Wire Format</h3>

<p>Regardless of the request type, the <code>access_token</code> should always be supplied in the query string:</p>

<pre><code class="language-http">GET /categories/all.json?access_token=abc123 HTTP/1.1
Host: mycompany.vanillaforums.com
</code></pre>

<p>The above request will yield the following response:</p>

<pre><code class="language-http">HTTP/1.1 200 OK
Date: Tue, 19 Jul 2012 19:50:02 GMT
Content-Type: application/json
Vary: Accept-Encoding
Content-Length: 90
Connection: close
</code></pre>

<h3 id="api-smart-ids">API Smart IDs</h3>

<p>Some API methods ask require a user ID for one or more of their parameters. Sometimes it&rsquo;s difficult to know what their user ID is so the Vanilla API can look up the user if you pass the user in a special way. This is referred to as a smart ID and you can read about it here.</p>

<h3 id="request-encoding">Request Encoding</h3>

<p>By default, the API expects incoming request data to be <code>application/x-www-form-urlencoded</code>. If no <code>Content-Type</code> is provided, this will be assumed. It is also possible to alter this behaviour and cause the API to parse a JSON-encoded request body by setting the <code>Content-Type</code> to <code>application/json</code>.</p>

<h3 id="response-encoding">Response Encoding</h3>

<p>The data encoding of the response is determined by the file extension attached to the request&rsquo;s method. In the above example, the controller name is categories and the method is all. The file extension on the method is <code>.json</code>, which will result in JSON encoded data being returned. If the request is being made to the controller&rsquo;s root method, index, the method may be omitted and the file extension may be applied to the controller instead.</p>

<h3 id="recognized-file-extensions">Recognized file extensions</h3>

<table>
<thead>
<tr>
<th>Extension</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>.json</code></td>
<td>JSON encoded response</td>
</tr>

<tr>
<td><code>.xml</code></td>
<td>XML encoded response</td>
</tr>

<tr>
<td>No extension</td>
<td>XHTML response, suitable for user interface</td>
</tr>
</tbody>
</table>

<h2 id="response-codes">Response Codes</h2>

<p>Generally, if an API request is successful it will return the standard response code of  <code>200</code>. You can check for this response code. If you get an error code (<code>4xx</code>-<code>5xx</code>) then you can check the <code>Exception</code> property of the response some error text that will help you to determine what went wrong.</p>


            
            
        </div>
    </div>
</div>

        
        <div class="docs-platform">
    
    <div class="row">
    
        <div class="column column-3"></div>
        <div class="column column-9">
            <div class="docs-platform-choice choice-cloud">
                
                <img src="//docs.vanillaforums.com/img/cloud-hosting.png" />
                <div class="choice-details">
                    <h3>Cloud Hosting</h3>
                    <p>
                        We believe that online communities should be intuitive, engaging and true to your brand.
                    </p>
                </div>
                <a href="https://vanillaforums.com" class="docs-button button-outline">Learn more</a>
                
            </div>
        </div>

    </div>
    
</div>
        
        <footer class="docs-footer">
    
    <div class="row">
        
        <div class="column column-6">
            <div class="docs-copyright">
    Copyright &copy 2009-2017 Vanilla Forums, Inc. All rights reserved.
</div>
        </div>
        
        <div class="column column-6">
            <div class="docs-links">
    <a class="docs-links-item item-docs" href="http://docs.vanillaforums.com">Documentation</a>
    <a class="docs-links-item item-blog" href="https://blog.vanillaforums.com">Blog</a>
    <a class="docs-links-item item-cloud" href="https://vanillaforums.com">Cloud</a>
    <a class="docs-links-item item-community" href="https://vanillaforums.org/discussions">Community</a>
    <a class="docs-links-item item-api" href="http://docs.vanillaforums.com/api">API</a>
    <a class="docs-links-item item-github" href="https://github.com/vanilla/vanilla">GitHub</a>
    <a class="docs-links-item item-issues" href="https://github.com/vanilla/vanilla/issues">Issues</a>
</div>
        </div>
        
    </div>
</footer>
        
    </body>
    
</html>